(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function nu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Io={exports:{}},Li={},Po={exports:{}},O={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Er=Symbol.for("react.element"),ru=Symbol.for("react.portal"),iu=Symbol.for("react.fragment"),au=Symbol.for("react.strict_mode"),su=Symbol.for("react.profiler"),lu=Symbol.for("react.provider"),ou=Symbol.for("react.context"),cu=Symbol.for("react.forward_ref"),du=Symbol.for("react.suspense"),uu=Symbol.for("react.memo"),hu=Symbol.for("react.lazy"),gl=Symbol.iterator;function pu(e){return e===null||typeof e!="object"?null:(e=gl&&e[gl]||e["@@iterator"],typeof e=="function"?e:null)}var qo={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lo=Object.assign,Ro={};function In(e,t,n){this.props=e,this.context=t,this.refs=Ro,this.updater=n||qo}In.prototype.isReactComponent={};In.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};In.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ao(){}Ao.prototype=In.prototype;function vs(e,t,n){this.props=e,this.context=t,this.refs=Ro,this.updater=n||qo}var ws=vs.prototype=new Ao;ws.constructor=vs;Lo(ws,In.prototype);ws.isPureReactComponent=!0;var yl=Array.isArray,zo=Object.prototype.hasOwnProperty,bs={current:null},Do={key:!0,ref:!0,__self:!0,__source:!0};function $o(e,t,n){var r,a={},s=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(s=""+t.key),t)zo.call(t,r)&&!Do.hasOwnProperty(r)&&(a[r]=t[r]);var c=arguments.length-2;if(c===1)a.children=n;else if(1<c){for(var o=Array(c),d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)a[r]===void 0&&(a[r]=c[r]);return{$$typeof:Er,type:e,key:s,ref:l,props:a,_owner:bs.current}}function mu(e,t){return{$$typeof:Er,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _s(e){return typeof e=="object"&&e!==null&&e.$$typeof===Er}function fu(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xl=/\/+/g;function Ki(e,t){return typeof e=="object"&&e!==null&&e.key!=null?fu(""+e.key):t.toString(36)}function Kr(e,t,n,r,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Er:case ru:l=!0}}if(l)return l=e,a=a(l),e=r===""?"."+Ki(l,0):r,yl(a)?(n="",e!=null&&(n=e.replace(xl,"$&/")+"/"),Kr(a,t,n,"",function(d){return d})):a!=null&&(_s(a)&&(a=mu(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(xl,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=r===""?".":r+":",yl(e))for(var c=0;c<e.length;c++){s=e[c];var o=r+Ki(s,c);l+=Kr(s,t,n,o,a)}else if(o=pu(e),typeof o=="function")for(e=o.call(e),c=0;!(s=e.next()).done;)s=s.value,o=r+Ki(s,c++),l+=Kr(s,t,n,o,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function qr(e,t,n){if(e==null)return e;var r=[],a=0;return Kr(e,r,"","",function(s){return t.call(n,s,a++)}),r}function gu(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _e={current:null},Xr={transition:null},yu={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:Xr,ReactCurrentOwner:bs};function Oo(){throw Error("act(...) is not supported in production builds of React.")}O.Children={map:qr,forEach:function(e,t,n){qr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qr(e,function(){t++}),t},toArray:function(e){return qr(e,function(t){return t})||[]},only:function(e){if(!_s(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};O.Component=In;O.Fragment=iu;O.Profiler=su;O.PureComponent=vs;O.StrictMode=au;O.Suspense=du;O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yu;O.act=Oo;O.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Lo({},e.props),a=e.key,s=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,l=bs.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(o in t)zo.call(t,o)&&!Do.hasOwnProperty(o)&&(r[o]=t[o]===void 0&&c!==void 0?c[o]:t[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){c=Array(o);for(var d=0;d<o;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:Er,type:e.type,key:a,ref:s,props:r,_owner:l}};O.createContext=function(e){return e={$$typeof:ou,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lu,_context:e},e.Consumer=e};O.createElement=$o;O.createFactory=function(e){var t=$o.bind(null,e);return t.type=e,t};O.createRef=function(){return{current:null}};O.forwardRef=function(e){return{$$typeof:cu,render:e}};O.isValidElement=_s;O.lazy=function(e){return{$$typeof:hu,_payload:{_status:-1,_result:e},_init:gu}};O.memo=function(e,t){return{$$typeof:uu,type:e,compare:t===void 0?null:t}};O.startTransition=function(e){var t=Xr.transition;Xr.transition={};try{e()}finally{Xr.transition=t}};O.unstable_act=Oo;O.useCallback=function(e,t){return _e.current.useCallback(e,t)};O.useContext=function(e){return _e.current.useContext(e)};O.useDebugValue=function(){};O.useDeferredValue=function(e){return _e.current.useDeferredValue(e)};O.useEffect=function(e,t){return _e.current.useEffect(e,t)};O.useId=function(){return _e.current.useId()};O.useImperativeHandle=function(e,t,n){return _e.current.useImperativeHandle(e,t,n)};O.useInsertionEffect=function(e,t){return _e.current.useInsertionEffect(e,t)};O.useLayoutEffect=function(e,t){return _e.current.useLayoutEffect(e,t)};O.useMemo=function(e,t){return _e.current.useMemo(e,t)};O.useReducer=function(e,t,n){return _e.current.useReducer(e,t,n)};O.useRef=function(e){return _e.current.useRef(e)};O.useState=function(e){return _e.current.useState(e)};O.useSyncExternalStore=function(e,t,n){return _e.current.useSyncExternalStore(e,t,n)};O.useTransition=function(){return _e.current.useTransition()};O.version="18.3.1";Po.exports=O;var I=Po.exports;const xu=nu(I);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=I,wu=Symbol.for("react.element"),bu=Symbol.for("react.fragment"),_u=Object.prototype.hasOwnProperty,Nu=vu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ju={key:!0,ref:!0,__self:!0,__source:!0};function Ho(e,t,n){var r,a={},s=null,l=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)_u.call(t,r)&&!ju.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:wu,type:e,key:s,ref:l,props:a,_owner:Nu.current}}Li.Fragment=bu;Li.jsx=Ho;Li.jsxs=Ho;Io.exports=Li;var i=Io.exports,Wo={exports:{}},Re={},Fo={exports:{}},Bo={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,q){var A=M.length;M.push(q);e:for(;0<A;){var Q=A-1>>>1,ie=M[Q];if(0<a(ie,q))M[Q]=q,M[A]=ie,A=Q;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var q=M[0],A=M.pop();if(A!==q){M[0]=A;e:for(var Q=0,ie=M.length,en=ie>>>1;Q<en;){var Je=2*(Q+1)-1,Dn=M[Je],it=Je+1,tn=M[it];if(0>a(Dn,A))it<ie&&0>a(tn,Dn)?(M[Q]=tn,M[it]=A,Q=it):(M[Q]=Dn,M[Je]=A,Q=Je);else if(it<ie&&0>a(tn,A))M[Q]=tn,M[it]=A,Q=it;else break e}}return q}function a(M,q){var A=M.sortIndex-q.sortIndex;return A!==0?A:M.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var o=[],d=[],p=1,g=null,h=3,u=!1,y=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(M){for(var q=n(d);q!==null;){if(q.callback===null)r(d);else if(q.startTime<=M)r(d),q.sortIndex=q.expirationTime,t(o,q);else break;q=n(d)}}function w(M){if(v=!1,x(M),!y)if(n(o)!==null)y=!0,$(j);else{var q=n(d);q!==null&&fe(w,q.startTime-M)}}function j(M,q){y=!1,v&&(v=!1,m(T),T=-1),u=!0;var A=h;try{for(x(q),g=n(o);g!==null&&(!(g.expirationTime>q)||M&&!me());){var Q=g.callback;if(typeof Q=="function"){g.callback=null,h=g.priorityLevel;var ie=Q(g.expirationTime<=q);q=e.unstable_now(),typeof ie=="function"?g.callback=ie:g===n(o)&&r(o),x(q)}else r(o);g=n(o)}if(g!==null)var en=!0;else{var Je=n(d);Je!==null&&fe(w,Je.startTime-q),en=!1}return en}finally{g=null,h=A,u=!1}}var N=!1,E=null,T=-1,H=5,z=-1;function me(){return!(e.unstable_now()-z<H)}function Fe(){if(E!==null){var M=e.unstable_now();z=M;var q=!0;try{q=E(!0,M)}finally{q?Xe():(N=!1,E=null)}}else N=!1}var Xe;if(typeof f=="function")Xe=function(){f(Fe)};else if(typeof MessageChannel<"u"){var Dt=new MessageChannel,_=Dt.port2;Dt.port1.onmessage=Fe,Xe=function(){_.postMessage(null)}}else Xe=function(){C(Fe,0)};function $(M){E=M,N||(N=!0,Xe())}function fe(M,q){T=C(function(){M(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){y||u||(y=!0,$(j))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var q=3;break;default:q=h}var A=h;h=q;try{return M()}finally{h=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,q){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var A=h;h=M;try{return q()}finally{h=A}},e.unstable_scheduleCallback=function(M,q,A){var Q=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?Q+A:Q):A=Q,M){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=A+ie,M={id:p++,callback:q,priorityLevel:M,startTime:A,expirationTime:ie,sortIndex:-1},A>Q?(M.sortIndex=A,t(d,M),n(o)===null&&M===n(d)&&(v?(m(T),T=-1):v=!0,fe(w,A-Q))):(M.sortIndex=ie,t(o,M),y||u||(y=!0,$(j))),M},e.unstable_shouldYield=me,e.unstable_wrapCallback=function(M){var q=h;return function(){var A=h;h=q;try{return M.apply(this,arguments)}finally{h=A}}}})(Bo);Fo.exports=Bo;var ku=Fo.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=I,Le=ku;function k(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vo=new Set,dr={};function Jt(e,t){jn(e,t),jn(e+"Capture",t)}function jn(e,t){for(dr[e]=t,e=0;e<t.length;e++)Vo.add(t[e])}var ut=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Na=Object.prototype.hasOwnProperty,Cu=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vl={},wl={};function Eu(e){return Na.call(wl,e)?!0:Na.call(vl,e)?!1:Cu.test(e)?wl[e]=!0:(vl[e]=!0,!1)}function Tu(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Mu(e,t,n,r){if(t===null||typeof t>"u"||Tu(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ne(e,t,n,r,a,s,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=l}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new Ne(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new Ne(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new Ne(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new Ne(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new Ne(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new Ne(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new Ne(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new Ne(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new Ne(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ns=/[\-:]([a-z])/g;function js(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ns,js);pe[t]=new Ne(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ns,js);pe[t]=new Ne(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ns,js);pe[t]=new Ne(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new Ne(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Ne("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new Ne(e,1,!1,e.toLowerCase(),null,!0,!0)});function ks(e,t,n,r){var a=pe.hasOwnProperty(t)?pe[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Mu(t,n,a,r)&&(n=null),r||a===null?Eu(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var ft=Su.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lr=Symbol.for("react.element"),sn=Symbol.for("react.portal"),ln=Symbol.for("react.fragment"),Ss=Symbol.for("react.strict_mode"),ja=Symbol.for("react.profiler"),Uo=Symbol.for("react.provider"),Qo=Symbol.for("react.context"),Cs=Symbol.for("react.forward_ref"),ka=Symbol.for("react.suspense"),Sa=Symbol.for("react.suspense_list"),Es=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),Yo=Symbol.for("react.offscreen"),bl=Symbol.iterator;function On(e){return e===null||typeof e!="object"?null:(e=bl&&e[bl]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,Xi;function Yn(e){if(Xi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Xi=t&&t[1]||""}return`
`+Xi+e}var Ji=!1;function Zi(e,t){if(!e||Ji)return"";Ji=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),s=r.stack.split(`
`),l=a.length-1,c=s.length-1;1<=l&&0<=c&&a[l]!==s[c];)c--;for(;1<=l&&0<=c;l--,c--)if(a[l]!==s[c]){if(l!==1||c!==1)do if(l--,c--,0>c||a[l]!==s[c]){var o=`
`+a[l].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=l&&0<=c);break}}}finally{Ji=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yn(e):""}function Iu(e){switch(e.tag){case 5:return Yn(e.type);case 16:return Yn("Lazy");case 13:return Yn("Suspense");case 19:return Yn("SuspenseList");case 0:case 2:case 15:return e=Zi(e.type,!1),e;case 11:return e=Zi(e.type.render,!1),e;case 1:return e=Zi(e.type,!0),e;default:return""}}function Ca(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ln:return"Fragment";case sn:return"Portal";case ja:return"Profiler";case Ss:return"StrictMode";case ka:return"Suspense";case Sa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qo:return(e.displayName||"Context")+".Consumer";case Uo:return(e._context.displayName||"Context")+".Provider";case Cs:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Es:return t=e.displayName||null,t!==null?t:Ca(e.type)||"Memo";case yt:t=e._payload,e=e._init;try{return Ca(e(t))}catch{}}return null}function Pu(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ca(t);case 8:return t===Ss?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Go(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qu(e){var t=Go(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rr(e){e._valueTracker||(e._valueTracker=qu(e))}function Ko(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Go(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ea(e,t){var n=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function _l(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Xo(e,t){t=t.checked,t!=null&&ks(e,"checked",t,!1)}function Ta(e,t){Xo(e,t);var n=qt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ma(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ma(e,t.type,qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Nl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ma(e,t,n){(t!=="number"||oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Gn=Array.isArray;function xn(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ia(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(k(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(k(92));if(Gn(n)){if(1<n.length)throw Error(k(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qt(n)}}function Jo(e,t){var n=qt(t.value),r=qt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Zo(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Zo(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ar,ec=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ar=Ar||document.createElement("div"),Ar.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ar.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ur(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var er={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lu=["Webkit","ms","Moz","O"];Object.keys(er).forEach(function(e){Lu.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),er[t]=er[e]})});function tc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||er.hasOwnProperty(e)&&er[e]?(""+t).trim():t+"px"}function nc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=tc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var Ru=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qa(e,t){if(t){if(Ru[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(k(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(k(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(k(61))}if(t.style!=null&&typeof t.style!="object")throw Error(k(62))}}function La(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ra=null;function Ts(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Aa=null,vn=null,wn=null;function Sl(e){if(e=Ir(e)){if(typeof Aa!="function")throw Error(k(280));var t=e.stateNode;t&&(t=$i(t),Aa(e.stateNode,e.type,t))}}function rc(e){vn?wn?wn.push(e):wn=[e]:vn=e}function ic(){if(vn){var e=vn,t=wn;if(wn=vn=null,Sl(e),t)for(e=0;e<t.length;e++)Sl(t[e])}}function ac(e,t){return e(t)}function sc(){}var ea=!1;function lc(e,t,n){if(ea)return e(t,n);ea=!0;try{return ac(e,t,n)}finally{ea=!1,(vn!==null||wn!==null)&&(sc(),ic())}}function hr(e,t){var n=e.stateNode;if(n===null)return null;var r=$i(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(k(231,t,typeof n));return n}var za=!1;if(ut)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){za=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{za=!1}function Au(e,t,n,r,a,s,l,c,o){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var tr=!1,ci=null,di=!1,Da=null,zu={onError:function(e){tr=!0,ci=e}};function Du(e,t,n,r,a,s,l,c,o){tr=!1,ci=null,Au.apply(zu,arguments)}function $u(e,t,n,r,a,s,l,c,o){if(Du.apply(this,arguments),tr){if(tr){var d=ci;tr=!1,ci=null}else throw Error(k(198));di||(di=!0,Da=d)}}function Zt(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function oc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cl(e){if(Zt(e)!==e)throw Error(k(188))}function Ou(e){var t=e.alternate;if(!t){if(t=Zt(e),t===null)throw Error(k(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Cl(a),e;if(s===r)return Cl(a),t;s=s.sibling}throw Error(k(188))}if(n.return!==r.return)n=a,r=s;else{for(var l=!1,c=a.child;c;){if(c===n){l=!0,n=a,r=s;break}if(c===r){l=!0,r=a,n=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===n){l=!0,n=s,r=a;break}if(c===r){l=!0,r=s,n=a;break}c=c.sibling}if(!l)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?e:t}function cc(e){return e=Ou(e),e!==null?dc(e):null}function dc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=dc(e);if(t!==null)return t;e=e.sibling}return null}var uc=Le.unstable_scheduleCallback,El=Le.unstable_cancelCallback,Hu=Le.unstable_shouldYield,Wu=Le.unstable_requestPaint,re=Le.unstable_now,Fu=Le.unstable_getCurrentPriorityLevel,Ms=Le.unstable_ImmediatePriority,hc=Le.unstable_UserBlockingPriority,ui=Le.unstable_NormalPriority,Bu=Le.unstable_LowPriority,pc=Le.unstable_IdlePriority,Ri=null,nt=null;function Vu(e){if(nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(Ri,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Yu,Uu=Math.log,Qu=Math.LN2;function Yu(e){return e>>>=0,e===0?32:31-(Uu(e)/Qu|0)|0}var zr=64,Dr=4194304;function Kn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,l=n&268435455;if(l!==0){var c=l&~a;c!==0?r=Kn(c):(s&=l,s!==0&&(r=Kn(s)))}else l=n&~a,l!==0?r=Kn(l):s!==0&&(r=Kn(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ye(t),a=1<<n,r|=e[n],t&=~a;return r}function Gu(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ku(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Ye(s),c=1<<l,o=a[l];o===-1?(!(c&n)||c&r)&&(a[l]=Gu(c,t)):o<=t&&(e.expiredLanes|=c),s&=~c}}function $a(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function mc(){var e=zr;return zr<<=1,!(zr&4194240)&&(zr=64),e}function ta(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Tr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ye(t),e[t]=n}function Xu(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Ye(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}function Is(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ye(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var U=0;function fc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var gc,Ps,yc,xc,vc,Oa=!1,$r=[],jt=null,kt=null,St=null,pr=new Map,mr=new Map,vt=[],Ju="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tl(e,t){switch(e){case"focusin":case"focusout":jt=null;break;case"dragenter":case"dragleave":kt=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mr.delete(t.pointerId)}}function Wn(e,t,n,r,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},t!==null&&(t=Ir(t),t!==null&&Ps(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Zu(e,t,n,r,a){switch(t){case"focusin":return jt=Wn(jt,e,t,n,r,a),!0;case"dragenter":return kt=Wn(kt,e,t,n,r,a),!0;case"mouseover":return St=Wn(St,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return pr.set(s,Wn(pr.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,mr.set(s,Wn(mr.get(s)||null,e,t,n,r,a)),!0}return!1}function wc(e){var t=Ht(e.target);if(t!==null){var n=Zt(t);if(n!==null){if(t=n.tag,t===13){if(t=oc(n),t!==null){e.blockedOn=t,vc(e.priority,function(){yc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ha(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ra=r,n.target.dispatchEvent(r),Ra=null}else return t=Ir(n),t!==null&&Ps(t),e.blockedOn=n,!1;t.shift()}return!0}function Ml(e,t,n){Jr(e)&&n.delete(t)}function eh(){Oa=!1,jt!==null&&Jr(jt)&&(jt=null),kt!==null&&Jr(kt)&&(kt=null),St!==null&&Jr(St)&&(St=null),pr.forEach(Ml),mr.forEach(Ml)}function Fn(e,t){e.blockedOn===t&&(e.blockedOn=null,Oa||(Oa=!0,Le.unstable_scheduleCallback(Le.unstable_NormalPriority,eh)))}function fr(e){function t(a){return Fn(a,e)}if(0<$r.length){Fn($r[0],e);for(var n=1;n<$r.length;n++){var r=$r[n];r.blockedOn===e&&(r.blockedOn=null)}}for(jt!==null&&Fn(jt,e),kt!==null&&Fn(kt,e),St!==null&&Fn(St,e),pr.forEach(t),mr.forEach(t),n=0;n<vt.length;n++)r=vt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<vt.length&&(n=vt[0],n.blockedOn===null);)wc(n),n.blockedOn===null&&vt.shift()}var bn=ft.ReactCurrentBatchConfig,pi=!0;function th(e,t,n,r){var a=U,s=bn.transition;bn.transition=null;try{U=1,qs(e,t,n,r)}finally{U=a,bn.transition=s}}function nh(e,t,n,r){var a=U,s=bn.transition;bn.transition=null;try{U=4,qs(e,t,n,r)}finally{U=a,bn.transition=s}}function qs(e,t,n,r){if(pi){var a=Ha(e,t,n,r);if(a===null)ua(e,t,r,mi,n),Tl(e,r);else if(Zu(a,e,t,n,r))r.stopPropagation();else if(Tl(e,r),t&4&&-1<Ju.indexOf(e)){for(;a!==null;){var s=Ir(a);if(s!==null&&gc(s),s=Ha(e,t,n,r),s===null&&ua(e,t,r,mi,n),s===a)break;a=s}a!==null&&r.stopPropagation()}else ua(e,t,r,null,n)}}var mi=null;function Ha(e,t,n,r){if(mi=null,e=Ts(r),e=Ht(e),e!==null)if(t=Zt(e),t===null)e=null;else if(n=t.tag,n===13){if(e=oc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mi=e,null}function bc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fu()){case Ms:return 1;case hc:return 4;case ui:case Bu:return 16;case pc:return 536870912;default:return 16}default:return 16}}var _t=null,Ls=null,Zr=null;function _c(){if(Zr)return Zr;var e,t=Ls,n=t.length,r,a="value"in _t?_t.value:_t.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===a[s-r];r++);return Zr=a.slice(e,1<r?1-r:void 0)}function ei(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Or(){return!0}function Il(){return!1}function Ae(e){function t(n,r,a,s,l){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Or:Il,this.isPropagationStopped=Il,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Or)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Or)},persist:function(){},isPersistent:Or}),t}var Pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rs=Ae(Pn),Mr=ee({},Pn,{view:0,detail:0}),rh=Ae(Mr),na,ra,Bn,Ai=ee({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Bn&&(Bn&&e.type==="mousemove"?(na=e.screenX-Bn.screenX,ra=e.screenY-Bn.screenY):ra=na=0,Bn=e),na)},movementY:function(e){return"movementY"in e?e.movementY:ra}}),Pl=Ae(Ai),ih=ee({},Ai,{dataTransfer:0}),ah=Ae(ih),sh=ee({},Mr,{relatedTarget:0}),ia=Ae(sh),lh=ee({},Pn,{animationName:0,elapsedTime:0,pseudoElement:0}),oh=Ae(lh),ch=ee({},Pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dh=Ae(ch),uh=ee({},Pn,{data:0}),ql=Ae(uh),hh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ph={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mh[e])?!!t[e]:!1}function As(){return fh}var gh=ee({},Mr,{key:function(e){if(e.key){var t=hh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ei(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ph[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(e){return e.type==="keypress"?ei(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ei(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yh=Ae(gh),xh=ee({},Ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ll=Ae(xh),vh=ee({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),wh=Ae(vh),bh=ee({},Pn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_h=Ae(bh),Nh=ee({},Ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jh=Ae(Nh),kh=[9,13,27,32],zs=ut&&"CompositionEvent"in window,nr=null;ut&&"documentMode"in document&&(nr=document.documentMode);var Sh=ut&&"TextEvent"in window&&!nr,Nc=ut&&(!zs||nr&&8<nr&&11>=nr),Rl=" ",Al=!1;function jc(e,t){switch(e){case"keyup":return kh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var on=!1;function Ch(e,t){switch(e){case"compositionend":return kc(t);case"keypress":return t.which!==32?null:(Al=!0,Rl);case"textInput":return e=t.data,e===Rl&&Al?null:e;default:return null}}function Eh(e,t){if(on)return e==="compositionend"||!zs&&jc(e,t)?(e=_c(),Zr=Ls=_t=null,on=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nc&&t.locale!=="ko"?null:t.data;default:return null}}var Th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Th[e.type]:t==="textarea"}function Sc(e,t,n,r){rc(r),t=fi(t,"onChange"),0<t.length&&(n=new Rs("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var rr=null,gr=null;function Mh(e){zc(e,0)}function zi(e){var t=un(e);if(Ko(t))return e}function Ih(e,t){if(e==="change")return t}var Cc=!1;if(ut){var aa;if(ut){var sa="oninput"in document;if(!sa){var Dl=document.createElement("div");Dl.setAttribute("oninput","return;"),sa=typeof Dl.oninput=="function"}aa=sa}else aa=!1;Cc=aa&&(!document.documentMode||9<document.documentMode)}function $l(){rr&&(rr.detachEvent("onpropertychange",Ec),gr=rr=null)}function Ec(e){if(e.propertyName==="value"&&zi(gr)){var t=[];Sc(t,gr,e,Ts(e)),lc(Mh,t)}}function Ph(e,t,n){e==="focusin"?($l(),rr=t,gr=n,rr.attachEvent("onpropertychange",Ec)):e==="focusout"&&$l()}function qh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zi(gr)}function Lh(e,t){if(e==="click")return zi(t)}function Rh(e,t){if(e==="input"||e==="change")return zi(t)}function Ah(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ke=typeof Object.is=="function"?Object.is:Ah;function yr(e,t){if(Ke(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!Na.call(t,a)||!Ke(e[a],t[a]))return!1}return!0}function Ol(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hl(e,t){var n=Ol(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ol(n)}}function Tc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Mc(){for(var e=window,t=oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oi(e.document)}return t}function Ds(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zh(e){var t=Mc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Tc(n.ownerDocument.documentElement,n)){if(r!==null&&Ds(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=r.end===void 0?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=Hl(n,s);var l=Hl(n,r);a&&l&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dh=ut&&"documentMode"in document&&11>=document.documentMode,cn=null,Wa=null,ir=null,Fa=!1;function Wl(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fa||cn==null||cn!==oi(r)||(r=cn,"selectionStart"in r&&Ds(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ir&&yr(ir,r)||(ir=r,r=fi(Wa,"onSelect"),0<r.length&&(t=new Rs("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=cn)))}function Hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dn={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionend:Hr("Transition","TransitionEnd")},la={},Ic={};ut&&(Ic=document.createElement("div").style,"AnimationEvent"in window||(delete dn.animationend.animation,delete dn.animationiteration.animation,delete dn.animationstart.animation),"TransitionEvent"in window||delete dn.transitionend.transition);function Di(e){if(la[e])return la[e];if(!dn[e])return e;var t=dn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Ic)return la[e]=t[n];return e}var Pc=Di("animationend"),qc=Di("animationiteration"),Lc=Di("animationstart"),Rc=Di("transitionend"),Ac=new Map,Fl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rt(e,t){Ac.set(e,t),Jt(t,[e])}for(var oa=0;oa<Fl.length;oa++){var ca=Fl[oa],$h=ca.toLowerCase(),Oh=ca[0].toUpperCase()+ca.slice(1);Rt($h,"on"+Oh)}Rt(Pc,"onAnimationEnd");Rt(qc,"onAnimationIteration");Rt(Lc,"onAnimationStart");Rt("dblclick","onDoubleClick");Rt("focusin","onFocus");Rt("focusout","onBlur");Rt(Rc,"onTransitionEnd");jn("onMouseEnter",["mouseout","mouseover"]);jn("onMouseLeave",["mouseout","mouseover"]);jn("onPointerEnter",["pointerout","pointerover"]);jn("onPointerLeave",["pointerout","pointerover"]);Jt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jt("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hh=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xn));function Bl(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,$u(r,t,void 0,e),e.currentTarget=null}function zc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var l=r.length-1;0<=l;l--){var c=r[l],o=c.instance,d=c.currentTarget;if(c=c.listener,o!==s&&a.isPropagationStopped())break e;Bl(a,c,d),s=o}else for(l=0;l<r.length;l++){if(c=r[l],o=c.instance,d=c.currentTarget,c=c.listener,o!==s&&a.isPropagationStopped())break e;Bl(a,c,d),s=o}}}if(di)throw e=Da,di=!1,Da=null,e}function G(e,t){var n=t[Ya];n===void 0&&(n=t[Ya]=new Set);var r=e+"__bubble";n.has(r)||(Dc(t,e,2,!1),n.add(r))}function da(e,t,n){var r=0;t&&(r|=4),Dc(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function xr(e){if(!e[Wr]){e[Wr]=!0,Vo.forEach(function(n){n!=="selectionchange"&&(Hh.has(n)||da(n,!1,e),da(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wr]||(t[Wr]=!0,da("selectionchange",!1,t))}}function Dc(e,t,n,r){switch(bc(t)){case 1:var a=th;break;case 4:a=nh;break;default:a=qs}n=a.bind(null,t,n,e),a=void 0,!za||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function ua(e,t,n,r,a){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var c=r.stateNode.containerInfo;if(c===a||c.nodeType===8&&c.parentNode===a)break;if(l===4)for(l=r.return;l!==null;){var o=l.tag;if((o===3||o===4)&&(o=l.stateNode.containerInfo,o===a||o.nodeType===8&&o.parentNode===a))return;l=l.return}for(;c!==null;){if(l=Ht(c),l===null)return;if(o=l.tag,o===5||o===6){r=s=l;continue e}c=c.parentNode}}r=r.return}lc(function(){var d=s,p=Ts(n),g=[];e:{var h=Ac.get(e);if(h!==void 0){var u=Rs,y=e;switch(e){case"keypress":if(ei(n)===0)break e;case"keydown":case"keyup":u=yh;break;case"focusin":y="focus",u=ia;break;case"focusout":y="blur",u=ia;break;case"beforeblur":case"afterblur":u=ia;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=ah;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=wh;break;case Pc:case qc:case Lc:u=oh;break;case Rc:u=_h;break;case"scroll":u=rh;break;case"wheel":u=jh;break;case"copy":case"cut":case"paste":u=dh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Ll}var v=(t&4)!==0,C=!v&&e==="scroll",m=v?h!==null?h+"Capture":null:h;v=[];for(var f=d,x;f!==null;){x=f;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,m!==null&&(w=hr(f,m),w!=null&&v.push(vr(f,w,x)))),C)break;f=f.return}0<v.length&&(h=new u(h,y,null,n,p),g.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",u=e==="mouseout"||e==="pointerout",h&&n!==Ra&&(y=n.relatedTarget||n.fromElement)&&(Ht(y)||y[ht]))break e;if((u||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,u?(y=n.relatedTarget||n.toElement,u=d,y=y?Ht(y):null,y!==null&&(C=Zt(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(u=null,y=d),u!==y)){if(v=Pl,w="onMouseLeave",m="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=Ll,w="onPointerLeave",m="onPointerEnter",f="pointer"),C=u==null?h:un(u),x=y==null?h:un(y),h=new v(w,f+"leave",u,n,p),h.target=C,h.relatedTarget=x,w=null,Ht(p)===d&&(v=new v(m,f+"enter",y,n,p),v.target=x,v.relatedTarget=C,w=v),C=w,u&&y)t:{for(v=u,m=y,f=0,x=v;x;x=rn(x))f++;for(x=0,w=m;w;w=rn(w))x++;for(;0<f-x;)v=rn(v),f--;for(;0<x-f;)m=rn(m),x--;for(;f--;){if(v===m||m!==null&&v===m.alternate)break t;v=rn(v),m=rn(m)}v=null}else v=null;u!==null&&Vl(g,h,u,v,!1),y!==null&&C!==null&&Vl(g,C,y,v,!0)}}e:{if(h=d?un(d):window,u=h.nodeName&&h.nodeName.toLowerCase(),u==="select"||u==="input"&&h.type==="file")var j=Ih;else if(zl(h))if(Cc)j=Rh;else{j=qh;var N=Ph}else(u=h.nodeName)&&u.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Lh);if(j&&(j=j(e,d))){Sc(g,j,n,p);break e}N&&N(e,h,d),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Ma(h,"number",h.value)}switch(N=d?un(d):window,e){case"focusin":(zl(N)||N.contentEditable==="true")&&(cn=N,Wa=d,ir=null);break;case"focusout":ir=Wa=cn=null;break;case"mousedown":Fa=!0;break;case"contextmenu":case"mouseup":case"dragend":Fa=!1,Wl(g,n,p);break;case"selectionchange":if(Dh)break;case"keydown":case"keyup":Wl(g,n,p)}var E;if(zs)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else on?jc(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Nc&&n.locale!=="ko"&&(on||T!=="onCompositionStart"?T==="onCompositionEnd"&&on&&(E=_c()):(_t=p,Ls="value"in _t?_t.value:_t.textContent,on=!0)),N=fi(d,T),0<N.length&&(T=new ql(T,e,null,n,p),g.push({event:T,listeners:N}),E?T.data=E:(E=kc(n),E!==null&&(T.data=E)))),(E=Sh?Ch(e,n):Eh(e,n))&&(d=fi(d,"onBeforeInput"),0<d.length&&(p=new ql("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=E))}zc(g,t)})}function vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function fi(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=hr(e,n),s!=null&&r.unshift(vr(e,s,a)),s=hr(e,t),s!=null&&r.push(vr(e,s,a))),e=e.return}return r}function rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vl(e,t,n,r,a){for(var s=t._reactName,l=[];n!==null&&n!==r;){var c=n,o=c.alternate,d=c.stateNode;if(o!==null&&o===r)break;c.tag===5&&d!==null&&(c=d,a?(o=hr(n,s),o!=null&&l.unshift(vr(n,o,c))):a||(o=hr(n,s),o!=null&&l.push(vr(n,o,c)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Wh=/\r\n?/g,Fh=/\u0000|\uFFFD/g;function Ul(e){return(typeof e=="string"?e:""+e).replace(Wh,`
`).replace(Fh,"")}function Fr(e,t,n){if(t=Ul(t),Ul(e)!==t&&n)throw Error(k(425))}function gi(){}var Ba=null,Va=null;function Ua(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Qa=typeof setTimeout=="function"?setTimeout:void 0,Bh=typeof clearTimeout=="function"?clearTimeout:void 0,Ql=typeof Promise=="function"?Promise:void 0,Vh=typeof queueMicrotask=="function"?queueMicrotask:typeof Ql<"u"?function(e){return Ql.resolve(null).then(e).catch(Uh)}:Qa;function Uh(e){setTimeout(function(){throw e})}function ha(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),fr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);fr(t)}function Ct(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yl(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qn=Math.random().toString(36).slice(2),tt="__reactFiber$"+qn,wr="__reactProps$"+qn,ht="__reactContainer$"+qn,Ya="__reactEvents$"+qn,Qh="__reactListeners$"+qn,Yh="__reactHandles$"+qn;function Ht(e){var t=e[tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ht]||n[tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yl(e);e!==null;){if(n=e[tt])return n;e=Yl(e)}return t}e=n,n=e.parentNode}return null}function Ir(e){return e=e[tt]||e[ht],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function un(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(k(33))}function $i(e){return e[wr]||null}var Ga=[],hn=-1;function At(e){return{current:e}}function K(e){0>hn||(e.current=Ga[hn],Ga[hn]=null,hn--)}function Y(e,t){hn++,Ga[hn]=e.current,e.current=t}var Lt={},ve=At(Lt),Se=At(!1),Ut=Lt;function kn(e,t){var n=e.type.contextTypes;if(!n)return Lt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in n)a[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ce(e){return e=e.childContextTypes,e!=null}function yi(){K(Se),K(ve)}function Gl(e,t,n){if(ve.current!==Lt)throw Error(k(168));Y(ve,t),Y(Se,n)}function $c(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(k(108,Pu(e)||"Unknown",a));return ee({},n,r)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Lt,Ut=ve.current,Y(ve,e),Y(Se,Se.current),!0}function Kl(e,t,n){var r=e.stateNode;if(!r)throw Error(k(169));n?(e=$c(e,t,Ut),r.__reactInternalMemoizedMergedChildContext=e,K(Se),K(ve),Y(ve,e)):K(Se),Y(Se,n)}var st=null,Oi=!1,pa=!1;function Oc(e){st===null?st=[e]:st.push(e)}function Gh(e){Oi=!0,Oc(e)}function zt(){if(!pa&&st!==null){pa=!0;var e=0,t=U;try{var n=st;for(U=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}st=null,Oi=!1}catch(a){throw st!==null&&(st=st.slice(e+1)),uc(Ms,zt),a}finally{U=t,pa=!1}}return null}var pn=[],mn=0,vi=null,wi=0,ze=[],De=0,Qt=null,lt=1,ot="";function $t(e,t){pn[mn++]=wi,pn[mn++]=vi,vi=e,wi=t}function Hc(e,t,n){ze[De++]=lt,ze[De++]=ot,ze[De++]=Qt,Qt=e;var r=lt;e=ot;var a=32-Ye(r)-1;r&=~(1<<a),n+=1;var s=32-Ye(t)+a;if(30<s){var l=a-a%5;s=(r&(1<<l)-1).toString(32),r>>=l,a-=l,lt=1<<32-Ye(t)+a|n<<a|r,ot=s+e}else lt=1<<s|n<<a|r,ot=e}function $s(e){e.return!==null&&($t(e,1),Hc(e,1,0))}function Os(e){for(;e===vi;)vi=pn[--mn],pn[mn]=null,wi=pn[--mn],pn[mn]=null;for(;e===Qt;)Qt=ze[--De],ze[De]=null,ot=ze[--De],ze[De]=null,lt=ze[--De],ze[De]=null}var qe=null,Ie=null,X=!1,Qe=null;function Wc(e,t){var n=$e(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xl(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,Ie=Ct(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Qt!==null?{id:lt,overflow:ot}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=$e(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qe=e,Ie=null,!0):!1;default:return!1}}function Ka(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xa(e){if(X){var t=Ie;if(t){var n=t;if(!Xl(e,t)){if(Ka(e))throw Error(k(418));t=Ct(n.nextSibling);var r=qe;t&&Xl(e,t)?Wc(r,n):(e.flags=e.flags&-4097|2,X=!1,qe=e)}}else{if(Ka(e))throw Error(k(418));e.flags=e.flags&-4097|2,X=!1,qe=e}}}function Jl(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function Br(e){if(e!==qe)return!1;if(!X)return Jl(e),X=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ua(e.type,e.memoizedProps)),t&&(t=Ie)){if(Ka(e))throw Fc(),Error(k(418));for(;t;)Wc(e,t),t=Ct(t.nextSibling)}if(Jl(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(k(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ie=Ct(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ie=null}}else Ie=qe?Ct(e.stateNode.nextSibling):null;return!0}function Fc(){for(var e=Ie;e;)e=Ct(e.nextSibling)}function Sn(){Ie=qe=null,X=!1}function Hs(e){Qe===null?Qe=[e]:Qe.push(e)}var Kh=ft.ReactCurrentBatchConfig;function Vn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,e));var a=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(l){var c=a.refs;l===null?delete c[s]:c[s]=l},t._stringRef=s,t)}if(typeof e!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,e))}return e}function Vr(e,t){throw e=Object.prototype.toString.call(t),Error(k(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zl(e){var t=e._init;return t(e._payload)}function Bc(e){function t(m,f){if(e){var x=m.deletions;x===null?(m.deletions=[f],m.flags|=16):x.push(f)}}function n(m,f){if(!e)return null;for(;f!==null;)t(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function a(m,f){return m=It(m,f),m.index=0,m.sibling=null,m}function s(m,f,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<f?(m.flags|=2,f):x):(m.flags|=2,f)):(m.flags|=1048576,f)}function l(m){return e&&m.alternate===null&&(m.flags|=2),m}function c(m,f,x,w){return f===null||f.tag!==6?(f=wa(x,m.mode,w),f.return=m,f):(f=a(f,x),f.return=m,f)}function o(m,f,x,w){var j=x.type;return j===ln?p(m,f,x.props.children,w,x.key):f!==null&&(f.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===yt&&Zl(j)===f.type)?(w=a(f,x.props),w.ref=Vn(m,f,x),w.return=m,w):(w=li(x.type,x.key,x.props,null,m.mode,w),w.ref=Vn(m,f,x),w.return=m,w)}function d(m,f,x,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==x.containerInfo||f.stateNode.implementation!==x.implementation?(f=ba(x,m.mode,w),f.return=m,f):(f=a(f,x.children||[]),f.return=m,f)}function p(m,f,x,w,j){return f===null||f.tag!==7?(f=Vt(x,m.mode,w,j),f.return=m,f):(f=a(f,x),f.return=m,f)}function g(m,f,x){if(typeof f=="string"&&f!==""||typeof f=="number")return f=wa(""+f,m.mode,x),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Lr:return x=li(f.type,f.key,f.props,null,m.mode,x),x.ref=Vn(m,null,f),x.return=m,x;case sn:return f=ba(f,m.mode,x),f.return=m,f;case yt:var w=f._init;return g(m,w(f._payload),x)}if(Gn(f)||On(f))return f=Vt(f,m.mode,x,null),f.return=m,f;Vr(m,f)}return null}function h(m,f,x,w){var j=f!==null?f.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:c(m,f,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Lr:return x.key===j?o(m,f,x,w):null;case sn:return x.key===j?d(m,f,x,w):null;case yt:return j=x._init,h(m,f,j(x._payload),w)}if(Gn(x)||On(x))return j!==null?null:p(m,f,x,w,null);Vr(m,x)}return null}function u(m,f,x,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(x)||null,c(f,m,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Lr:return m=m.get(w.key===null?x:w.key)||null,o(f,m,w,j);case sn:return m=m.get(w.key===null?x:w.key)||null,d(f,m,w,j);case yt:var N=w._init;return u(m,f,x,N(w._payload),j)}if(Gn(w)||On(w))return m=m.get(x)||null,p(f,m,w,j,null);Vr(f,w)}return null}function y(m,f,x,w){for(var j=null,N=null,E=f,T=f=0,H=null;E!==null&&T<x.length;T++){E.index>T?(H=E,E=null):H=E.sibling;var z=h(m,E,x[T],w);if(z===null){E===null&&(E=H);break}e&&E&&z.alternate===null&&t(m,E),f=s(z,f,T),N===null?j=z:N.sibling=z,N=z,E=H}if(T===x.length)return n(m,E),X&&$t(m,T),j;if(E===null){for(;T<x.length;T++)E=g(m,x[T],w),E!==null&&(f=s(E,f,T),N===null?j=E:N.sibling=E,N=E);return X&&$t(m,T),j}for(E=r(m,E);T<x.length;T++)H=u(E,m,T,x[T],w),H!==null&&(e&&H.alternate!==null&&E.delete(H.key===null?T:H.key),f=s(H,f,T),N===null?j=H:N.sibling=H,N=H);return e&&E.forEach(function(me){return t(m,me)}),X&&$t(m,T),j}function v(m,f,x,w){var j=On(x);if(typeof j!="function")throw Error(k(150));if(x=j.call(x),x==null)throw Error(k(151));for(var N=j=null,E=f,T=f=0,H=null,z=x.next();E!==null&&!z.done;T++,z=x.next()){E.index>T?(H=E,E=null):H=E.sibling;var me=h(m,E,z.value,w);if(me===null){E===null&&(E=H);break}e&&E&&me.alternate===null&&t(m,E),f=s(me,f,T),N===null?j=me:N.sibling=me,N=me,E=H}if(z.done)return n(m,E),X&&$t(m,T),j;if(E===null){for(;!z.done;T++,z=x.next())z=g(m,z.value,w),z!==null&&(f=s(z,f,T),N===null?j=z:N.sibling=z,N=z);return X&&$t(m,T),j}for(E=r(m,E);!z.done;T++,z=x.next())z=u(E,m,T,z.value,w),z!==null&&(e&&z.alternate!==null&&E.delete(z.key===null?T:z.key),f=s(z,f,T),N===null?j=z:N.sibling=z,N=z);return e&&E.forEach(function(Fe){return t(m,Fe)}),X&&$t(m,T),j}function C(m,f,x,w){if(typeof x=="object"&&x!==null&&x.type===ln&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Lr:e:{for(var j=x.key,N=f;N!==null;){if(N.key===j){if(j=x.type,j===ln){if(N.tag===7){n(m,N.sibling),f=a(N,x.props.children),f.return=m,m=f;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===yt&&Zl(j)===N.type){n(m,N.sibling),f=a(N,x.props),f.ref=Vn(m,N,x),f.return=m,m=f;break e}n(m,N);break}else t(m,N);N=N.sibling}x.type===ln?(f=Vt(x.props.children,m.mode,w,x.key),f.return=m,m=f):(w=li(x.type,x.key,x.props,null,m.mode,w),w.ref=Vn(m,f,x),w.return=m,m=w)}return l(m);case sn:e:{for(N=x.key;f!==null;){if(f.key===N)if(f.tag===4&&f.stateNode.containerInfo===x.containerInfo&&f.stateNode.implementation===x.implementation){n(m,f.sibling),f=a(f,x.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else t(m,f);f=f.sibling}f=ba(x,m.mode,w),f.return=m,m=f}return l(m);case yt:return N=x._init,C(m,f,N(x._payload),w)}if(Gn(x))return y(m,f,x,w);if(On(x))return v(m,f,x,w);Vr(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,f!==null&&f.tag===6?(n(m,f.sibling),f=a(f,x),f.return=m,m=f):(n(m,f),f=wa(x,m.mode,w),f.return=m,m=f),l(m)):n(m,f)}return C}var Cn=Bc(!0),Vc=Bc(!1),bi=At(null),_i=null,fn=null,Ws=null;function Fs(){Ws=fn=_i=null}function Bs(e){var t=bi.current;K(bi),e._currentValue=t}function Ja(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _n(e,t){_i=e,Ws=fn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ke=!0),e.firstContext=null)}function He(e){var t=e._currentValue;if(Ws!==e)if(e={context:e,memoizedValue:t,next:null},fn===null){if(_i===null)throw Error(k(308));fn=e,_i.dependencies={lanes:0,firstContext:e}}else fn=fn.next=e;return t}var Wt=null;function Vs(e){Wt===null?Wt=[e]:Wt.push(e)}function Uc(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Vs(t)):(n.next=a.next,a.next=n),t.interleaved=n,pt(e,r)}function pt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xt=!1;function Us(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ct(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Et(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,F&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,pt(e,n)}return a=r.interleaved,a===null?(t.next=t,Vs(r)):(t.next=a.next,a.next=t),r.interleaved=t,pt(e,n)}function ti(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Is(e,n)}}function eo(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?a=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ni(e,t,n,r){var a=e.updateQueue;xt=!1;var s=a.firstBaseUpdate,l=a.lastBaseUpdate,c=a.shared.pending;if(c!==null){a.shared.pending=null;var o=c,d=o.next;o.next=null,l===null?s=d:l.next=d,l=o;var p=e.alternate;p!==null&&(p=p.updateQueue,c=p.lastBaseUpdate,c!==l&&(c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=o))}if(s!==null){var g=a.baseState;l=0,p=d=o=null,c=s;do{var h=c.lane,u=c.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:u,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var y=e,v=c;switch(h=t,u=n,v.tag){case 1:if(y=v.payload,typeof y=="function"){g=y.call(u,g,h);break e}g=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,h=typeof y=="function"?y.call(u,g,h):y,h==null)break e;g=ee({},g,h);break e;case 2:xt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[c]:h.push(c))}else u={eventTime:u,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},p===null?(d=p=u,o=g):p=p.next=u,l|=h;if(c=c.next,c===null){if(c=a.shared.pending,c===null)break;h=c,c=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(p===null&&(o=g),a.baseState=o,a.firstBaseUpdate=d,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do l|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Gt|=l,e.lanes=l,e.memoizedState=g}}function to(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(k(191,a));a.call(r)}}}var Pr={},rt=At(Pr),br=At(Pr),_r=At(Pr);function Ft(e){if(e===Pr)throw Error(k(174));return e}function Qs(e,t){switch(Y(_r,t),Y(br,e),Y(rt,Pr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pa(t,e)}K(rt),Y(rt,t)}function En(){K(rt),K(br),K(_r)}function Yc(e){Ft(_r.current);var t=Ft(rt.current),n=Pa(t,e.type);t!==n&&(Y(br,e),Y(rt,n))}function Ys(e){br.current===e&&(K(rt),K(br))}var J=At(0);function ji(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ma=[];function Gs(){for(var e=0;e<ma.length;e++)ma[e]._workInProgressVersionPrimary=null;ma.length=0}var ni=ft.ReactCurrentDispatcher,fa=ft.ReactCurrentBatchConfig,Yt=0,Z=null,se=null,oe=null,ki=!1,ar=!1,Nr=0,Xh=0;function ge(){throw Error(k(321))}function Ks(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ke(e[n],t[n]))return!1;return!0}function Xs(e,t,n,r,a,s){if(Yt=s,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ni.current=e===null||e.memoizedState===null?tp:np,e=n(r,a),ar){s=0;do{if(ar=!1,Nr=0,25<=s)throw Error(k(301));s+=1,oe=se=null,t.updateQueue=null,ni.current=rp,e=n(r,a)}while(ar)}if(ni.current=Si,t=se!==null&&se.next!==null,Yt=0,oe=se=Z=null,ki=!1,t)throw Error(k(300));return e}function Js(){var e=Nr!==0;return Nr=0,e}function et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?Z.memoizedState=oe=e:oe=oe.next=e,oe}function We(){if(se===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=oe===null?Z.memoizedState:oe.next;if(t!==null)oe=t,se=e;else{if(e===null)throw Error(k(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},oe===null?Z.memoizedState=oe=e:oe=oe.next=e}return oe}function jr(e,t){return typeof t=="function"?t(e):t}function ga(e){var t=We(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=se,a=r.baseQueue,s=n.pending;if(s!==null){if(a!==null){var l=a.next;a.next=s.next,s.next=l}r.baseQueue=a=s,n.pending=null}if(a!==null){s=a.next,r=r.baseState;var c=l=null,o=null,d=s;do{var p=d.lane;if((Yt&p)===p)o!==null&&(o=o.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};o===null?(c=o=g,l=r):o=o.next=g,Z.lanes|=p,Gt|=p}d=d.next}while(d!==null&&d!==s);o===null?l=r:o.next=c,Ke(r,t.memoizedState)||(ke=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=o,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do s=a.lane,Z.lanes|=s,Gt|=s,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ya(e){var t=We(),n=t.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var l=a=a.next;do s=e(s,l.action),l=l.next;while(l!==a);Ke(s,t.memoizedState)||(ke=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Gc(){}function Kc(e,t){var n=Z,r=We(),a=t(),s=!Ke(r.memoizedState,a);if(s&&(r.memoizedState=a,ke=!0),r=r.queue,Zs(Zc.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||oe!==null&&oe.memoizedState.tag&1){if(n.flags|=2048,kr(9,Jc.bind(null,n,r,a,t),void 0,null),ce===null)throw Error(k(349));Yt&30||Xc(n,t,a)}return a}function Xc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Jc(e,t,n,r){t.value=n,t.getSnapshot=r,ed(t)&&td(e)}function Zc(e,t,n){return n(function(){ed(t)&&td(e)})}function ed(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ke(e,n)}catch{return!0}}function td(e){var t=pt(e,1);t!==null&&Ge(t,e,1,-1)}function no(e){var t=et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:e},t.queue=e,e=e.dispatch=ep.bind(null,Z,e),[t.memoizedState,e]}function kr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function nd(){return We().memoizedState}function ri(e,t,n,r){var a=et();Z.flags|=e,a.memoizedState=kr(1|t,n,void 0,r===void 0?null:r)}function Hi(e,t,n,r){var a=We();r=r===void 0?null:r;var s=void 0;if(se!==null){var l=se.memoizedState;if(s=l.destroy,r!==null&&Ks(r,l.deps)){a.memoizedState=kr(t,n,s,r);return}}Z.flags|=e,a.memoizedState=kr(1|t,n,s,r)}function ro(e,t){return ri(8390656,8,e,t)}function Zs(e,t){return Hi(2048,8,e,t)}function rd(e,t){return Hi(4,2,e,t)}function id(e,t){return Hi(4,4,e,t)}function ad(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sd(e,t,n){return n=n!=null?n.concat([e]):null,Hi(4,4,ad.bind(null,t,e),n)}function el(){}function ld(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ks(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function od(e,t){var n=We();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ks(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function cd(e,t,n){return Yt&21?(Ke(n,t)||(n=mc(),Z.lanes|=n,Gt|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ke=!0),e.memoizedState=n)}function Jh(e,t){var n=U;U=n!==0&&4>n?n:4,e(!0);var r=fa.transition;fa.transition={};try{e(!1),t()}finally{U=n,fa.transition=r}}function dd(){return We().memoizedState}function Zh(e,t,n){var r=Mt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ud(e))hd(t,n);else if(n=Uc(e,t,n,r),n!==null){var a=be();Ge(n,e,r,a),pd(n,t,r)}}function ep(e,t,n){var r=Mt(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ud(e))hd(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,c=s(l,n);if(a.hasEagerState=!0,a.eagerState=c,Ke(c,l)){var o=t.interleaved;o===null?(a.next=a,Vs(t)):(a.next=o.next,o.next=a),t.interleaved=a;return}}catch{}finally{}n=Uc(e,t,a,r),n!==null&&(a=be(),Ge(n,e,r,a),pd(n,t,r))}}function ud(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function hd(e,t){ar=ki=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function pd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Is(e,n)}}var Si={readContext:He,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},tp={readContext:He,useCallback:function(e,t){return et().memoizedState=[e,t===void 0?null:t],e},useContext:He,useEffect:ro,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ri(4194308,4,ad.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ri(4194308,4,e,t)},useInsertionEffect:function(e,t){return ri(4,2,e,t)},useMemo:function(e,t){var n=et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Zh.bind(null,Z,e),[r.memoizedState,e]},useRef:function(e){var t=et();return e={current:e},t.memoizedState=e},useState:no,useDebugValue:el,useDeferredValue:function(e){return et().memoizedState=e},useTransition:function(){var e=no(!1),t=e[0];return e=Jh.bind(null,e[1]),et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Z,a=et();if(X){if(n===void 0)throw Error(k(407));n=n()}else{if(n=t(),ce===null)throw Error(k(349));Yt&30||Xc(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,ro(Zc.bind(null,r,s,e),[e]),r.flags|=2048,kr(9,Jc.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=et(),t=ce.identifierPrefix;if(X){var n=ot,r=lt;n=(r&~(1<<32-Ye(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Nr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Xh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},np={readContext:He,useCallback:ld,useContext:He,useEffect:Zs,useImperativeHandle:sd,useInsertionEffect:rd,useLayoutEffect:id,useMemo:od,useReducer:ga,useRef:nd,useState:function(){return ga(jr)},useDebugValue:el,useDeferredValue:function(e){var t=We();return cd(t,se.memoizedState,e)},useTransition:function(){var e=ga(jr)[0],t=We().memoizedState;return[e,t]},useMutableSource:Gc,useSyncExternalStore:Kc,useId:dd,unstable_isNewReconciler:!1},rp={readContext:He,useCallback:ld,useContext:He,useEffect:Zs,useImperativeHandle:sd,useInsertionEffect:rd,useLayoutEffect:id,useMemo:od,useReducer:ya,useRef:nd,useState:function(){return ya(jr)},useDebugValue:el,useDeferredValue:function(e){var t=We();return se===null?t.memoizedState=e:cd(t,se.memoizedState,e)},useTransition:function(){var e=ya(jr)[0],t=We().memoizedState;return[e,t]},useMutableSource:Gc,useSyncExternalStore:Kc,useId:dd,unstable_isNewReconciler:!1};function Ve(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Za(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ee({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Wi={isMounted:function(e){return(e=e._reactInternals)?Zt(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=be(),a=Mt(e),s=ct(r,a);s.payload=t,n!=null&&(s.callback=n),t=Et(e,s,a),t!==null&&(Ge(t,e,a,r),ti(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=be(),a=Mt(e),s=ct(r,a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Et(e,s,a),t!==null&&(Ge(t,e,a,r),ti(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=be(),r=Mt(e),a=ct(n,r);a.tag=2,t!=null&&(a.callback=t),t=Et(e,a,r),t!==null&&(Ge(t,e,r,n),ti(t,e,r))}};function io(e,t,n,r,a,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,l):t.prototype&&t.prototype.isPureReactComponent?!yr(n,r)||!yr(a,s):!0}function md(e,t,n){var r=!1,a=Lt,s=t.contextType;return typeof s=="object"&&s!==null?s=He(s):(a=Ce(t)?Ut:ve.current,r=t.contextTypes,s=(r=r!=null)?kn(e,a):Lt),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Wi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function ao(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Wi.enqueueReplaceState(t,t.state,null)}function es(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Us(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=He(s):(s=Ce(t)?Ut:ve.current,a.context=kn(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Za(e,t,s,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Wi.enqueueReplaceState(a,a.state,null),Ni(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Tn(e,t){try{var n="",r=t;do n+=Iu(r),r=r.return;while(r);var a=n}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function xa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ts(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ip=typeof WeakMap=="function"?WeakMap:Map;function fd(e,t,n){n=ct(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ei||(Ei=!0,us=r),ts(e,t)},n}function gd(e,t,n){n=ct(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ts(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){ts(e,t),typeof r!="function"&&(Tt===null?Tt=new Set([this]):Tt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function so(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ip;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=xp.bind(null,e,t,n),t.then(e,e))}function lo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oo(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ct(-1,1),t.tag=2,Et(n,t,1))),n.lanes|=1),e)}var ap=ft.ReactCurrentOwner,ke=!1;function we(e,t,n,r){t.child=e===null?Vc(t,null,n,r):Cn(t,e.child,n,r)}function co(e,t,n,r,a){n=n.render;var s=t.ref;return _n(t,a),r=Xs(e,t,n,r,s,a),n=Js(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mt(e,t,a)):(X&&n&&$s(t),t.flags|=1,we(e,t,r,a),t.child)}function uo(e,t,n,r,a){if(e===null){var s=n.type;return typeof s=="function"&&!ol(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,yd(e,t,s,r,a)):(e=li(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:yr,n(l,r)&&e.ref===t.ref)return mt(e,t,a)}return t.flags|=1,e=It(s,r),e.ref=t.ref,e.return=t,t.child=e}function yd(e,t,n,r,a){if(e!==null){var s=e.memoizedProps;if(yr(s,r)&&e.ref===t.ref)if(ke=!1,t.pendingProps=r=s,(e.lanes&a)!==0)e.flags&131072&&(ke=!0);else return t.lanes=e.lanes,mt(e,t,a)}return ns(e,t,n,r,a)}function xd(e,t,n){var r=t.pendingProps,a=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(yn,Me),Me|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Y(yn,Me),Me|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Y(yn,Me),Me|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Y(yn,Me),Me|=r;return we(e,t,a,n),t.child}function vd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ns(e,t,n,r,a){var s=Ce(n)?Ut:ve.current;return s=kn(t,s),_n(t,a),n=Xs(e,t,n,r,s,a),r=Js(),e!==null&&!ke?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,mt(e,t,a)):(X&&r&&$s(t),t.flags|=1,we(e,t,n,a),t.child)}function ho(e,t,n,r,a){if(Ce(n)){var s=!0;xi(t)}else s=!1;if(_n(t,a),t.stateNode===null)ii(e,t),md(t,n,r),es(t,n,r,a),r=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var o=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=He(d):(d=Ce(n)?Ut:ve.current,d=kn(t,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==r||o!==d)&&ao(t,l,r,d),xt=!1;var h=t.memoizedState;l.state=h,Ni(t,r,l,a),o=t.memoizedState,c!==r||h!==o||Se.current||xt?(typeof p=="function"&&(Za(t,n,p,r),o=t.memoizedState),(c=xt||io(t,n,c,r,h,o,d))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),l.props=r,l.state=o,l.context=d,r=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Qc(e,t),c=t.memoizedProps,d=t.type===t.elementType?c:Ve(t.type,c),l.props=d,g=t.pendingProps,h=l.context,o=n.contextType,typeof o=="object"&&o!==null?o=He(o):(o=Ce(n)?Ut:ve.current,o=kn(t,o));var u=n.getDerivedStateFromProps;(p=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==g||h!==o)&&ao(t,l,r,o),xt=!1,h=t.memoizedState,l.state=h,Ni(t,r,l,a);var y=t.memoizedState;c!==g||h!==y||Se.current||xt?(typeof u=="function"&&(Za(t,n,u,r),y=t.memoizedState),(d=xt||io(t,n,d,r,h,y,o)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,y,o),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,y,o)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),l.props=r,l.state=y,l.context=o,r=d):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return rs(e,t,n,r,s,a)}function rs(e,t,n,r,a,s){vd(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return a&&Kl(t,n,!1),mt(e,t,s);r=t.stateNode,ap.current=t;var c=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Cn(t,e.child,null,s),t.child=Cn(t,null,c,s)):we(e,t,c,s),t.memoizedState=r.state,a&&Kl(t,n,!0),t.child}function wd(e){var t=e.stateNode;t.pendingContext?Gl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gl(e,t.context,!1),Qs(e,t.containerInfo)}function po(e,t,n,r,a){return Sn(),Hs(a),t.flags|=256,we(e,t,n,r),t.child}var is={dehydrated:null,treeContext:null,retryLane:0};function as(e){return{baseLanes:e,cachePool:null,transitions:null}}function bd(e,t,n){var r=t.pendingProps,a=J.current,s=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(a&2)!==0),c?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Y(J,a&1),e===null)return Xa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Vi(l,r,0,null),e=Vt(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=as(n),t.memoizedState=is,e):tl(t,l));if(a=e.memoizedState,a!==null&&(c=a.dehydrated,c!==null))return sp(e,t,l,r,c,a,n);if(s){s=r.fallback,l=t.mode,a=e.child,c=a.sibling;var o={mode:"hidden",children:r.children};return!(l&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=o,t.deletions=null):(r=It(a,o),r.subtreeFlags=a.subtreeFlags&14680064),c!==null?s=It(c,s):(s=Vt(s,l,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=e.child.memoizedState,l=l===null?as(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=is,r}return s=e.child,e=s.sibling,r=It(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function tl(e,t){return t=Vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ur(e,t,n,r){return r!==null&&Hs(r),Cn(t,e.child,null,n),e=tl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sp(e,t,n,r,a,s,l){if(n)return t.flags&256?(t.flags&=-257,r=xa(Error(k(422))),Ur(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=Vi({mode:"visible",children:r.children},a,0,null),s=Vt(s,a,l,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Cn(t,e.child,null,l),t.child.memoizedState=as(l),t.memoizedState=is,s);if(!(t.mode&1))return Ur(e,t,l,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var c=r.dgst;return r=c,s=Error(k(419)),r=xa(s,r,void 0),Ur(e,t,l,r)}if(c=(l&e.childLanes)!==0,ke||c){if(r=ce,r!==null){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|l)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,pt(e,a),Ge(r,e,a,-1))}return ll(),r=xa(Error(k(421))),Ur(e,t,l,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=vp.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Ie=Ct(a.nextSibling),qe=t,X=!0,Qe=null,e!==null&&(ze[De++]=lt,ze[De++]=ot,ze[De++]=Qt,lt=e.id,ot=e.overflow,Qt=t),t=tl(t,r.children),t.flags|=4096,t)}function mo(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ja(e.return,t,n)}function va(e,t,n,r,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function _d(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(we(e,t,r.children,n),r=J.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mo(e,n,t);else if(e.tag===19)mo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Y(J,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&ji(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),va(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ji(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}va(t,!0,n,null,s);break;case"together":va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ii(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gt|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(k(153));if(t.child!==null){for(e=t.child,n=It(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=It(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function lp(e,t,n){switch(t.tag){case 3:wd(t),Sn();break;case 5:Yc(t);break;case 1:Ce(t.type)&&xi(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Y(bi,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Y(J,J.current&1),t.flags|=128,null):n&t.child.childLanes?bd(e,t,n):(Y(J,J.current&1),e=mt(e,t,n),e!==null?e.sibling:null);Y(J,J.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return _d(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Y(J,J.current),r)break;return null;case 22:case 23:return t.lanes=0,xd(e,t,n)}return mt(e,t,n)}var Nd,ss,jd,kd;Nd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ss=function(){};jd=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Ft(rt.current);var s=null;switch(n){case"input":a=Ea(e,a),r=Ea(e,r),s=[];break;case"select":a=ee({},a,{value:void 0}),r=ee({},r,{value:void 0}),s=[];break;case"textarea":a=Ia(e,a),r=Ia(e,r),s=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gi)}qa(n,r);var l;n=null;for(d in a)if(!r.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var c=a[d];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(dr.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var o=r[d];if(c=a!=null?a[d]:void 0,r.hasOwnProperty(d)&&o!==c&&(o!=null||c!=null))if(d==="style")if(c){for(l in c)!c.hasOwnProperty(l)||o&&o.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in o)o.hasOwnProperty(l)&&c[l]!==o[l]&&(n||(n={}),n[l]=o[l])}else n||(s||(s=[]),s.push(d,n)),n=o;else d==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,c=c?c.__html:void 0,o!=null&&c!==o&&(s=s||[]).push(d,o)):d==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(d,""+o):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(dr.hasOwnProperty(d)?(o!=null&&d==="onScroll"&&G("scroll",e),s||c===o||(s=[])):(s=s||[]).push(d,o))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};kd=function(e,t,n,r){n!==r&&(t.flags|=4)};function Un(e,t){if(!X)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function op(e,t,n){var r=t.pendingProps;switch(Os(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ye(t),null;case 1:return Ce(t.type)&&yi(),ye(t),null;case 3:return r=t.stateNode,En(),K(Se),K(ve),Gs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Br(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qe!==null&&(ms(Qe),Qe=null))),ss(e,t),ye(t),null;case 5:Ys(t);var a=Ft(_r.current);if(n=t.type,e!==null&&t.stateNode!=null)jd(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(k(166));return ye(t),null}if(e=Ft(rt.current),Br(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[tt]=t,r[wr]=s,e=(t.mode&1)!==0,n){case"dialog":G("cancel",r),G("close",r);break;case"iframe":case"object":case"embed":G("load",r);break;case"video":case"audio":for(a=0;a<Xn.length;a++)G(Xn[a],r);break;case"source":G("error",r);break;case"img":case"image":case"link":G("error",r),G("load",r);break;case"details":G("toggle",r);break;case"input":_l(r,s),G("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},G("invalid",r);break;case"textarea":jl(r,s),G("invalid",r)}qa(n,s),a=null;for(var l in s)if(s.hasOwnProperty(l)){var c=s[l];l==="children"?typeof c=="string"?r.textContent!==c&&(s.suppressHydrationWarning!==!0&&Fr(r.textContent,c,e),a=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(s.suppressHydrationWarning!==!0&&Fr(r.textContent,c,e),a=["children",""+c]):dr.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&G("scroll",r)}switch(n){case"input":Rr(r),Nl(r,s,!0);break;case"textarea":Rr(r),kl(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=gi)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Zo(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[tt]=t,e[wr]=r,Nd(e,t,!1,!1),t.stateNode=e;e:{switch(l=La(n,r),n){case"dialog":G("cancel",e),G("close",e),a=r;break;case"iframe":case"object":case"embed":G("load",e),a=r;break;case"video":case"audio":for(a=0;a<Xn.length;a++)G(Xn[a],e);a=r;break;case"source":G("error",e),a=r;break;case"img":case"image":case"link":G("error",e),G("load",e),a=r;break;case"details":G("toggle",e),a=r;break;case"input":_l(e,r),a=Ea(e,r),G("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=ee({},r,{value:void 0}),G("invalid",e);break;case"textarea":jl(e,r),a=Ia(e,r),G("invalid",e);break;default:a=r}qa(n,a),c=a;for(s in c)if(c.hasOwnProperty(s)){var o=c[s];s==="style"?nc(e,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&ec(e,o)):s==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&ur(e,o):typeof o=="number"&&ur(e,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dr.hasOwnProperty(s)?o!=null&&s==="onScroll"&&G("scroll",e):o!=null&&ks(e,s,o,l))}switch(n){case"input":Rr(e),Nl(e,r,!1);break;case"textarea":Rr(e),kl(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qt(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?xn(e,!!r.multiple,s,!1):r.defaultValue!=null&&xn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=gi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ye(t),null;case 6:if(e&&t.stateNode!=null)kd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(k(166));if(n=Ft(_r.current),Ft(rt.current),Br(t)){if(r=t.stateNode,n=t.memoizedProps,r[tt]=t,(s=r.nodeValue!==n)&&(e=qe,e!==null))switch(e.tag){case 3:Fr(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Fr(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[tt]=t,t.stateNode=r}return ye(t),null;case 13:if(K(J),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(X&&Ie!==null&&t.mode&1&&!(t.flags&128))Fc(),Sn(),t.flags|=98560,s=!1;else if(s=Br(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(k(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(k(317));s[tt]=t}else Sn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ye(t),s=!1}else Qe!==null&&(ms(Qe),Qe=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||J.current&1?le===0&&(le=3):ll())),t.updateQueue!==null&&(t.flags|=4),ye(t),null);case 4:return En(),ss(e,t),e===null&&xr(t.stateNode.containerInfo),ye(t),null;case 10:return Bs(t.type._context),ye(t),null;case 17:return Ce(t.type)&&yi(),ye(t),null;case 19:if(K(J),s=t.memoizedState,s===null)return ye(t),null;if(r=(t.flags&128)!==0,l=s.rendering,l===null)if(r)Un(s,!1);else{if(le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=ji(e),l!==null){for(t.flags|=128,Un(s,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Y(J,J.current&1|2),t.child}e=e.sibling}s.tail!==null&&re()>Mn&&(t.flags|=128,r=!0,Un(s,!1),t.lanes=4194304)}else{if(!r)if(e=ji(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Un(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!X)return ye(t),null}else 2*re()-s.renderingStartTime>Mn&&n!==1073741824&&(t.flags|=128,r=!0,Un(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(n=s.last,n!==null?n.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=re(),t.sibling=null,n=J.current,Y(J,r?n&1|2:n&1),t):(ye(t),null);case 22:case 23:return sl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Me&1073741824&&(ye(t),t.subtreeFlags&6&&(t.flags|=8192)):ye(t),null;case 24:return null;case 25:return null}throw Error(k(156,t.tag))}function cp(e,t){switch(Os(t),t.tag){case 1:return Ce(t.type)&&yi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return En(),K(Se),K(ve),Gs(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ys(t),null;case 13:if(K(J),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(k(340));Sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return K(J),null;case 4:return En(),null;case 10:return Bs(t.type._context),null;case 22:case 23:return sl(),null;case 24:return null;default:return null}}var Qr=!1,xe=!1,dp=typeof WeakSet=="function"?WeakSet:Set,P=null;function gn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ne(e,t,r)}else n.current=null}function ls(e,t,n){try{n()}catch(r){ne(e,t,r)}}var fo=!1;function up(e,t){if(Ba=pi,e=Mc(),Ds(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,c=-1,o=-1,d=0,p=0,g=e,h=null;t:for(;;){for(var u;g!==n||a!==0&&g.nodeType!==3||(c=l+a),g!==s||r!==0&&g.nodeType!==3||(o=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(u=g.firstChild)!==null;)h=g,g=u;for(;;){if(g===e)break t;if(h===n&&++d===a&&(c=l),h===s&&++p===r&&(o=l),(u=g.nextSibling)!==null)break;g=h,h=g.parentNode}g=u}n=c===-1||o===-1?null:{start:c,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(Va={focusedElem:e,selectionRange:n},pi=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,C=y.memoizedState,m=t.stateNode,f=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ve(t.type,v),C);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(w){ne(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return y=fo,fo=!1,y}function sr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&ls(t,n,s)}a=a.next}while(a!==r)}}function Fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Sd(e){var t=e.alternate;t!==null&&(e.alternate=null,Sd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tt],delete t[wr],delete t[Ya],delete t[Qh],delete t[Yh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Cd(e){return e.tag===5||e.tag===3||e.tag===4}function go(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Cd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gi));else if(r!==4&&(e=e.child,e!==null))for(cs(e,t,n),e=e.sibling;e!==null;)cs(e,t,n),e=e.sibling}function ds(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ds(e,t,n),e=e.sibling;e!==null;)ds(e,t,n),e=e.sibling}var ue=null,Ue=!1;function gt(e,t,n){for(n=n.child;n!==null;)Ed(e,t,n),n=n.sibling}function Ed(e,t,n){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(Ri,n)}catch{}switch(n.tag){case 5:xe||gn(n,t);case 6:var r=ue,a=Ue;ue=null,gt(e,t,n),ue=r,Ue=a,ue!==null&&(Ue?(e=ue,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ue.removeChild(n.stateNode));break;case 18:ue!==null&&(Ue?(e=ue,n=n.stateNode,e.nodeType===8?ha(e.parentNode,n):e.nodeType===1&&ha(e,n),fr(e)):ha(ue,n.stateNode));break;case 4:r=ue,a=Ue,ue=n.stateNode.containerInfo,Ue=!0,gt(e,t,n),ue=r,Ue=a;break;case 0:case 11:case 14:case 15:if(!xe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var s=a,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&ls(n,t,l),a=a.next}while(a!==r)}gt(e,t,n);break;case 1:if(!xe&&(gn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){ne(n,t,c)}gt(e,t,n);break;case 21:gt(e,t,n);break;case 22:n.mode&1?(xe=(r=xe)||n.memoizedState!==null,gt(e,t,n),xe=r):gt(e,t,n);break;default:gt(e,t,n)}}function yo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dp),t.forEach(function(r){var a=wp.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function Be(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:ue=c.stateNode,Ue=!1;break e;case 3:ue=c.stateNode.containerInfo,Ue=!0;break e;case 4:ue=c.stateNode.containerInfo,Ue=!0;break e}c=c.return}if(ue===null)throw Error(k(160));Ed(s,l,a),ue=null,Ue=!1;var o=a.alternate;o!==null&&(o.return=null),a.return=null}catch(d){ne(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Td(t,e),t=t.sibling}function Td(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Be(t,e),Ze(e),r&4){try{sr(3,e,e.return),Fi(3,e)}catch(v){ne(e,e.return,v)}try{sr(5,e,e.return)}catch(v){ne(e,e.return,v)}}break;case 1:Be(t,e),Ze(e),r&512&&n!==null&&gn(n,n.return);break;case 5:if(Be(t,e),Ze(e),r&512&&n!==null&&gn(n,n.return),e.flags&32){var a=e.stateNode;try{ur(a,"")}catch(v){ne(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,l=n!==null?n.memoizedProps:s,c=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{c==="input"&&s.type==="radio"&&s.name!=null&&Xo(a,s),La(c,l);var d=La(c,s);for(l=0;l<o.length;l+=2){var p=o[l],g=o[l+1];p==="style"?nc(a,g):p==="dangerouslySetInnerHTML"?ec(a,g):p==="children"?ur(a,g):ks(a,p,g,d)}switch(c){case"input":Ta(a,s);break;case"textarea":Jo(a,s);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var u=s.value;u!=null?xn(a,!!s.multiple,u,!1):h!==!!s.multiple&&(s.defaultValue!=null?xn(a,!!s.multiple,s.defaultValue,!0):xn(a,!!s.multiple,s.multiple?[]:"",!1))}a[wr]=s}catch(v){ne(e,e.return,v)}}break;case 6:if(Be(t,e),Ze(e),r&4){if(e.stateNode===null)throw Error(k(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){ne(e,e.return,v)}}break;case 3:if(Be(t,e),Ze(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fr(t.containerInfo)}catch(v){ne(e,e.return,v)}break;case 4:Be(t,e),Ze(e);break;case 13:Be(t,e),Ze(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(il=re())),r&4&&yo(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(xe=(d=xe)||p,Be(t,e),xe=d):Be(t,e),Ze(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(P=e,p=e.child;p!==null;){for(g=P=p;P!==null;){switch(h=P,u=h.child,h.tag){case 0:case 11:case 14:case 15:sr(4,h,h.return);break;case 1:gn(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){ne(r,n,v)}}break;case 5:gn(h,h.return);break;case 22:if(h.memoizedState!==null){vo(g);continue}}u!==null?(u.return=h,P=u):vo(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{a=g.stateNode,d?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(c=g.stateNode,o=g.memoizedProps.style,l=o!=null&&o.hasOwnProperty("display")?o.display:null,c.style.display=tc("display",l))}catch(v){ne(e,e.return,v)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(v){ne(e,e.return,v)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Be(t,e),Ze(e),r&4&&yo(e);break;case 21:break;default:Be(t,e),Ze(e)}}function Ze(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Cd(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(ur(a,""),r.flags&=-33);var s=go(e);ds(e,s,a);break;case 3:case 4:var l=r.stateNode.containerInfo,c=go(e);cs(e,c,l);break;default:throw Error(k(161))}}catch(o){ne(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hp(e,t,n){P=e,Md(e)}function Md(e,t,n){for(var r=(e.mode&1)!==0;P!==null;){var a=P,s=a.child;if(a.tag===22&&r){var l=a.memoizedState!==null||Qr;if(!l){var c=a.alternate,o=c!==null&&c.memoizedState!==null||xe;c=Qr;var d=xe;if(Qr=l,(xe=o)&&!d)for(P=a;P!==null;)l=P,o=l.child,l.tag===22&&l.memoizedState!==null?wo(a):o!==null?(o.return=l,P=o):wo(a);for(;s!==null;)P=s,Md(s),s=s.sibling;P=a,Qr=c,xe=d}xo(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,P=s):xo(e)}}function xo(e){for(;P!==null;){var t=P;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:xe||Fi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!xe)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:Ve(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&to(t,s,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}to(t,l,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&fr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}xe||t.flags&512&&os(t)}catch(h){ne(t,t.return,h)}}if(t===e){P=null;break}if(n=t.sibling,n!==null){n.return=t.return,P=n;break}P=t.return}}function vo(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var n=t.sibling;if(n!==null){n.return=t.return,P=n;break}P=t.return}}function wo(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fi(4,t)}catch(o){ne(t,n,o)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(o){ne(t,a,o)}}var s=t.return;try{os(t)}catch(o){ne(t,s,o)}break;case 5:var l=t.return;try{os(t)}catch(o){ne(t,l,o)}}}catch(o){ne(t,t.return,o)}if(t===e){P=null;break}var c=t.sibling;if(c!==null){c.return=t.return,P=c;break}P=t.return}}var pp=Math.ceil,Ci=ft.ReactCurrentDispatcher,nl=ft.ReactCurrentOwner,Oe=ft.ReactCurrentBatchConfig,F=0,ce=null,ae=null,he=0,Me=0,yn=At(0),le=0,Sr=null,Gt=0,Bi=0,rl=0,lr=null,je=null,il=0,Mn=1/0,at=null,Ei=!1,us=null,Tt=null,Yr=!1,Nt=null,Ti=0,or=0,hs=null,ai=-1,si=0;function be(){return F&6?re():ai!==-1?ai:ai=re()}function Mt(e){return e.mode&1?F&2&&he!==0?he&-he:Kh.transition!==null?(si===0&&(si=mc()),si):(e=U,e!==0||(e=window.event,e=e===void 0?16:bc(e.type)),e):1}function Ge(e,t,n,r){if(50<or)throw or=0,hs=null,Error(k(185));Tr(e,n,r),(!(F&2)||e!==ce)&&(e===ce&&(!(F&2)&&(Bi|=n),le===4&&wt(e,he)),Ee(e,r),n===1&&F===0&&!(t.mode&1)&&(Mn=re()+500,Oi&&zt()))}function Ee(e,t){var n=e.callbackNode;Ku(e,t);var r=hi(e,e===ce?he:0);if(r===0)n!==null&&El(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&El(n),t===1)e.tag===0?Gh(bo.bind(null,e)):Oc(bo.bind(null,e)),Vh(function(){!(F&6)&&zt()}),n=null;else{switch(fc(r)){case 1:n=Ms;break;case 4:n=hc;break;case 16:n=ui;break;case 536870912:n=pc;break;default:n=ui}n=Dd(n,Id.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Id(e,t){if(ai=-1,si=0,F&6)throw Error(k(327));var n=e.callbackNode;if(Nn()&&e.callbackNode!==n)return null;var r=hi(e,e===ce?he:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Mi(e,r);else{t=r;var a=F;F|=2;var s=qd();(ce!==e||he!==t)&&(at=null,Mn=re()+500,Bt(e,t));do try{gp();break}catch(c){Pd(e,c)}while(!0);Fs(),Ci.current=s,F=a,ae!==null?t=0:(ce=null,he=0,t=le)}if(t!==0){if(t===2&&(a=$a(e),a!==0&&(r=a,t=ps(e,a))),t===1)throw n=Sr,Bt(e,0),wt(e,r),Ee(e,re()),n;if(t===6)wt(e,r);else{if(a=e.current.alternate,!(r&30)&&!mp(a)&&(t=Mi(e,r),t===2&&(s=$a(e),s!==0&&(r=s,t=ps(e,s))),t===1))throw n=Sr,Bt(e,0),wt(e,r),Ee(e,re()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(k(345));case 2:Ot(e,je,at);break;case 3:if(wt(e,r),(r&130023424)===r&&(t=il+500-re(),10<t)){if(hi(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){be(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Qa(Ot.bind(null,e,je,at),t);break}Ot(e,je,at);break;case 4:if(wt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-Ye(r);s=1<<l,l=t[l],l>a&&(a=l),r&=~s}if(r=a,r=re()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pp(r/1960))-r,10<r){e.timeoutHandle=Qa(Ot.bind(null,e,je,at),r);break}Ot(e,je,at);break;case 5:Ot(e,je,at);break;default:throw Error(k(329))}}}return Ee(e,re()),e.callbackNode===n?Id.bind(null,e):null}function ps(e,t){var n=lr;return e.current.memoizedState.isDehydrated&&(Bt(e,t).flags|=256),e=Mi(e,t),e!==2&&(t=je,je=n,t!==null&&ms(t)),e}function ms(e){je===null?je=e:je.push.apply(je,e)}function mp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!Ke(s(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wt(e,t){for(t&=~rl,t&=~Bi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ye(t),r=1<<n;e[n]=-1,t&=~r}}function bo(e){if(F&6)throw Error(k(327));Nn();var t=hi(e,0);if(!(t&1))return Ee(e,re()),null;var n=Mi(e,t);if(e.tag!==0&&n===2){var r=$a(e);r!==0&&(t=r,n=ps(e,r))}if(n===1)throw n=Sr,Bt(e,0),wt(e,t),Ee(e,re()),n;if(n===6)throw Error(k(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ot(e,je,at),Ee(e,re()),null}function al(e,t){var n=F;F|=1;try{return e(t)}finally{F=n,F===0&&(Mn=re()+500,Oi&&zt())}}function Kt(e){Nt!==null&&Nt.tag===0&&!(F&6)&&Nn();var t=F;F|=1;var n=Oe.transition,r=U;try{if(Oe.transition=null,U=1,e)return e()}finally{U=r,Oe.transition=n,F=t,!(F&6)&&zt()}}function sl(){Me=yn.current,K(yn)}function Bt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Bh(n)),ae!==null)for(n=ae.return;n!==null;){var r=n;switch(Os(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yi();break;case 3:En(),K(Se),K(ve),Gs();break;case 5:Ys(r);break;case 4:En();break;case 13:K(J);break;case 19:K(J);break;case 10:Bs(r.type._context);break;case 22:case 23:sl()}n=n.return}if(ce=e,ae=e=It(e.current,null),he=Me=t,le=0,Sr=null,rl=Bi=Gt=0,je=lr=null,Wt!==null){for(t=0;t<Wt.length;t++)if(n=Wt[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=a,r.next=l}n.pending=r}Wt=null}return e}function Pd(e,t){do{var n=ae;try{if(Fs(),ni.current=Si,ki){for(var r=Z.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}ki=!1}if(Yt=0,oe=se=Z=null,ar=!1,Nr=0,nl.current=null,n===null||n.return===null){le=1,Sr=t,ae=null;break}e:{var s=e,l=n.return,c=n,o=t;if(t=he,c.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=o,p=c,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var u=lo(l);if(u!==null){u.flags&=-257,oo(u,l,c,s,t),u.mode&1&&so(s,d,t),t=u,o=d;var y=t.updateQueue;if(y===null){var v=new Set;v.add(o),t.updateQueue=v}else y.add(o);break e}else{if(!(t&1)){so(s,d,t),ll();break e}o=Error(k(426))}}else if(X&&c.mode&1){var C=lo(l);if(C!==null){!(C.flags&65536)&&(C.flags|=256),oo(C,l,c,s,t),Hs(Tn(o,c));break e}}s=o=Tn(o,c),le!==4&&(le=2),lr===null?lr=[s]:lr.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var m=fd(s,o,t);eo(s,m);break e;case 1:c=o;var f=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Tt===null||!Tt.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=gd(s,c,t);eo(s,w);break e}}s=s.return}while(s!==null)}Rd(n)}catch(j){t=j,ae===n&&n!==null&&(ae=n=n.return);continue}break}while(!0)}function qd(){var e=Ci.current;return Ci.current=Si,e===null?Si:e}function ll(){(le===0||le===3||le===2)&&(le=4),ce===null||!(Gt&268435455)&&!(Bi&268435455)||wt(ce,he)}function Mi(e,t){var n=F;F|=2;var r=qd();(ce!==e||he!==t)&&(at=null,Bt(e,t));do try{fp();break}catch(a){Pd(e,a)}while(!0);if(Fs(),F=n,Ci.current=r,ae!==null)throw Error(k(261));return ce=null,he=0,le}function fp(){for(;ae!==null;)Ld(ae)}function gp(){for(;ae!==null&&!Hu();)Ld(ae)}function Ld(e){var t=zd(e.alternate,e,Me);e.memoizedProps=e.pendingProps,t===null?Rd(e):ae=t,nl.current=null}function Rd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cp(n,t),n!==null){n.flags&=32767,ae=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{le=6,ae=null;return}}else if(n=op(n,t,Me),n!==null){ae=n;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);le===0&&(le=5)}function Ot(e,t,n){var r=U,a=Oe.transition;try{Oe.transition=null,U=1,yp(e,t,n,r)}finally{Oe.transition=a,U=r}return null}function yp(e,t,n,r){do Nn();while(Nt!==null);if(F&6)throw Error(k(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(k(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Xu(e,s),e===ce&&(ae=ce=null,he=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yr||(Yr=!0,Dd(ui,function(){return Nn(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Oe.transition,Oe.transition=null;var l=U;U=1;var c=F;F|=4,nl.current=null,up(e,n),Td(n,e),zh(Va),pi=!!Ba,Va=Ba=null,e.current=n,hp(n),Wu(),F=c,U=l,Oe.transition=s}else e.current=n;if(Yr&&(Yr=!1,Nt=e,Ti=a),s=e.pendingLanes,s===0&&(Tt=null),Vu(n.stateNode),Ee(e,re()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ei)throw Ei=!1,e=us,us=null,e;return Ti&1&&e.tag!==0&&Nn(),s=e.pendingLanes,s&1?e===hs?or++:(or=0,hs=e):or=0,zt(),null}function Nn(){if(Nt!==null){var e=fc(Ti),t=Oe.transition,n=U;try{if(Oe.transition=null,U=16>e?16:e,Nt===null)var r=!1;else{if(e=Nt,Nt=null,Ti=0,F&6)throw Error(k(331));var a=F;for(F|=4,P=e.current;P!==null;){var s=P,l=s.child;if(P.flags&16){var c=s.deletions;if(c!==null){for(var o=0;o<c.length;o++){var d=c[o];for(P=d;P!==null;){var p=P;switch(p.tag){case 0:case 11:case 15:sr(8,p,s)}var g=p.child;if(g!==null)g.return=p,P=g;else for(;P!==null;){p=P;var h=p.sibling,u=p.return;if(Sd(p),p===d){P=null;break}if(h!==null){h.return=u,P=h;break}P=u}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}P=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,P=l;else e:for(;P!==null;){if(s=P,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sr(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,P=m;break e}P=s.return}}var f=e.current;for(P=f;P!==null;){l=P;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,P=x;else e:for(l=f;P!==null;){if(c=P,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Fi(9,c)}}catch(j){ne(c,c.return,j)}if(c===l){P=null;break e}var w=c.sibling;if(w!==null){w.return=c.return,P=w;break e}P=c.return}}if(F=a,zt(),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(Ri,e)}catch{}r=!0}return r}finally{U=n,Oe.transition=t}}return!1}function _o(e,t,n){t=Tn(n,t),t=fd(e,t,1),e=Et(e,t,1),t=be(),e!==null&&(Tr(e,1,t),Ee(e,t))}function ne(e,t,n){if(e.tag===3)_o(e,e,n);else for(;t!==null;){if(t.tag===3){_o(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tt===null||!Tt.has(r))){e=Tn(n,e),e=gd(t,e,1),t=Et(t,e,1),e=be(),t!==null&&(Tr(t,1,e),Ee(t,e));break}}t=t.return}}function xp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&n,ce===e&&(he&n)===n&&(le===4||le===3&&(he&130023424)===he&&500>re()-il?Bt(e,0):rl|=n),Ee(e,t)}function Ad(e,t){t===0&&(e.mode&1?(t=Dr,Dr<<=1,!(Dr&130023424)&&(Dr=4194304)):t=1);var n=be();e=pt(e,t),e!==null&&(Tr(e,t,n),Ee(e,n))}function vp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ad(e,n)}function wp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(t),Ad(e,n)}var zd;zd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Se.current)ke=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ke=!1,lp(e,t,n);ke=!!(e.flags&131072)}else ke=!1,X&&t.flags&1048576&&Hc(t,wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ii(e,t),e=t.pendingProps;var a=kn(t,ve.current);_n(t,n),a=Xs(null,t,r,e,a,n);var s=Js();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ce(r)?(s=!0,xi(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Us(t),a.updater=Wi,t.stateNode=a,a._reactInternals=t,es(t,r,e,n),t=rs(null,t,r,!0,s,n)):(t.tag=0,X&&s&&$s(t),we(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ii(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=_p(r),e=Ve(r,e),a){case 0:t=ns(null,t,r,e,n);break e;case 1:t=ho(null,t,r,e,n);break e;case 11:t=co(null,t,r,e,n);break e;case 14:t=uo(null,t,r,Ve(r.type,e),n);break e}throw Error(k(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ve(r,a),ns(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ve(r,a),ho(e,t,r,a,n);case 3:e:{if(wd(t),e===null)throw Error(k(387));r=t.pendingProps,s=t.memoizedState,a=s.element,Qc(e,t),Ni(t,r,null,n);var l=t.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Tn(Error(k(423)),t),t=po(e,t,r,n,a);break e}else if(r!==a){a=Tn(Error(k(424)),t),t=po(e,t,r,n,a);break e}else for(Ie=Ct(t.stateNode.containerInfo.firstChild),qe=t,X=!0,Qe=null,n=Vc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sn(),r===a){t=mt(e,t,n);break e}we(e,t,r,n)}t=t.child}return t;case 5:return Yc(t),e===null&&Xa(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,l=a.children,Ua(r,a)?l=null:s!==null&&Ua(r,s)&&(t.flags|=32),vd(e,t),we(e,t,l,n),t.child;case 6:return e===null&&Xa(t),null;case 13:return bd(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cn(t,null,r,n):we(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ve(r,a),co(e,t,r,a,n);case 7:return we(e,t,t.pendingProps,n),t.child;case 8:return we(e,t,t.pendingProps.children,n),t.child;case 12:return we(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,l=a.value,Y(bi,r._currentValue),r._currentValue=l,s!==null)if(Ke(s.value,l)){if(s.children===a.children&&!Se.current){t=mt(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var c=s.dependencies;if(c!==null){l=s.child;for(var o=c.firstContext;o!==null;){if(o.context===r){if(s.tag===1){o=ct(-1,n&-n),o.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?o.next=o:(o.next=p.next,p.next=o),d.pending=o}}s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Ja(s.return,n,t),c.lanes|=n;break}o=o.next}}else if(s.tag===10)l=s.type===t.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(k(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Ja(l,n,t),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===t){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}we(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,_n(t,n),a=He(a),r=r(a),t.flags|=1,we(e,t,r,n),t.child;case 14:return r=t.type,a=Ve(r,t.pendingProps),a=Ve(r.type,a),uo(e,t,r,a,n);case 15:return yd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Ve(r,a),ii(e,t),t.tag=1,Ce(r)?(e=!0,xi(t)):e=!1,_n(t,n),md(t,r,a),es(t,r,a,n),rs(null,t,r,!0,e,n);case 19:return _d(e,t,n);case 22:return xd(e,t,n)}throw Error(k(156,t.tag))};function Dd(e,t){return uc(e,t)}function bp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(e,t,n,r){return new bp(e,t,n,r)}function ol(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _p(e){if(typeof e=="function")return ol(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Cs)return 11;if(e===Es)return 14}return 2}function It(e,t){var n=e.alternate;return n===null?(n=$e(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function li(e,t,n,r,a,s){var l=2;if(r=e,typeof e=="function")ol(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ln:return Vt(n.children,a,s,t);case Ss:l=8,a|=8;break;case ja:return e=$e(12,n,t,a|2),e.elementType=ja,e.lanes=s,e;case ka:return e=$e(13,n,t,a),e.elementType=ka,e.lanes=s,e;case Sa:return e=$e(19,n,t,a),e.elementType=Sa,e.lanes=s,e;case Yo:return Vi(n,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Uo:l=10;break e;case Qo:l=9;break e;case Cs:l=11;break e;case Es:l=14;break e;case yt:l=16,r=null;break e}throw Error(k(130,e==null?e:typeof e,""))}return t=$e(l,n,t,a),t.elementType=e,t.type=r,t.lanes=s,t}function Vt(e,t,n,r){return e=$e(7,e,r,t),e.lanes=n,e}function Vi(e,t,n,r){return e=$e(22,e,r,t),e.elementType=Yo,e.lanes=n,e.stateNode={isHidden:!1},e}function wa(e,t,n){return e=$e(6,e,null,t),e.lanes=n,e}function ba(e,t,n){return t=$e(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Np(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ta(0),this.expirationTimes=ta(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ta(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function cl(e,t,n,r,a,s,l,c,o){return e=new Np(e,t,n,c,o),t===1?(t=1,s===!0&&(t|=8)):t=0,s=$e(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Us(s),e}function jp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $d(e){if(!e)return Lt;e=e._reactInternals;e:{if(Zt(e)!==e||e.tag!==1)throw Error(k(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ce(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(k(171))}if(e.tag===1){var n=e.type;if(Ce(n))return $c(e,n,t)}return t}function Od(e,t,n,r,a,s,l,c,o){return e=cl(n,r,!0,e,a,s,l,c,o),e.context=$d(null),n=e.current,r=be(),a=Mt(n),s=ct(r,a),s.callback=t??null,Et(n,s,a),e.current.lanes=a,Tr(e,a,r),Ee(e,r),e}function Ui(e,t,n,r){var a=t.current,s=be(),l=Mt(a);return n=$d(n),t.context===null?t.context=n:t.pendingContext=n,t=ct(s,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Et(a,t,l),e!==null&&(Ge(e,a,l,s),ti(e,a,l)),l}function Ii(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function No(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function dl(e,t){No(e,t),(e=e.alternate)&&No(e,t)}function kp(){return null}var Hd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ul(e){this._internalRoot=e}Qi.prototype.render=ul.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(k(409));Ui(e,t,null,null)};Qi.prototype.unmount=ul.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kt(function(){Ui(null,e,null,null)}),t[ht]=null}};function Qi(e){this._internalRoot=e}Qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=xc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<vt.length&&t!==0&&t<vt[n].priority;n++);vt.splice(n,0,e),n===0&&wc(e)}};function hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jo(){}function Sp(e,t,n,r,a){if(a){if(typeof r=="function"){var s=r;r=function(){var d=Ii(l);s.call(d)}}var l=Od(t,r,e,0,null,!1,!1,"",jo);return e._reactRootContainer=l,e[ht]=l.current,xr(e.nodeType===8?e.parentNode:e),Kt(),l}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var c=r;r=function(){var d=Ii(o);c.call(d)}}var o=cl(e,0,!1,null,null,!1,!1,"",jo);return e._reactRootContainer=o,e[ht]=o.current,xr(e.nodeType===8?e.parentNode:e),Kt(function(){Ui(t,o,n,r)}),o}function Gi(e,t,n,r,a){var s=n._reactRootContainer;if(s){var l=s;if(typeof a=="function"){var c=a;a=function(){var o=Ii(l);c.call(o)}}Ui(t,l,e,a)}else l=Sp(n,t,e,a,r);return Ii(l)}gc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Kn(t.pendingLanes);n!==0&&(Is(t,n|1),Ee(t,re()),!(F&6)&&(Mn=re()+500,zt()))}break;case 13:Kt(function(){var r=pt(e,1);if(r!==null){var a=be();Ge(r,e,1,a)}}),dl(e,1)}};Ps=function(e){if(e.tag===13){var t=pt(e,134217728);if(t!==null){var n=be();Ge(t,e,134217728,n)}dl(e,134217728)}};yc=function(e){if(e.tag===13){var t=Mt(e),n=pt(e,t);if(n!==null){var r=be();Ge(n,e,t,r)}dl(e,t)}};xc=function(){return U};vc=function(e,t){var n=U;try{return U=e,t()}finally{U=n}};Aa=function(e,t,n){switch(t){case"input":if(Ta(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=$i(r);if(!a)throw Error(k(90));Ko(r),Ta(r,a)}}}break;case"textarea":Jo(e,n);break;case"select":t=n.value,t!=null&&xn(e,!!n.multiple,t,!1)}};ac=al;sc=Kt;var Cp={usingClientEntryPoint:!1,Events:[Ir,un,$i,rc,ic,al]},Qn={findFiberByHostInstance:Ht,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ep={bundleType:Qn.bundleType,version:Qn.version,rendererPackageName:Qn.rendererPackageName,rendererConfig:Qn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ft.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=cc(e),e===null?null:e.stateNode},findFiberByHostInstance:Qn.findFiberByHostInstance||kp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gr.isDisabled&&Gr.supportsFiber)try{Ri=Gr.inject(Ep),nt=Gr}catch{}}Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cp;Re.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hl(t))throw Error(k(200));return jp(e,t,null,n)};Re.createRoot=function(e,t){if(!hl(e))throw Error(k(299));var n=!1,r="",a=Hd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=cl(e,1,!1,null,null,n,!1,r,a),e[ht]=t.current,xr(e.nodeType===8?e.parentNode:e),new ul(t)};Re.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(k(188)):(e=Object.keys(e).join(","),Error(k(268,e)));return e=cc(t),e=e===null?null:e.stateNode,e};Re.flushSync=function(e){return Kt(e)};Re.hydrate=function(e,t,n){if(!Yi(t))throw Error(k(200));return Gi(null,e,t,!0,n)};Re.hydrateRoot=function(e,t,n){if(!hl(e))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,a=!1,s="",l=Hd;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Od(t,null,e,1,n??null,a,!1,s,l),e[ht]=t.current,xr(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Qi(t)};Re.render=function(e,t,n){if(!Yi(t))throw Error(k(200));return Gi(null,e,t,!1,n)};Re.unmountComponentAtNode=function(e){if(!Yi(e))throw Error(k(40));return e._reactRootContainer?(Kt(function(){Gi(null,null,e,!1,function(){e._reactRootContainer=null,e[ht]=null})}),!0):!1};Re.unstable_batchedUpdates=al;Re.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yi(n))throw Error(k(200));if(e==null||e._reactInternals===void 0)throw Error(k(38));return Gi(e,t,n,!1,r)};Re.version="18.3.1-next-f1338f8080-20240426";function Wd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wd)}catch(e){console.error(e)}}Wd(),Wo.exports=Re;var Tp=Wo.exports,Fd,ko=Tp;Fd=ko.createRoot,ko.hydrateRoot;const L=[{id:"slash",name:"Slash",description:"A basic melee attack with a bladed weapon",energyCost:2,damage:15,range:1,cooldown:1,currentCooldown:0,unlockLevel:1,animation:"slash"},{id:"power_strike",name:"Power Strike",description:"A devastating melee attack that deals massive damage",energyCost:5,damage:35,range:1,cooldown:3,currentCooldown:0,unlockLevel:3,animation:"power_strike"},{id:"defensive_stance",name:"Defensive Stance",description:"Increases defense but reduces movement speed",energyCost:3,effect:{type:"buff",duration:5,value:10},range:0,cooldown:5,currentCooldown:0,unlockLevel:2,animation:"defensive_stance"},{id:"aimed_shot",name:"Aimed Shot",description:"A precise ranged attack with increased critical chance",energyCost:4,damage:25,range:5,cooldown:2,currentCooldown:0,unlockLevel:1,animation:"aimed_shot"},{id:"quick_shot",name:"Quick Shot",description:"A fast ranged attack with reduced damage",energyCost:2,damage:12,range:4,cooldown:.5,currentCooldown:0,unlockLevel:1,animation:"quick_shot"},{id:"explosive_shot",name:"Explosive Shot",description:"A shot that explodes on impact, dealing area damage",energyCost:6,damage:30,range:5,cooldown:4,currentCooldown:0,unlockLevel:3,animation:"explosive_shot"},{id:"heal",name:"Heal",description:"Restore health to an ally",energyCost:4,healing:30,range:2,cooldown:1,currentCooldown:0,unlockLevel:1,animation:"heal"},{id:"poison_dart",name:"Poison Dart",description:"A ranged attack that poisons the target",energyCost:3,damage:10,effect:{type:"poison",duration:3,value:5},range:3,cooldown:2,currentCooldown:0,unlockLevel:2,animation:"poison_dart"},{id:"adrenaline_shot",name:"Adrenaline Shot",description:"Inject an ally with adrenaline, boosting their damage",energyCost:5,effect:{type:"buff",duration:4,value:15},range:2,cooldown:5,currentCooldown:0,unlockLevel:3,animation:"adrenaline_shot"},{id:"emp_blast",name:"EMP Blast",description:"An electromagnetic pulse that damages robotic enemies",energyCost:4,damage:25,range:3,cooldown:3,currentCooldown:0,unlockLevel:1,animation:"emp_blast"},{id:"turret_deploy",name:"Deploy Turret",description:"Deploy a temporary turret that attacks enemies",energyCost:8,damage:15,range:1,cooldown:8,currentCooldown:0,unlockLevel:3,animation:"turret_deploy"},{id:"shock_trap",name:"Shock Trap",description:"Place an electric trap that stuns enemies",energyCost:5,damage:20,effect:{type:"stun",duration:2,value:1},range:2,cooldown:4,currentCooldown:0,unlockLevel:2,animation:"shock_trap"},{id:"cure",name:"Cure",description:"Remove negative status effects from an ally",energyCost:3,range:2,cooldown:2,currentCooldown:0,unlockLevel:2,animation:"cure"},{id:"stimpack",name:"Stimpack",description:"Quick healing injection",energyCost:2,healing:20,range:1,cooldown:1,currentCooldown:0,unlockLevel:1,animation:"stimpack"}],b=[{id:"rusty_pipe",name:"Rusty Pipe",type:"weapon",rarity:"common",description:"A makeshift weapon from the old world",stats:{damage:8,criticalChance:5},value:10,sprite:"rusty_pipe",stackable:!1},{id:"combat_knife",name:"Combat Knife",type:"weapon",rarity:"uncommon",description:"A sharp military-grade knife",stats:{damage:12,criticalChance:15,agility:2},value:25,sprite:"combat_knife",stackable:!1},{id:"assault_rifle",name:"Assault Rifle",type:"weapon",rarity:"rare",description:"A reliable automatic weapon",stats:{damage:20,criticalChance:10,strength:1},value:150,sprite:"assault_rifle",stackable:!1},{id:"plasma_rifle",name:"Plasma Rifle",type:"weapon",rarity:"epic",description:"An advanced energy weapon",stats:{damage:35,criticalChance:20,intelligence:3},value:500,sprite:"plasma_rifle",stackable:!1},{id:"leather_jacket",name:"Leather Jacket",type:"armor",rarity:"common",description:"Worn but protective leather armor",stats:{defense:5,endurance:1},value:15,sprite:"leather_jacket",stackable:!1},{id:"combat_armor",name:"Combat Armor",type:"armor",rarity:"uncommon",description:"Military-grade protective gear",stats:{defense:12,strength:2,endurance:2},value:75,sprite:"combat_armor",stackable:!1},{id:"power_armor",name:"Power Armor",type:"armor",rarity:"legendary",description:"Advanced powered exoskeleton",stats:{defense:25,strength:5,endurance:5,agility:-2},value:1e3,sprite:"power_armor",stackable:!1},{id:"stimpak",name:"Stimpak",type:"consumable",rarity:"common",description:"Instantly restores health",quantity:1,value:20,sprite:"stimpak",stackable:!0},{id:"rad_away",name:"Rad-Away",type:"consumable",rarity:"uncommon",description:"Removes radiation poisoning",quantity:1,value:30,sprite:"rad_away",stackable:!0},{id:"psycho",name:"Psycho",type:"consumable",rarity:"rare",description:"Increases damage but causes addiction",quantity:1,value:50,sprite:"psycho",stackable:!0},{id:"buffout",name:"Buffout",type:"consumable",rarity:"uncommon",description:"Temporarily increases strength and endurance",quantity:1,value:40,sprite:"buffout",stackable:!0},{id:"mentats",name:"Mentats",type:"consumable",rarity:"uncommon",description:"Temporarily increases intelligence and perception",quantity:1,value:35,sprite:"mentats",stackable:!0},{id:"scrap_metal",name:"Scrap Metal",type:"material",rarity:"common",description:"Useful for crafting and repairs",quantity:1,value:2,sprite:"scrap_metal",stackable:!0},{id:"electronics",name:"Electronics",type:"material",rarity:"uncommon",description:"Complex electronic components",quantity:1,value:10,sprite:"electronics",stackable:!0},{id:"rare_earth",name:"Rare Earth Elements",type:"material",rarity:"rare",description:"Precious materials for advanced crafting",quantity:1,value:50,sprite:"rare_earth",stackable:!0}],Mp=[{id:"alien_blaster",name:"Alien Blaster",type:"weapon",rarity:"legendary",description:"An otherworldly energy weapon of unknown origin",stats:{damage:50,criticalChance:25,intelligence:2},value:2e3,sprite:"alien_blaster",stackable:!1},{id:"alien_power_cell",name:"Alien Power Cell",type:"material",rarity:"rare",description:"Advanced alien energy storage device",quantity:1,value:100,sprite:"alien_power_cell",stackable:!0},{id:"pip_boy",name:"Pip-Boy 3000",type:"accessory",rarity:"epic",description:"Personal Information Processor from Vault-Tec",stats:{intelligence:3,perception:2},value:1500,sprite:"pip_boy",stackable:!1},{id:"vault_suit",name:"Vault 101 Jumpsuit",type:"armor",rarity:"uncommon",description:"Standard issue Vault-Tec jumpsuit",stats:{defense:3,endurance:1},value:50,sprite:"vault_suit",stackable:!1},{id:"brotherhood_armor",name:"Brotherhood Combat Armor",type:"armor",rarity:"rare",description:"Advanced combat armor used by the Brotherhood of Steel",stats:{defense:18,strength:2,endurance:3},value:400,sprite:"brotherhood_armor",stackable:!1},{id:"laser_rifle",name:"Laser Rifle",type:"weapon",rarity:"rare",description:"Military-grade energy weapon",stats:{damage:28,criticalChance:15,intelligence:1},value:300,sprite:"laser_rifle",stackable:!1},{id:"enclave_armor",name:"Enclave Power Armor",type:"armor",rarity:"epic",description:"Advanced power armor used by Enclave forces",stats:{defense:30,strength:6,endurance:6,agility:-3},value:1500,sprite:"enclave_armor",stackable:!1},{id:"geck",name:"G.E.C.K.",type:"quest",rarity:"legendary",description:"Garden of Eden Creation Kit - the key to Project Purity",value:0,sprite:"geck",stackable:!1},{id:"declaration_independence",name:"Declaration of Independence",type:"quest",rarity:"legendary",description:"The founding document of the United States of America",value:0,sprite:"declaration",stackable:!1},{id:"water_chip",name:"Water Chip",type:"quest",rarity:"epic",description:"Essential component for water purification systems",value:0,sprite:"water_chip",stackable:!1},{id:"nuka_cola",name:"Nuka-Cola",type:"consumable",rarity:"common",description:"The refreshing taste of the old world",quantity:1,value:15,sprite:"nuka_cola",stackable:!0},{id:"purified_water",name:"Purified Water",type:"consumable",rarity:"uncommon",description:"Clean, radiation-free water",quantity:1,value:25,sprite:"purified_water",stackable:!0}];b.push(...Mp);const Ln=[{id:"overseer_almodovar",name:"Overseer Almodovar",type:"quest_giver",mapId:"capital_wasteland",position:{x:19*32+16,y:18*32+16},sprite:"overseer",dialogue:[{id:"greeting",text:"Welcome to Vault 101, the jewel of Vault-Tec! I am Overseer Almodovar. The outside world is a dangerous place, but you seem to have survived it.",choices:[{id:"main_quest",text:"I need to find my father",nextNode:"main_quest"},{id:"vault_info",text:"Tell me about Vault 101",nextNode:"vault_info"},{id:"leave",text:"I should go",nextNode:"goodbye"}]},{id:"main_quest",text:"Your father... James? He left the vault recently, breaking our most sacred rule. He spoke of Project Purity - some foolish dream about purifying the wasteland's water. You might find answers in Megaton.",choices:[{id:"accept_main",text:"I'll find him and bring him back",action:"give_quest"},{id:"vault_info",text:"First, tell me about this place",nextNode:"vault_info"},{id:"leave",text:"Thank you for the information",nextNode:"goodbye"}]},{id:"vault_info",text:"Vault 101 was designed as a control vault - meant to stay sealed forever. We have maintained order for 200 years, but your father's departure has... complicated things.",choices:[{id:"main_quest",text:"About my father...",nextNode:"main_quest"},{id:"leave",text:"I understand",nextNode:"goodbye"}]},{id:"goodbye",text:"Remember, the outside world is harsh and unforgiving. Trust no one completely, and always be prepared.",choices:[]}],quests:[{id:"escape_vault_101",title:"Escape!",description:"Escape from Vault 101 and find your father in the Capital Wasteland.",objectives:[{id:"leave_vault",description:"Exit Vault 101",type:"explore",target:"vault_exit",current:0,required:1,completed:!1},{id:"reach_megaton",description:"Travel to Megaton",type:"explore",target:"megaton",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:200},{type:"item",value:1,item:b.find(e=>e.id==="pip_boy")}],status:"available",requiredLevel:1}],faction:"vault_101",isHostile:!1},{id:"sheriff_lucas",name:"Sheriff Lucas Simms",type:"quest_giver",mapId:"capital_wasteland",position:{x:44*32+16,y:22*32+16},sprite:"sheriff",dialogue:[{id:"greeting",text:"Welcome to Megaton, stranger. I'm Sheriff Lucas Simms. We don't get many vault dwellers around here. You looking for someone?",choices:[{id:"father_search",text:"I'm looking for my father, James",nextNode:"father_search"},{id:"megaton_bomb",text:"What's with the bomb in the center of town?",nextNode:"megaton_bomb"},{id:"town_info",text:"Tell me about Megaton",nextNode:"town_info"},{id:"leave",text:"Just passing through",nextNode:"goodbye"}]},{id:"father_search",text:"James? Yeah, I remember him. Middle-aged fellow, talked about clean water and science. He was asking about Galaxy News Radio and Three Dog. You might want to check there.",choices:[{id:"gnr_location",text:"Where can I find Galaxy News Radio?",nextNode:"gnr_location"},{id:"megaton_bomb",text:"About that bomb...",nextNode:"megaton_bomb"},{id:"leave",text:"Thanks for the information",nextNode:"goodbye"}]},{id:"gnr_location",text:"Galaxy News Radio broadcasts from downtown D.C. It's dangerous territory - super mutants, raiders, worse things. But Three Dog knows everything that happens in the wasteland.",choices:[{id:"accept_gnr_quest",text:"I'll head to Galaxy News Radio",action:"give_quest"},{id:"megaton_bomb",text:"First, about that bomb...",nextNode:"megaton_bomb"},{id:"leave",text:"I'll consider it",nextNode:"goodbye"}]},{id:"megaton_bomb",text:"That old thing? It's been here since before the town was built. Some folks worship it, others want it disarmed. I just want to keep the peace. If you're technically minded, maybe you could take a look?",choices:[{id:"accept_bomb_quest",text:"I'll see what I can do about the bomb",action:"give_quest"},{id:"father_search",text:"About my father...",nextNode:"father_search"},{id:"leave",text:"I'll think about it",nextNode:"goodbye"}]},{id:"town_info",text:"Megaton was built around that old bomb crater. We're a trading hub - relatively safe, good water, decent folk. We look out for each other here.",choices:[{id:"father_search",text:"I'm looking for someone",nextNode:"father_search"},{id:"megaton_bomb",text:"About the bomb...",nextNode:"megaton_bomb"},{id:"leave",text:"Sounds like a good place",nextNode:"goodbye"}]},{id:"goodbye",text:"Stay safe out there, vault dweller. The wasteland's got teeth.",choices:[]}],quests:[{id:"power_of_atom",title:"The Power of the Atom",description:"Decide the fate of Megaton's unexploded atomic bomb.",objectives:[{id:"examine_bomb",description:"Examine the atomic bomb in Megaton",type:"explore",target:"megaton_bomb",current:0,required:1,completed:!1},{id:"make_choice",description:"Decide whether to disarm or detonate the bomb",type:"talk",target:"bomb_choice",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:300},{type:"gold",value:500},{type:"item",value:1,item:b.find(e=>e.id==="power_armor")}],status:"available",requiredLevel:3},{id:"following_in_his_footsteps",title:"Following in His Footsteps",description:"Track down your father by visiting Galaxy News Radio.",objectives:[{id:"reach_gnr",description:"Travel to Galaxy News Radio",type:"explore",target:"galaxy_news_radio",current:0,required:1,completed:!1},{id:"talk_three_dog",description:"Speak with Three Dog",type:"talk",target:"three_dog",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:250},{type:"item",value:1,item:b.find(e=>e.id==="assault_rifle")}],status:"available",requiredLevel:2}],faction:"megaton",isHostile:!1},{id:"three_dog",name:"Three Dog",type:"quest_giver",mapId:"capital_wasteland",position:{x:85*32+16,y:45*32+16},sprite:"three_dog",dialogue:[{id:"greeting",text:"Well, well, well! If it isn't the kid from Vault 101! Three Dog here, and you're listening to Galaxy News Radio. Your daddy was here, kid. Had some big plans.",choices:[{id:"father_info",text:"Tell me about my father",nextNode:"father_info"},{id:"project_purity",text:"What's Project Purity?",nextNode:"project_purity"},{id:"radio_station",text:"How do you know so much?",nextNode:"radio_station"},{id:"leave",text:"I need to go",nextNode:"goodbye"}]},{id:"father_info",text:"Your old man James is trying to get Project Purity running again. Clean water for everyone in the wasteland - noble goal. Last I heard, he was heading to Rivet City to find Dr. Li.",choices:[{id:"rivet_city_location",text:"Where's Rivet City?",nextNode:"rivet_city_location"},{id:"project_purity",text:"What exactly is Project Purity?",nextNode:"project_purity"},{id:"radio_favor",text:"What can I do for you?",nextNode:"radio_favor"},{id:"leave",text:"Thanks for the info",nextNode:"goodbye"}]},{id:"rivet_city_location",text:"Rivet City's built in an old aircraft carrier on the Potomac. Big settlement, lots of smart folks. Dr. Li runs the science lab there. But first, how about doing old Three Dog a favor?",choices:[{id:"accept_radio_quest",text:"What do you need?",action:"give_quest"},{id:"project_purity",text:"Tell me more about Project Purity",nextNode:"project_purity"},{id:"leave",text:"I'll head to Rivet City",nextNode:"goodbye"}]},{id:"project_purity",text:"Project Purity was your daddy's dream - a water purifier that could clean the entire Potomac River. The Brotherhood of Steel shut it down years ago, but James thinks he can get it running.",choices:[{id:"father_info",text:"Where is my father now?",nextNode:"father_info"},{id:"radio_favor",text:"What do you need from me?",nextNode:"radio_favor"},{id:"leave",text:"I need to find him",nextNode:"goodbye"}]},{id:"radio_favor",text:"My radio signal's been getting jammed. There's a relay dish that needs fixing, but it's in super mutant territory. Fix it, and I'll tell everyone in the wasteland what a hero you are.",choices:[{id:"accept_radio_quest",text:"I'll fix your relay dish",action:"give_quest"},{id:"father_info",text:"First, about my father...",nextNode:"father_info"},{id:"leave",text:"I'll think about it",nextNode:"goodbye"}]},{id:"radio_station",text:"Information is power, kid. I've got contacts all over the wasteland. Traders, scavengers, even some Brotherhood folks. They tell me things, I tell the wasteland.",choices:[{id:"father_info",text:"What did they tell you about my father?",nextNode:"father_info"},{id:"radio_favor",text:"Maybe I can help you",nextNode:"radio_favor"},{id:"leave",text:"Keep up the good work",nextNode:"goodbye"}]},{id:"goodbye",text:"Keep fighting the good fight, kid. And remember - Galaxy News Radio is always here for you!",choices:[]}],quests:[{id:"galaxy_news_radio",title:"Galaxy News Radio",description:"Help Three Dog by repairing the GNR radio relay.",objectives:[{id:"find_relay_dish",description:"Locate the GNR radio relay dish",type:"explore",target:"radio_relay",current:0,required:1,completed:!1},{id:"clear_super_mutants",description:"Clear super mutants from the relay station",type:"kill",target:"super_mutant",current:0,required:5,completed:!1},{id:"repair_relay",description:"Repair the radio relay dish",type:"collect",target:"relay_parts",current:0,required:3,completed:!1}],rewards:[{type:"experience",value:400},{type:"gold",value:300},{type:"item",value:1,item:b.find(e=>e.id==="plasma_rifle")}],status:"available",requiredLevel:4}],faction:"gnr",isHostile:!1},{id:"dr_li",name:"Dr. Madison Li",type:"quest_giver",mapId:"capital_wasteland",position:{x:84*32+16,y:82*32+16},sprite:"scientist",dialogue:[{id:"greeting",text:"You must be James's child. I'm Dr. Madison Li. Your father and I worked together on Project Purity before... before everything went wrong.",choices:[{id:"father_location",text:"Where is my father now?",nextNode:"father_location"},{id:"project_purity_history",text:"What happened to Project Purity?",nextNode:"project_purity_history"},{id:"rivet_city",text:"Tell me about Rivet City",nextNode:"rivet_city"},{id:"leave",text:"I should go",nextNode:"goodbye"}]},{id:"father_location",text:"James went to the Jefferson Memorial - that's where Project Purity is located. But it's dangerous there. Super mutants have overrun the area, and the Brotherhood... they have their own agenda.",choices:[{id:"jefferson_memorial",text:"How do I get to the Jefferson Memorial?",nextNode:"jefferson_memorial"},{id:"brotherhood_agenda",text:"What's the Brotherhood's agenda?",nextNode:"brotherhood_agenda"},{id:"project_purity_history",text:"Why did Project Purity fail before?",nextNode:"project_purity_history"},{id:"leave",text:"I need to find him",nextNode:"goodbye"}]},{id:"jefferson_memorial",text:"The Memorial is in the heart of D.C., surrounded by super mutant territory. You'll need to go through the metro tunnels or fight your way across the surface. Neither option is safe.",choices:[{id:"accept_memorial_quest",text:"I'll find a way to reach him",action:"give_quest"},{id:"brotherhood_agenda",text:"What about the Brotherhood?",nextNode:"brotherhood_agenda"},{id:"leave",text:"I'll be careful",nextNode:"goodbye"}]},{id:"project_purity_history",text:"Twenty years ago, we were so close to success. But the super mutants attacked, and people died. Your mother... Catherine... she died protecting the project. James blamed himself and left.",choices:[{id:"mother_info",text:"Tell me about my mother",nextNode:"mother_info"},{id:"father_location",text:"And now James is back?",nextNode:"father_location"},{id:"leave",text:"I understand",nextNode:"goodbye"}]},{id:"mother_info",text:"Catherine was brilliant, compassionate, and brave. She believed in Project Purity as much as James did. You have her eyes, you know. She would be proud of what you're doing.",choices:[{id:"father_location",text:"I need to find my father",nextNode:"father_location"},{id:"project_purity_history",text:"What happened after she died?",nextNode:"project_purity_history"},{id:"leave",text:"Thank you for telling me",nextNode:"goodbye"}]},{id:"brotherhood_agenda",text:"The Brotherhood of Steel wants to control advanced technology. They see Project Purity as too dangerous for civilians. Elder Lyons might be reasonable, but some of his people... they're not.",choices:[{id:"elder_lyons",text:"Where can I find Elder Lyons?",nextNode:"elder_lyons"},{id:"father_location",text:"I still need to reach my father",nextNode:"father_location"},{id:"leave",text:"I'll keep that in mind",nextNode:"goodbye"}]},{id:"elder_lyons",text:"Elder Lyons is at the Citadel - the Brotherhood's fortress. He's more reasonable than most, but he's under pressure from his own people. Approach carefully.",choices:[{id:"father_location",text:"First, I need to find my father",nextNode:"father_location"},{id:"leave",text:"I'll remember that",nextNode:"goodbye"}]},{id:"rivet_city",text:"Rivet City is one of the largest settlements in the wasteland. We have a functioning science lab, a marketplace, and relative safety. It's not perfect, but it's home.",choices:[{id:"father_location",text:"About my father...",nextNode:"father_location"},{id:"project_purity_history",text:"About Project Purity...",nextNode:"project_purity_history"},{id:"leave",text:"It seems like a good place",nextNode:"goodbye"}]},{id:"goodbye",text:"Be careful out there. The wasteland has already taken too much from your family.",choices:[]}],quests:[{id:"scientific_pursuits",title:"Scientific Pursuits",description:"Travel to the Jefferson Memorial to find your father.",objectives:[{id:"reach_jefferson_memorial",description:"Travel to the Jefferson Memorial",type:"explore",target:"jefferson_memorial",current:0,required:1,completed:!1},{id:"find_james",description:"Locate James at Project Purity",type:"talk",target:"james",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:350},{type:"item",value:1,item:b.find(e=>e.id==="rad_away")}],status:"available",requiredLevel:5}],faction:"rivet_city",isHostile:!1},{id:"werner",name:"Werner",type:"quest_giver",mapId:"the_pitt",position:{x:25*32+16,y:25*32+16},sprite:"worker",dialogue:[{id:"greeting",text:"Another slave for the Mill? No... you're different. You're not from here. I'm Werner, and I've been working these furnaces longer than I care to remember.",choices:[{id:"the_pitt_info",text:"Tell me about The Pitt",nextNode:"the_pitt_info"},{id:"ashur_info",text:"Who runs this place?",nextNode:"ashur_info"},{id:"escape_plan",text:"Is there a way out of here?",nextNode:"escape_plan"},{id:"leave",text:"I should get back to work",nextNode:"goodbye"}]},{id:"the_pitt_info",text:"The Pitt used to be Pittsburgh, before the bombs. Now it's a slave city built around steel production. Lord Ashur rules from Uptown while we workers toil in the mills.",choices:[{id:"ashur_info",text:"Tell me about Lord Ashur",nextNode:"ashur_info"},{id:"steel_production",text:"What do you produce here?",nextNode:"steel_production"},{id:"escape_plan",text:"How do people survive here?",nextNode:"escape_plan"},{id:"leave",text:"I see",nextNode:"goodbye"}]},{id:"ashur_info",text:"Ashur was a Brotherhood Paladin who conquered this place. He rules with an iron fist, but he's not entirely unreasonable. Some say he's planning something big.",choices:[{id:"brotherhood_connection",text:"He was Brotherhood of Steel?",nextNode:"brotherhood_connection"},{id:"ashur_plans",text:"What kind of plans?",nextNode:"ashur_plans"},{id:"escape_plan",text:"Is there any hope for the workers?",nextNode:"escape_plan"},{id:"leave",text:"Interesting",nextNode:"goodbye"}]},{id:"brotherhood_connection",text:"Aye, he was. Came here with the Brotherhood years ago, but something changed him. Now he sees The Pitt as his kingdom, and us as his subjects.",choices:[{id:"ashur_plans",text:"What are his plans for The Pitt?",nextNode:"ashur_plans"},{id:"escape_plan",text:"Is there any resistance?",nextNode:"escape_plan"},{id:"leave",text:"Power corrupts",nextNode:"goodbye"}]},{id:"ashur_plans",text:"Word is he's found a cure for the Trog Degenerative Contagion. If true, it could change everything. But at what cost? And who decides who gets cured?",choices:[{id:"trog_disease",text:"What's the Trog disease?",nextNode:"trog_disease"},{id:"cure_details",text:"Tell me about this cure",nextNode:"cure_details"},{id:"escape_plan",text:"What about the workers?",nextNode:"escape_plan"},{id:"leave",text:"That's... significant",nextNode:"goodbye"}]},{id:"trog_disease",text:"The Trogs are what happens when the radiation and industrial toxins get to you. They become mindless, violent creatures. Most workers here are slowly turning into them.",choices:[{id:"cure_details",text:"And Ashur has a cure?",nextNode:"cure_details"},{id:"worker_fate",text:"What happens to infected workers?",nextNode:"worker_fate"},{id:"leave",text:"That's horrible",nextNode:"goodbye"}]},{id:"cure_details",text:"His baby daughter, Marie, seems to be immune. The scientists think her blood might hold the key. But there's talk of... experiments. Dark things.",choices:[{id:"accept_pitt_quest",text:"Someone needs to investigate this",action:"give_quest"},{id:"escape_plan",text:"What about getting people out?",nextNode:"escape_plan"},{id:"leave",text:"This is bigger than I thought",nextNode:"goodbye"}]},{id:"escape_plan",text:"There's a group of us planning something. We call ourselves the Underground. If you're interested in helping workers escape, find Wernher in the steelyard after dark.",choices:[{id:"accept_underground_quest",text:"I want to help",action:"give_quest"},{id:"ashur_info",text:"What about working with Ashur?",nextNode:"ashur_info"},{id:"leave",text:"I'll think about it",nextNode:"goodbye"}]},{id:"steel_production",text:"We make steel ingots, weapons, ammunition. The Pitt supplies half the wasteland with metal goods. It's profitable... for Ashur.",choices:[{id:"ashur_info",text:"Ashur controls all of this?",nextNode:"ashur_info"},{id:"escape_plan",text:"What about the workers?",nextNode:"escape_plan"},{id:"leave",text:"I understand",nextNode:"goodbye"}]},{id:"worker_fate",text:"They're sent to the steelyard to die fighting Trogs, or they become Trogs themselves. Either way, Ashur gets rid of the 'problem.'",choices:[{id:"cure_details",text:"And this cure could change that?",nextNode:"cure_details"},{id:"escape_plan",text:"There has to be another way",nextNode:"escape_plan"},{id:"leave",text:"That's monstrous",nextNode:"goodbye"}]},{id:"goodbye",text:"Keep your head down and your eyes open. The Pitt has a way of changing people.",choices:[]}],quests:[{id:"into_the_pitt",title:"Into the Pitt",description:"Investigate the situation in The Pitt and decide who to support.",objectives:[{id:"meet_ashur",description:"Meet with Lord Ashur in Uptown",type:"talk",target:"ashur",current:0,required:1,completed:!1},{id:"investigate_cure",description:"Learn about the cure for Trog Degenerative Contagion",type:"explore",target:"pitt_laboratory",current:0,required:1,completed:!1},{id:"choose_side",description:"Decide between supporting Ashur or the Underground",type:"talk",target:"faction_choice",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:500},{type:"gold",value:400},{type:"item",value:1,item:b.find(e=>e.id==="power_armor")}],status:"available",requiredLevel:8}],faction:"pitt_workers",isHostile:!1},{id:"ashur",name:"Lord Ashur",type:"quest_giver",mapId:"the_pitt",position:{x:82*32+16,y:52*32+16},sprite:"lord",dialogue:[{id:"greeting",text:"So, you're the outsider I've been hearing about. I am Ashur, Lord of The Pitt. You've seen my domain - what do you think of what I've built here?",choices:[{id:"pitt_opinion",text:"It's impressive, but built on slavery",nextNode:"pitt_opinion"},{id:"cure_inquiry",text:"I've heard you have a cure for the Trog disease",nextNode:"cure_inquiry"},{id:"brotherhood_past",text:"You were Brotherhood of Steel?",nextNode:"brotherhood_past"},{id:"leave",text:"I'm just passing through",nextNode:"goodbye"}]},{id:"pitt_opinion",text:"Slavery? No, you misunderstand. These people have purpose, direction, hope for a better future. Before I came, this was a radioactive wasteland. Now it's a functioning society.",choices:[{id:"society_question",text:"A society where people are forced to work?",nextNode:"society_question"},{id:"cure_inquiry",text:"What about the cure you're developing?",nextNode:"cure_inquiry"},{id:"future_plans",text:"What's your vision for the future?",nextNode:"future_plans"},{id:"leave",text:"I see your point",nextNode:"goodbye"}]},{id:"society_question",text:"Freedom without purpose is chaos. I provide structure, protection, and most importantly - hope. My cure will free them from the Trog Degenerative Contagion. Then they'll truly be free.",choices:[{id:"cure_inquiry",text:"Tell me about this cure",nextNode:"cure_inquiry"},{id:"underground_threat",text:"What about the Underground resistance?",nextNode:"underground_threat"},{id:"leave",text:"An interesting perspective",nextNode:"goodbye"}]},{id:"cure_inquiry",text:"My daughter Marie is immune to the contagion. Her blood holds the key to curing everyone in The Pitt. But the research takes time, and some... don't understand the necessity.",choices:[{id:"marie_safety",text:"Is your daughter safe during these experiments?",nextNode:"marie_safety"},{id:"cure_timeline",text:"How long until the cure is ready?",nextNode:"cure_timeline"},{id:"underground_threat",text:"The Underground wants to stop you?",nextNode:"underground_threat"},{id:"leave",text:"That's a heavy burden",nextNode:"goodbye"}]},{id:"marie_safety",text:"Marie is perfectly safe. We only take small blood samples, and she's monitored constantly. I would never harm my own daughter. The Underground spreads lies about 'experiments.'",choices:[{id:"accept_ashur_quest",text:"I'll help you protect the cure research",action:"give_quest"},{id:"underground_threat",text:"What exactly does the Underground want?",nextNode:"underground_threat"},{id:"leave",text:"I believe you care for her",nextNode:"goodbye"}]},{id:"cure_timeline",text:"Soon. Very soon. But the Underground threatens everything. They want to steal Marie, thinking they're 'rescuing' her. They don't understand what's at stake.",choices:[{id:"underground_threat",text:"Why do they oppose you?",nextNode:"underground_threat"},{id:"accept_ashur_quest",text:"I won't let them destroy this opportunity",action:"give_quest"},{id:"leave",text:"The cure must be protected",nextNode:"goodbye"}]},{id:"underground_threat",text:"They're short-sighted fools who would rather see everyone remain diseased than accept temporary hardship for permanent freedom. They must be stopped.",choices:[{id:"accept_ashur_quest",text:"I'll deal with the Underground",action:"give_quest"},{id:"peaceful_solution",text:"Isn't there a peaceful solution?",nextNode:"peaceful_solution"},{id:"leave",text:"This is a complex situation",nextNode:"goodbye"}]},{id:"peaceful_solution",text:"I've tried reasoning with them. They refuse to see the bigger picture. Sometimes, difficult decisions must be made for the greater good.",choices:[{id:"accept_ashur_quest",text:"I understand. I'll help you",action:"give_quest"},{id:"leave",text:"I need to think about this",nextNode:"goodbye"}]},{id:"brotherhood_past",text:"I was a Paladin, yes. But the Brotherhood's rigid thinking couldn't adapt to the wasteland's realities. Here, I can actually make a difference.",choices:[{id:"pitt_opinion",text:"By ruling over slaves?",nextNode:"pitt_opinion"},{id:"cure_inquiry",text:"Through your cure research?",nextNode:"cure_inquiry"},{id:"leave",text:"Power changes people",nextNode:"goodbye"}]},{id:"future_plans",text:"Once the cure is complete, The Pitt will become the greatest city in the wasteland. Free from disease, strong from industry, united under wise leadership.",choices:[{id:"cure_inquiry",text:"The cure is that important?",nextNode:"cure_inquiry"},{id:"underground_threat",text:"What about those who oppose you?",nextNode:"underground_threat"},{id:"leave",text:"An ambitious vision",nextNode:"goodbye"}]},{id:"goodbye",text:"Think carefully about what you've seen here. The future of The Pitt - and everyone in it - hangs in the balance.",choices:[]}],quests:[{id:"unsafe_working_conditions",title:"Unsafe Working Conditions",description:"Help Lord Ashur protect the cure research from Underground sabotage.",objectives:[{id:"eliminate_underground",description:"Stop the Underground resistance",type:"kill",target:"underground_member",current:0,required:8,completed:!1},{id:"secure_laboratory",description:"Secure the research laboratory",type:"explore",target:"pitt_lab_security",current:0,required:1,completed:!1},{id:"protect_marie",description:"Ensure Marie's safety",type:"talk",target:"marie_protection",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:600},{type:"gold",value:800},{type:"item",value:1,item:b.find(e=>e.id==="power_armor")}],status:"available",requiredLevel:10}],faction:"pitt_rulers",isHostile:!1},{id:"desmond",name:"Desmond Lockheart",type:"quest_giver",mapId:"point_lookout",position:{x:19*32+16,y:18*32+16},sprite:"gentleman",dialogue:[{id:"greeting",text:"Well, well! A visitor from the mainland. How delightfully unexpected. I am Desmond Lockheart, and you, my dear fellow, have stumbled into quite the interesting situation.",choices:[{id:"situation_inquiry",text:"What kind of situation?",nextNode:"situation_inquiry"},{id:"point_lookout_info",text:"Tell me about Point Lookout",nextNode:"point_lookout_info"},{id:"desmond_background",text:"Who are you exactly?",nextNode:"desmond_background"},{id:"leave",text:"I should be going",nextNode:"goodbye"}]},{id:"situation_inquiry",text:"There's a war brewing, my friend. An old war between old enemies. Professor Calvert and I have been... disagreeing... for over two centuries now.",choices:[{id:"calvert_info",text:"Who is Professor Calvert?",nextNode:"calvert_info"},{id:"old_war",text:"Two centuries? How is that possible?",nextNode:"old_war"},{id:"choose_side",text:"What do you want from me?",nextNode:"choose_side"},{id:"leave",text:"This sounds dangerous",nextNode:"goodbye"}]},{id:"calvert_info",text:"Calvert is a pre-war scientist who's been playing god with the locals. He's got them convinced he's some kind of benevolent protector, but I know better.",choices:[{id:"calvert_crimes",text:"What has he done?",nextNode:"calvert_crimes"},{id:"old_war",text:"How long have you two been fighting?",nextNode:"old_war"},{id:"choose_side",text:"Why should I believe you?",nextNode:"choose_side"},{id:"leave",text:"I need to hear both sides",nextNode:"goodbye"}]},{id:"calvert_crimes",text:"Experiments on the locals, mind control, genetic manipulation. He's turned Point Lookout into his personal laboratory, and the tribals are his test subjects.",choices:[{id:"accept_desmond_quest",text:"That's monstrous. I'll help you stop him",action:"give_quest"},{id:"proof_request",text:"Do you have proof of these accusations?",nextNode:"proof_request"},{id:"old_war",text:"How do you know all this?",nextNode:"old_war"},{id:"leave",text:"I need to investigate this myself",nextNode:"goodbye"}]},{id:"old_war",text:"We're both pre-war, enhanced by science and circumstance. We've been playing this game of chess for decades, using the wasteland as our board.",choices:[{id:"enhancement_details",text:"What kind of enhancements?",nextNode:"enhancement_details"},{id:"chess_game",text:"And the people here are just pawns?",nextNode:"chess_game"},{id:"choose_side",text:"Why should I get involved?",nextNode:"choose_side"},{id:"leave",text:"This is beyond me",nextNode:"goodbye"}]},{id:"enhancement_details",text:"Let's just say we've both found ways to extend our lives and enhance our capabilities. The details are... complicated.",choices:[{id:"chess_game",text:"And you've been fighting ever since?",nextNode:"chess_game"},{id:"choose_side",text:"What do you need from me?",nextNode:"choose_side"},{id:"leave",text:"Some secrets are better left buried",nextNode:"goodbye"}]},{id:"chess_game",text:"Unfortunately, yes. But you could be the piece that finally ends this stalemate. Help me, and I'll make it worth your while.",choices:[{id:"accept_desmond_quest",text:"What do you need me to do?",action:"give_quest"},{id:"calvert_meeting",text:"I want to meet Calvert first",nextNode:"calvert_meeting"},{id:"leave",text:"I don't want to be anyone's pawn",nextNode:"goodbye"}]},{id:"choose_side",text:"Because, my dear fellow, neutrality is not an option. Calvert will try to use you just as he uses everyone else. At least I'm honest about my intentions.",choices:[{id:"accept_desmond_quest",text:"Alright, I'll help you",action:"give_quest"},{id:"calvert_meeting",text:"I still want to hear Calvert's side",nextNode:"calvert_meeting"},{id:"leave",text:"I need time to think",nextNode:"goodbye"}]},{id:"calvert_meeting",text:"By all means, go to him. But be warned - Calvert is persuasive, and he's had centuries to perfect his manipulation techniques.",choices:[{id:"calvert_location",text:"Where can I find him?",nextNode:"calvert_location"},{id:"accept_desmond_quest",text:"On second thought, I trust you",action:"give_quest"},{id:"leave",text:"I'll be careful",nextNode:"goodbye"}]},{id:"calvert_location",text:"He's holed up in the old mansion, surrounded by his tribal 'protectors.' Just remember - everything he tells you will be designed to serve his purposes.",choices:[{id:"accept_desmond_quest",text:"I've heard enough. I'll help you",action:"give_quest"},{id:"leave",text:"I'll keep that in mind",nextNode:"goodbye"}]},{id:"proof_request",text:"Proof? My dear fellow, the proof is all around you. Look at the locals - the mutations, the strange behavior, the unnatural loyalty to Calvert.",choices:[{id:"accept_desmond_quest",text:"You're right. I'll help you",action:"give_quest"},{id:"calvert_meeting",text:"I still want to hear his side",nextNode:"calvert_meeting"},{id:"leave",text:"I need to see for myself",nextNode:"goodbye"}]},{id:"point_lookout_info",text:"Point Lookout is a fascinating place - pre-war history, post-war mysteries, and enough radiation to make things... interesting.",choices:[{id:"situation_inquiry",text:"What kind of mysteries?",nextNode:"situation_inquiry"},{id:"desmond_background",text:"And you've been here how long?",nextNode:"desmond_background"},{id:"leave",text:"Sounds intriguing",nextNode:"goodbye"}]},{id:"desmond_background",text:"I'm a man of science, a student of human nature, and a survivor of circumstances most extraordinary. Let's leave it at that for now.",choices:[{id:"situation_inquiry",text:"What's this situation you mentioned?",nextNode:"situation_inquiry"},{id:"old_war",text:"You mentioned an old war?",nextNode:"old_war"},{id:"leave",text:"Fair enough",nextNode:"goodbye"}]},{id:"goodbye",text:"Do think about what I've said. The future of Point Lookout may well depend on the choices you make.",choices:[]}],quests:[{id:"the_local_flavor",title:"The Local Flavor",description:"Help Desmond Lockheart in his war against Professor Calvert.",objectives:[{id:"investigate_calvert",description:"Investigate Professor Calvert's activities",type:"explore",target:"calvert_mansion",current:0,required:1,completed:!1},{id:"gather_evidence",description:"Collect evidence of Calvert's experiments",type:"collect",target:"experiment_data",current:0,required:3,completed:!1},{id:"confront_calvert",description:"Confront Professor Calvert",type:"talk",target:"calvert",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:450},{type:"gold",value:600},{type:"item",value:1,item:b.find(e=>e.id==="plasma_rifle")}],status:"available",requiredLevel:12}],faction:"lockheart",isHostile:!1},{id:"somah",name:"Somah",type:"quest_giver",mapId:"mothership_zeta",position:{x:30*32+16,y:20*32+16},sprite:"alien_prisoner",dialogue:[{id:"greeting",text:"Another human! Thank the ancestors. I am Somah, and I have been prisoner on this ship for... too long. You must help us escape before they complete their experiments.",choices:[{id:"escape_plan",text:"How do we get out of here?",nextNode:"escape_plan"},{id:"alien_experiments",text:"What kind of experiments?",nextNode:"alien_experiments"},{id:"other_prisoners",text:"Are there other prisoners?",nextNode:"other_prisoners"},{id:"leave",text:"I need to explore first",nextNode:"goodbye"}]},{id:"escape_plan",text:"We need to reach the bridge and take control of the ship. But first, we must free the other prisoners and gather weapons from the armory.",choices:[{id:"bridge_location",text:"Where is the bridge?",nextNode:"bridge_location"},{id:"armory_location",text:"Where's the armory?",nextNode:"armory_location"},{id:"other_prisoners",text:"Who are the other prisoners?",nextNode:"other_prisoners"},{id:"accept_escape_quest",text:"I'll help you escape",action:"give_quest"}]},{id:"alien_experiments",text:"They study us, probe our minds, test our bodies. They're trying to understand human psychology and physiology. Some prisoners... they don't survive.",choices:[{id:"experiment_purpose",text:"Why are they studying humans?",nextNode:"experiment_purpose"},{id:"escape_plan",text:"We need to get out of here",nextNode:"escape_plan"},{id:"other_prisoners",text:"How many prisoners are there?",nextNode:"other_prisoners"},{id:"leave",text:"This is horrifying",nextNode:"goodbye"}]},{id:"experiment_purpose",text:"I believe they're planning an invasion of Earth. They need to understand their enemy - us. Every test brings them closer to that goal.",choices:[{id:"invasion_timeline",text:"How soon?",nextNode:"invasion_timeline"},{id:"escape_plan",text:"Then we must stop them",nextNode:"escape_plan"},{id:"alien_weaknesses",text:"Do you know their weaknesses?",nextNode:"alien_weaknesses"},{id:"leave",text:"Earth is in danger",nextNode:"goodbye"}]},{id:"invasion_timeline",text:"Soon. Very soon. They've been accelerating their experiments. We may be among the last test subjects before they begin.",choices:[{id:"accept_escape_quest",text:"We have to escape and warn Earth",action:"give_quest"},{id:"escape_plan",text:"What's the plan?",nextNode:"escape_plan"},{id:"alien_weaknesses",text:"How do we fight them?",nextNode:"alien_weaknesses"},{id:"leave",text:"Time is running out",nextNode:"goodbye"}]},{id:"other_prisoners",text:"There's Sally, a little girl from before the war. Paulson, a soldier. Elliott, a cowboy from the old west. And others... if they're still alive.",choices:[{id:"prisoner_locations",text:"Where are they being held?",nextNode:"prisoner_locations"},{id:"escape_plan",text:"We need to free them all",nextNode:"escape_plan"},{id:"sally_info",text:"A girl from before the war?",nextNode:"sally_info"},{id:"leave",text:"We can't leave anyone behind",nextNode:"goodbye"}]},{id:"prisoner_locations",text:"They're scattered throughout the ship in different holding areas. The aliens like to keep us separated to prevent cooperation.",choices:[{id:"accept_escape_quest",text:"I'll find them all",action:"give_quest"},{id:"escape_plan",text:"Once we're together, then what?",nextNode:"escape_plan"},{id:"leave",text:"This won't be easy",nextNode:"goodbye"}]},{id:"sally_info",text:"The aliens have been taking humans for centuries. Sally was taken just before the Great War. She's... she's been here longer than any of us.",choices:[{id:"time_effects",text:"How has she survived so long?",nextNode:"time_effects"},{id:"escape_plan",text:"We have to get her out",nextNode:"escape_plan"},{id:"leave",text:"That poor child",nextNode:"goodbye"}]},{id:"time_effects",text:"The aliens have ways of... preserving their subjects. But the psychological effects... Sally is not the same child she once was.",choices:[{id:"accept_escape_quest",text:"All the more reason to escape",action:"give_quest"},{id:"escape_plan",text:"How do we help her?",nextNode:"escape_plan"},{id:"leave",text:"This is monstrous",nextNode:"goodbye"}]},{id:"bridge_location",text:"The bridge is at the top of the ship, heavily guarded. We'll need to fight our way through multiple levels of alien security.",choices:[{id:"armory_location",text:"We'll need weapons first",nextNode:"armory_location"},{id:"alien_weaknesses",text:"How do we fight the aliens?",nextNode:"alien_weaknesses"},{id:"accept_escape_quest",text:"I'm ready to try",action:"give_quest"},{id:"leave",text:"This sounds impossible",nextNode:"goodbye"}]},{id:"armory_location",text:"There's an armory on the lower levels where they store confiscated weapons and their own alien technology. If we can reach it...",choices:[{id:"alien_weapons",text:"Can we use their weapons?",nextNode:"alien_weapons"},{id:"accept_escape_quest",text:"Let's do this",action:"give_quest"},{id:"leave",text:"It's worth a try",nextNode:"goodbye"}]},{id:"alien_weapons",text:"Their energy weapons are powerful, but they require special power cells. Still, they're our best chance against their technology.",choices:[{id:"accept_escape_quest",text:"Then that's our first stop",action:"give_quest"},{id:"escape_plan",text:"What's the full plan?",nextNode:"escape_plan"},{id:"leave",text:"We'll need every advantage",nextNode:"goodbye"}]},{id:"alien_weaknesses",text:"They're physically weaker than humans, but their technology gives them a huge advantage. Their shields can be overloaded with sustained fire.",choices:[{id:"armory_location",text:"We need better weapons",nextNode:"armory_location"},{id:"accept_escape_quest",text:"Knowledge is power. Let's go",action:"give_quest"},{id:"leave",text:"Good to know",nextNode:"goodbye"}]},{id:"goodbye",text:"Please, don't abandon us here. We've been waiting so long for someone like you.",choices:[]}],quests:[{id:"not_of_this_world",title:"Not of This World",description:"Escape from the alien mothership and prevent an invasion of Earth.",objectives:[{id:"free_prisoners",description:"Free all human prisoners",type:"talk",target:"prisoner",current:0,required:4,completed:!1},{id:"reach_armory",description:"Reach the alien armory",type:"explore",target:"alien_armory",current:0,required:1,completed:!1},{id:"take_bridge",description:"Capture the ship's bridge",type:"kill",target:"alien_captain",current:0,required:1,completed:!1},{id:"destroy_mothership",description:"Destroy the alien mothership",type:"explore",target:"ship_destruction",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:800},{type:"item",value:1,item:b.find(e=>e.id==="alien_blaster")},{type:"item",value:1,item:b.find(e=>e.id==="power_armor")}],status:"available",requiredLevel:15}],faction:"human_prisoners",isHostile:!1},{id:"elder_lyons",name:"Elder Owyn Lyons",type:"quest_giver",mapId:"citadel",position:{x:40*32+16,y:37*32+16},sprite:"elder",dialogue:[{id:"greeting",text:"Welcome to the Citadel, child. I am Elder Owyn Lyons of the Brotherhood of Steel. Your arrival is... fortuitous. We have great need of someone with your unique background.",choices:[{id:"brotherhood_mission",text:"What does the Brotherhood need?",nextNode:"brotherhood_mission"},{id:"project_purity_brotherhood",text:"I'm here about Project Purity",nextNode:"project_purity_brotherhood"},{id:"citadel_info",text:"Tell me about the Citadel",nextNode:"citadel_info"},{id:"leave",text:"I'm just visiting",nextNode:"goodbye"}]},{id:"brotherhood_mission",text:"The Brotherhood's mission here is to protect the people of the Capital Wasteland from the super mutant threat. But we face challenges from within and without.",choices:[{id:"super_mutant_threat",text:"Tell me about the super mutants",nextNode:"super_mutant_threat"},{id:"internal_challenges",text:"What internal challenges?",nextNode:"internal_challenges"},{id:"project_purity_brotherhood",text:"How does Project Purity fit in?",nextNode:"project_purity_brotherhood"},{id:"leave",text:"A noble mission",nextNode:"goodbye"}]},{id:"super_mutant_threat",text:"The super mutants are growing stronger and more organized. They're led by something they call the Master, and they're converting humans into more of their kind.",choices:[{id:"master_info",text:"Who is this Master?",nextNode:"master_info"},{id:"conversion_process",text:"How do they convert humans?",nextNode:"conversion_process"},{id:"accept_brotherhood_quest",text:"How can I help fight them?",action:"give_quest"},{id:"leave",text:"That's terrifying",nextNode:"goodbye"}]},{id:"master_info",text:"We know little about this Master, only that it commands absolute loyalty from the super mutants. Our scouts report it may be located in Vault 87.",choices:[{id:"vault_87_mission",text:"I could investigate Vault 87",nextNode:"vault_87_mission"},{id:"conversion_process",text:"How are they making more super mutants?",nextNode:"conversion_process"},{id:"project_purity_brotherhood",text:"What about Project Purity?",nextNode:"project_purity_brotherhood"},{id:"leave",text:"Vault 87 sounds dangerous",nextNode:"goodbye"}]},{id:"vault_87_mission",text:"Vault 87 is heavily irradiated and well-defended. It would be a suicide mission for most, but someone with your... unique background... might have a chance.",choices:[{id:"accept_brotherhood_quest",text:"I'll investigate Vault 87",action:"give_quest"},{id:"radiation_protection",text:"How do I survive the radiation?",nextNode:"radiation_protection"},{id:"project_purity_brotherhood",text:"First, about Project Purity...",nextNode:"project_purity_brotherhood"},{id:"leave",text:"I need to prepare first",nextNode:"goodbye"}]},{id:"radiation_protection",text:"We have advanced radiation suits and Rad-Away supplies. Our scribes have also developed some experimental protection methods.",choices:[{id:"accept_brotherhood_quest",text:"Then I'll do it",action:"give_quest"},{id:"project_purity_brotherhood",text:"What about Project Purity?",nextNode:"project_purity_brotherhood"},{id:"leave",text:"I'll consider it",nextNode:"goodbye"}]},{id:"conversion_process",text:"They use something called FEV - Forced Evolutionary Virus. It transforms humans into super mutants, but the process is... horrific.",choices:[{id:"fev_source",text:"Where do they get this FEV?",nextNode:"fev_source"},{id:"accept_brotherhood_quest",text:"We have to stop this",action:"give_quest"},{id:"project_purity_brotherhood",text:"Could Project Purity help?",nextNode:"project_purity_brotherhood"},{id:"leave",text:"That's monstrous",nextNode:"goodbye"}]},{id:"fev_source",text:"We believe the source is in Vault 87. If we could destroy it, we could stop the super mutant threat permanently.",choices:[{id:"accept_brotherhood_quest",text:"I'll destroy the FEV source",action:"give_quest"},{id:"vault_87_mission",text:"Tell me more about Vault 87",nextNode:"vault_87_mission"},{id:"leave",text:"That's a big responsibility",nextNode:"goodbye"}]},{id:"internal_challenges",text:"Some of my people believe we should focus on technology acquisition rather than protecting wastelanders. The Outcasts have already split from us over this.",choices:[{id:"outcast_info",text:"Tell me about the Outcasts",nextNode:"outcast_info"},{id:"lyons_philosophy",text:"Why do you help the wastelanders?",nextNode:"lyons_philosophy"},{id:"project_purity_brotherhood",text:"Is Project Purity part of this conflict?",nextNode:"project_purity_brotherhood"},{id:"leave",text:"Division weakens everyone",nextNode:"goodbye"}]},{id:"outcast_info",text:"The Outcasts follow the traditional Brotherhood doctrine - acquire technology, preserve knowledge, ignore the suffering of others. I believe we must do better.",choices:[{id:"lyons_philosophy",text:"What's your philosophy?",nextNode:"lyons_philosophy"},{id:"reconciliation",text:"Could you reconcile with them?",nextNode:"reconciliation"},{id:"project_purity_brotherhood",text:"How does this affect Project Purity?",nextNode:"project_purity_brotherhood"},{id:"leave",text:"I understand the conflict",nextNode:"goodbye"}]},{id:"lyons_philosophy",text:"The Brotherhood's technology means nothing if there's no one left to protect. We must use our power to help rebuild civilization, not just hoard knowledge.",choices:[{id:"project_purity_brotherhood",text:"Is that why you support Project Purity?",nextNode:"project_purity_brotherhood"},{id:"accept_brotherhood_quest",text:"I agree. How can I help?",action:"give_quest"},{id:"reconciliation",text:"Could this philosophy reunite the Brotherhood?",nextNode:"reconciliation"},{id:"leave",text:"A noble vision",nextNode:"goodbye"}]},{id:"reconciliation",text:"Perhaps, in time. But first we must prove that our way works. Project Purity could be that proof - technology used to help everyone.",choices:[{id:"project_purity_brotherhood",text:"Tell me about the Brotherhood's role in Project Purity",nextNode:"project_purity_brotherhood"},{id:"accept_brotherhood_quest",text:"I want to help make that happen",action:"give_quest"},{id:"leave",text:"Hope for the future",nextNode:"goodbye"}]},{id:"project_purity_brotherhood",text:"Project Purity represents everything I believe the Brotherhood should be - using advanced technology to help humanity. But it's dangerous, and we need someone we can trust.",choices:[{id:"purity_dangers",text:"What makes it dangerous?",nextNode:"purity_dangers"},{id:"trust_question",text:"Why do you trust me?",nextNode:"trust_question"},{id:"accept_purity_quest",text:"I'll help with Project Purity",action:"give_quest"},{id:"leave",text:"It sounds important",nextNode:"goodbye"}]},{id:"purity_dangers",text:"The Enclave wants to control it for their own purposes. Super mutants see it as a threat. And some in my own Brotherhood question whether civilians can be trusted with such power.",choices:[{id:"enclave_threat",text:"What does the Enclave want?",nextNode:"enclave_threat"},{id:"accept_purity_quest",text:"Then we need to protect it",action:"give_quest"},{id:"leave",text:"Everyone wants to control it",nextNode:"goodbye"}]},{id:"enclave_threat",text:"The Enclave believes they are the true government of America. They want to use Project Purity to control the wasteland's water supply - and through it, control everyone.",choices:[{id:"accept_purity_quest",text:"We can't let that happen",action:"give_quest"},{id:"enclave_strength",text:"How strong is the Enclave?",nextNode:"enclave_strength"},{id:"leave",text:"That's a terrifying prospect",nextNode:"goodbye"}]},{id:"enclave_strength",text:"They have advanced technology, vertibirds, and power armor that rivals our own. But they're few in number, and their ideology is their weakness.",choices:[{id:"accept_purity_quest",text:"I'll help you stop them",action:"give_quest"},{id:"leave",text:"A dangerous enemy",nextNode:"goodbye"}]},{id:"trust_question",text:"You're not bound by faction loyalty or political agenda. You seek your father out of love, not power. That makes you someone we can work with.",choices:[{id:"accept_purity_quest",text:"I won't let you down",action:"give_quest"},{id:"purity_dangers",text:"What are we up against?",nextNode:"purity_dangers"},{id:"leave",text:"I appreciate your trust",nextNode:"goodbye"}]},{id:"citadel_info",text:"The Citadel was built in the ruins of the Pentagon. It serves as our fortress, laboratory, and symbol of the Brotherhood's commitment to the Capital Wasteland.",choices:[{id:"brotherhood_mission",text:"What is that commitment?",nextNode:"brotherhood_mission"},{id:"project_purity_brotherhood",text:"How does Project Purity fit in?",nextNode:"project_purity_brotherhood"},{id:"leave",text:"Impressive fortress",nextNode:"goodbye"}]},{id:"goodbye",text:"Ad Victoriam, child. May your path lead to victory for all humanity.",choices:[]}],quests:[{id:"the_waters_of_life",title:"The Waters of Life",description:"Help the Brotherhood of Steel protect Project Purity from the Enclave.",objectives:[{id:"secure_project_purity",description:"Secure the Project Purity facility",type:"explore",target:"project_purity_facility",current:0,required:1,completed:!1},{id:"defend_against_enclave",description:"Defend against Enclave assault",type:"kill",target:"enclave_soldier",current:0,required:10,completed:!1},{id:"activate_purifier",description:"Activate the water purifier",type:"explore",target:"purifier_activation",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:1e3},{type:"gold",value:1e3},{type:"item",value:1,item:b.find(e=>e.id==="power_armor")}],status:"available",requiredLevel:18},{id:"finding_the_garden_of_eden",title:"Finding the Garden of Eden",description:"Investigate Vault 87 and stop the super mutant threat.",objectives:[{id:"enter_vault_87",description:"Enter Vault 87",type:"explore",target:"vault_87_entrance",current:0,required:1,completed:!1},{id:"find_fev_source",description:"Locate the FEV laboratory",type:"explore",target:"fev_lab",current:0,required:1,completed:!1},{id:"destroy_fev",description:"Destroy the FEV source",type:"explore",target:"fev_destruction",current:0,required:1,completed:!1},{id:"defeat_master",description:"Defeat the Master",type:"kill",target:"super_mutant_master",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:750},{type:"gold",value:800},{type:"item",value:1,item:b.find(e=>e.id==="plasma_rifle")}],status:"available",requiredLevel:12}],faction:"brotherhood_of_steel",isHostile:!1}],Rn=[{id:"raider_scavenger",name:"Raider Scavenger",type:"raider",mapId:"capital_wasteland",level:2,health:45,maxHealth:45,energy:12,maxEnergy:12,defense:3,damage:14,experience:20,loot:[{item:b.find(e=>e.id==="rusty_pipe"),chance:.4,quantity:1},{item:b.find(e=>e.id==="scrap_metal"),chance:.7,quantity:2},{item:b.find(e=>e.id==="stimpak"),chance:.2,quantity:1}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"raider_scavenger",ai:{type:"aggressive",range:6,speed:72},statusEffects:[],skills:[L.find(e=>e.id==="slash")]},{id:"super_mutant_brute",name:"Super Mutant Brute",type:"mutant",mapId:"capital_wasteland",level:8,health:150,maxHealth:150,energy:20,maxEnergy:20,defense:12,damage:35,experience:80,loot:[{item:b.find(e=>e.id==="assault_rifle"),chance:.3,quantity:1},{item:b.find(e=>e.id==="scrap_metal"),chance:.9,quantity:5},{item:b.find(e=>e.id==="rad_away"),chance:.4,quantity:2}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"super_mutant_brute",ai:{type:"aggressive",range:8,speed:48},statusEffects:[],skills:[L.find(e=>e.id==="power_strike"),L.find(e=>e.id==="aimed_shot")]},{id:"enclave_soldier",name:"Enclave Soldier",type:"robot",mapId:"capital_wasteland",level:12,health:200,maxHealth:200,energy:35,maxEnergy:35,defense:18,damage:45,experience:120,loot:[{item:b.find(e=>e.id==="plasma_rifle"),chance:.5,quantity:1},{item:b.find(e=>e.id==="power_armor"),chance:.2,quantity:1},{item:b.find(e=>e.id==="electronics"),chance:.8,quantity:3}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"enclave_soldier",ai:{type:"aggressive",range:10,speed:64},statusEffects:[],skills:[L.find(e=>e.id==="aimed_shot"),L.find(e=>e.id==="explosive_shot")]},{id:"feral_ghoul",name:"Feral Ghoul",type:"mutant",mapId:"capital_wasteland",level:4,health:60,maxHealth:60,energy:15,maxEnergy:15,defense:2,damage:20,experience:35,loot:[{item:b.find(e=>e.id==="scrap_metal"),chance:.5,quantity:1},{item:b.find(e=>e.id==="rad_away"),chance:.6,quantity:1}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"feral_ghoul",ai:{type:"aggressive",range:5,speed:80},statusEffects:[],skills:[L.find(e=>e.id==="slash"),L.find(e=>e.id==="poison_dart")]},{id:"deathclaw",name:"Deathclaw",type:"beast",mapId:"capital_wasteland",level:15,health:300,maxHealth:300,energy:40,maxEnergy:40,defense:15,damage:60,experience:200,loot:[{item:b.find(e=>e.id==="rare_earth"),chance:.7,quantity:2},{item:b.find(e=>e.id==="scrap_metal"),chance:.9,quantity:8}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"deathclaw",ai:{type:"aggressive",range:12,speed:96},statusEffects:[],skills:[L.find(e=>e.id==="power_strike"),L.find(e=>e.id==="slash")]},{id:"trog",name:"Trog",type:"mutant",mapId:"the_pitt",level:6,health:80,maxHealth:80,energy:18,maxEnergy:18,defense:5,damage:25,experience:45,loot:[{item:b.find(e=>e.id==="scrap_metal"),chance:.8,quantity:3},{item:b.find(e=>e.id==="electronics"),chance:.3,quantity:1}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"trog",ai:{type:"aggressive",range:6,speed:88},statusEffects:[],skills:[L.find(e=>e.id==="slash"),L.find(e=>e.id==="poison_dart")]},{id:"pitt_raider",name:"Pitt Raider",type:"raider",mapId:"the_pitt",level:7,health:90,maxHealth:90,energy:20,maxEnergy:20,defense:8,damage:28,experience:55,loot:[{item:b.find(e=>e.id==="combat_armor"),chance:.4,quantity:1},{item:b.find(e=>e.id==="assault_rifle"),chance:.3,quantity:1},{item:b.find(e=>e.id==="scrap_metal"),chance:.9,quantity:4}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"pitt_raider",ai:{type:"aggressive",range:7,speed:64},statusEffects:[],skills:[L.find(e=>e.id==="aimed_shot"),L.find(e=>e.id==="power_strike")]},{id:"wildman",name:"Wildman",type:"mutant",mapId:"the_pitt",level:9,health:120,maxHealth:120,energy:25,maxEnergy:25,defense:6,damage:32,experience:70,loot:[{item:b.find(e=>e.id==="scrap_metal"),chance:.7,quantity:3},{item:b.find(e=>e.id==="stimpak"),chance:.5,quantity:2}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"wildman",ai:{type:"aggressive",range:8,speed:76},statusEffects:[],skills:[L.find(e=>e.id==="slash"),L.find(e=>e.id==="adrenaline_shot")]},{id:"swampfolk",name:"Swampfolk",type:"mutant",mapId:"point_lookout",level:10,health:140,maxHealth:140,energy:28,maxEnergy:28,defense:10,damage:38,experience:85,loot:[{item:b.find(e=>e.id==="combat_knife"),chance:.6,quantity:1},{item:b.find(e=>e.id==="stimpak"),chance:.4,quantity:2},{item:b.find(e=>e.id==="scrap_metal"),chance:.5,quantity:2}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"swampfolk",ai:{type:"aggressive",range:9,speed:56},statusEffects:[],skills:[L.find(e=>e.id==="poison_dart"),L.find(e=>e.id==="slash")]},{id:"mirelurk",name:"Mirelurk",type:"beast",mapId:"point_lookout",level:8,health:110,maxHealth:110,energy:22,maxEnergy:22,defense:15,damage:30,experience:60,loot:[{item:b.find(e=>e.id==="scrap_metal"),chance:.8,quantity:4},{item:b.find(e=>e.id==="rad_away"),chance:.3,quantity:1}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"mirelurk",ai:{type:"defensive",range:6,speed:40},statusEffects:[],skills:[L.find(e=>e.id==="defensive_stance"),L.find(e=>e.id==="slash")]},{id:"tribal_warrior",name:"Tribal Warrior",type:"raider",mapId:"point_lookout",level:11,health:130,maxHealth:130,energy:30,maxEnergy:30,defense:8,damage:35,experience:90,loot:[{item:b.find(e=>e.id==="combat_knife"),chance:.7,quantity:1},{item:b.find(e=>e.id==="stimpak"),chance:.6,quantity:2},{item:b.find(e=>e.id==="rare_earth"),chance:.2,quantity:1}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"tribal_warrior",ai:{type:"aggressive",range:8,speed:72},statusEffects:[],skills:[L.find(e=>e.id==="aimed_shot"),L.find(e=>e.id==="poison_dart")]},{id:"alien_worker",name:"Alien Worker",type:"robot",mapId:"mothership_zeta",level:12,health:100,maxHealth:100,energy:40,maxEnergy:40,defense:12,damage:40,experience:100,loot:[{item:b.find(e=>e.id==="electronics"),chance:.9,quantity:5},{item:b.find(e=>e.id==="rare_earth"),chance:.6,quantity:2}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"alien_worker",ai:{type:"defensive",range:8,speed:60},statusEffects:[],skills:[L.find(e=>e.id==="emp_blast"),L.find(e=>e.id==="shock_trap")]},{id:"alien_soldier",name:"Alien Soldier",type:"robot",mapId:"mothership_zeta",level:15,health:180,maxHealth:180,energy:50,maxEnergy:50,defense:20,damage:55,experience:150,loot:[{item:b.find(e=>e.id==="plasma_rifle"),chance:.8,quantity:1},{item:b.find(e=>e.id==="electronics"),chance:1,quantity:8},{item:b.find(e=>e.id==="rare_earth"),chance:.7,quantity:3}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"alien_soldier",ai:{type:"aggressive",range:12,speed:80},statusEffects:[],skills:[L.find(e=>e.id==="explosive_shot"),L.find(e=>e.id==="emp_blast")]},{id:"alien_captain",name:"Alien Captain",type:"boss",mapId:"mothership_zeta",level:20,health:400,maxHealth:400,energy:80,maxEnergy:80,defense:25,damage:70,experience:300,loot:[{item:b.find(e=>e.id==="power_armor"),chance:1,quantity:1},{item:b.find(e=>e.id==="plasma_rifle"),chance:1,quantity:1},{item:b.find(e=>e.id==="rare_earth"),chance:1,quantity:10}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"alien_captain",ai:{type:"aggressive",range:15,speed:64},statusEffects:[],skills:[L.find(e=>e.id==="explosive_shot"),L.find(e=>e.id==="turret_deploy"),L.find(e=>e.id==="emp_blast")]},{id:"brotherhood_outcast",name:"Brotherhood Outcast",type:"robot",mapId:"citadel",level:10,health:160,maxHealth:160,energy:35,maxEnergy:35,defense:16,damage:42,experience:95,loot:[{item:b.find(e=>e.id==="combat_armor"),chance:.8,quantity:1},{item:b.find(e=>e.id==="assault_rifle"),chance:.6,quantity:1},{item:b.find(e=>e.id==="electronics"),chance:.7,quantity:3}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"brotherhood_outcast",ai:{type:"aggressive",range:10,speed:56},statusEffects:[],skills:[L.find(e=>e.id==="aimed_shot"),L.find(e=>e.id==="defensive_stance")]},{id:"super_mutant_master",name:"Super Mutant Master",type:"boss",mapId:"citadel",level:18,health:500,maxHealth:500,energy:60,maxEnergy:60,defense:20,damage:80,experience:400,loot:[{item:b.find(e=>e.id==="power_armor"),chance:.8,quantity:1},{item:b.find(e=>e.id==="plasma_rifle"),chance:1,quantity:1},{item:b.find(e=>e.id==="rare_earth"),chance:1,quantity:8}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"super_mutant_master",ai:{type:"aggressive",range:12,speed:48},statusEffects:[],skills:[L.find(e=>e.id==="power_strike"),L.find(e=>e.id==="explosive_shot"),L.find(e=>e.id==="adrenaline_shot")]},{id:"tunnel_rat",name:"Giant Tunnel Rat",type:"beast",mapId:"metro_tunnels",level:3,health:40,maxHealth:40,energy:15,maxEnergy:15,defense:2,damage:18,experience:25,loot:[{item:b.find(e=>e.id==="scrap_metal"),chance:.4,quantity:1},{item:b.find(e=>e.id==="stimpak"),chance:.2,quantity:1}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"tunnel_rat",ai:{type:"aggressive",range:4,speed:96},statusEffects:[],skills:[L.find(e=>e.id==="quick_shot")]},{id:"metro_ghoul",name:"Metro Ghoul",type:"mutant",mapId:"metro_tunnels",level:5,health:70,maxHealth:70,energy:18,maxEnergy:18,defense:4,damage:22,experience:40,loot:[{item:b.find(e=>e.id==="rad_away"),chance:.7,quantity:1},{item:b.find(e=>e.id==="scrap_metal"),chance:.6,quantity:2}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"metro_ghoul",ai:{type:"aggressive",range:6,speed:72},statusEffects:[],skills:[L.find(e=>e.id==="slash"),L.find(e=>e.id==="poison_dart")]},{id:"metro_security_robot",name:"Metro Security Robot",type:"robot",mapId:"metro_tunnels",level:7,health:120,maxHealth:120,energy:30,maxEnergy:30,defense:14,damage:30,experience:65,loot:[{item:b.find(e=>e.id==="electronics"),chance:.9,quantity:4},{item:b.find(e=>e.id==="scrap_metal"),chance:1,quantity:6}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"metro_security_robot",ai:{type:"patrol",range:8,speed:48},statusEffects:[],skills:[L.find(e=>e.id==="aimed_shot"),L.find(e=>e.id==="emp_blast")]}],An=(e,t,n,r=!0)=>({x:e,y:t,type:n,walkable:r,sprite:n,discovered:!1,visible:!1,description:`${n} terrain`}),V=(e,t,n,r,a,s,l)=>{for(let c=0;c<a;c++)for(let o=0;o<r;o++){const d=t+o,p=n+c;d<e[0].length&&p<e.length&&(e[p][d]={...e[p][d],type:"building",walkable:!1,buildingType:s,buildingName:l,description:`${l} - ${s}`},o===Math.floor(r/2)&&c===a-1&&(e[p][d].walkable=!0,e[p][d].isEntrance=!0))}},zn=(e,t,n=.02)=>{const r=[],a=Math.floor(e*t*n);for(let s=0;s<a;s++){const l=Math.floor(Math.random()*e),c=Math.floor(Math.random()*t),o=["container","corpse","cache"],d=o[Math.floor(Math.random()*o.length)],p=Math.floor(Math.random()*3)+1,g=[];for(let h=0;h<p;h++){const u=b[Math.floor(Math.random()*b.length)];g.push({...u,quantity:u.stackable?Math.floor(Math.random()*3)+1:1})}r.push({id:`loot_${s}`,position:{x:l*32+16,y:c*32+16},items:g,type:d,sprite:d,discovered:!1,looted:!1})}return r},Ip=()=>{const n=[];for(let r=0;r<120;r++){const a=[];for(let s=0;s<120;s++){const l=Math.random();let c="grass",o=!0;l<.3?c="dirt":l<.4?c="stone":l<.45?c="ruins":l<.48&&(c="water",o=!1),a.push(An(s,r,c,o))}n.push(a)}return V(n,15,15,8,6,"vault","Vault 101"),V(n,40,20,6,4,"settlement","Megaton"),V(n,70,30,4,3,"clinic","Doc Church's Clinic"),V(n,25,50,5,4,"trader_post","Craterside Supply"),V(n,80,80,10,8,"city","Rivet City"),V(n,10,90,6,5,"brotherhood","Brotherhood Outpost"),V(n,100,20,7,5,"enclave","Enclave Facility"),V(n,50,70,4,4,"workshop","Scrapyard"),{width:120,height:120,tiles:n,name:"Capital Wasteland",bgMusic:"wasteland_ambient",npcs:Ln.filter(r=>r.mapId==="capital_wasteland"),enemies:Rn.filter(r=>r.mapId==="capital_wasteland"),lootables:zn(120,120)}},Pp=()=>{const n=[];for(let r=0;r<80;r++){const a=[];for(let s=0;s<100;s++){const l=Math.random();let c="dirt",o=!0;l<.2?c="ruins":l<.3?c="stone":l<.35?(c="lava",o=!1):l<.4&&(c="building"),a.push(An(s,r,c,o))}n.push(a)}return V(n,20,20,12,8,"steel_mill","The Mill"),V(n,50,30,8,6,"slave_quarters","Worker Barracks"),V(n,70,15,6,4,"haven","Haven"),V(n,30,60,10,6,"foundry","Steel Foundry"),V(n,80,50,5,4,"uptown","Uptown"),{width:100,height:80,tiles:n,name:"The Pitt",bgMusic:"industrial_ambient",npcs:Ln.filter(r=>r.mapId==="the_pitt"),enemies:Rn.filter(r=>r.mapId==="the_pitt"),lootables:zn(100,80,.03)}},qp=()=>{const n=[];for(let r=0;r<90;r++){const a=[];for(let s=0;s<90;s++){const l=Math.random();let c="grass",o=!0;l<.4?c="water":l<.5?c="dirt":l<.6&&(c="ruins"),c==="water"&&Math.random()<.7&&(o=!1),a.push(An(s,r,c,o))}n.push(a)}return V(n,15,15,6,4,"mansion","Calvert Mansion"),V(n,40,30,5,3,"tribal_village","Tribal Huts"),V(n,60,50,4,3,"lighthouse","Point Lookout Lighthouse"),V(n,25,70,8,5,"boardwalk","Pier"),{width:90,height:90,tiles:n,name:"Point Lookout",bgMusic:"swamp_ambient",npcs:Ln.filter(r=>r.mapId==="point_lookout"),enemies:Rn.filter(r=>r.mapId==="point_lookout"),lootables:zn(90,90,.025)}},Lp=()=>{const n=[];for(let r=0;r<40;r++){const a=[];for(let s=0;s<60;s++)a.push(An(s,r,"building",!0));n.push(a)}return V(n,10,10,8,6,"cryo_lab","Cryogenic Laboratory"),V(n,30,15,6,4,"bridge","Ship Bridge"),V(n,45,20,5,3,"engine_room","Engine Core"),V(n,20,30,7,5,"experimentation","Experimentation Lab"),{width:60,height:40,tiles:n,name:"Mothership Zeta",bgMusic:"alien_ambient",npcs:Ln.filter(r=>r.mapId==="mothership_zeta"),enemies:Rn.filter(r=>r.mapId==="mothership_zeta"),lootables:zn(60,40,.04)}},Rp=()=>{const n=[];for(let r=0;r<80;r++){const a=[];for(let s=0;s<80;s++){const l=Math.random();let c="stone";l<.3?c="building":l<.4&&(c="ruins"),a.push(An(s,r,c,!0))}n.push(a)}return V(n,30,30,20,15,"citadel","The Citadel"),V(n,10,10,8,6,"armory","Brotherhood Armory"),V(n,60,20,6,4,"laboratory","Research Lab"),V(n,15,60,10,8,"barracks","Knight Barracks"),V(n,55,55,7,5,"workshop","Tech Workshop"),{width:80,height:80,tiles:n,name:"The Citadel",bgMusic:"brotherhood_ambient",npcs:Ln.filter(r=>r.mapId==="citadel"),enemies:Rn.filter(r=>r.mapId==="citadel"),lootables:zn(80,80,.015)}},Ap=()=>{const n=[];for(let r=0;r<50;r++){const a=[];for(let s=0;s<150;s++){const l=Math.random();let c="ruins",o=!0;l<.2?(c="water",o=!1):l<.3&&(c="building"),a.push(An(s,r,c,o))}n.push(a)}return V(n,20,20,8,6,"metro_station","Dupont Circle Station"),V(n,60,15,8,6,"metro_station","Gallery Place Station"),V(n,100,25,8,6,"metro_station","Union Station"),V(n,130,20,6,4,"metro_station","Capitol South"),{width:150,height:50,tiles:n,name:"Metro Tunnels",bgMusic:"underground_ambient",npcs:Ln.filter(r=>r.mapId==="metro_tunnels"),enemies:Rn.filter(r=>r.mapId==="metro_tunnels"),lootables:zn(150,50,.035)}},zp={capital_wasteland:Ip,the_pitt:Pp,point_lookout:qp,mothership_zeta:Lp,citadel:Rp,metro_tunnels:Ap},Dp=[{id:"escape_vault_101",title:"Escape!",description:"Your father has left Vault 101, breaking the most sacred rule. The Overseer wants you gone, and the only way out is through the vault door that has been sealed for 200 years.",objectives:[{id:"find_father_room",description:"Search your father's room for clues",type:"explore",target:"father_room",current:0,required:1,completed:!1},{id:"get_pip_boy",description:"Retrieve your Pip-Boy 3000",type:"collect",target:"pip_boy",current:0,required:1,completed:!1},{id:"reach_vault_door",description:"Reach the vault entrance",type:"explore",target:"vault_door",current:0,required:1,completed:!1},{id:"exit_vault",description:"Step into the Capital Wasteland",type:"explore",target:"wasteland_surface",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:200},{type:"item",value:1,item:b.find(e=>e.id==="pip_boy")}],status:"active",requiredLevel:1},{id:"following_in_his_footsteps",title:"Following in His Footsteps",description:"Your father James has left Vault 101 to continue his work on Project Purity. Track him down by following the trail of people who have seen him.",objectives:[{id:"talk_to_simms",description:"Speak with Sheriff Simms in Megaton",type:"talk",target:"sheriff_lucas",current:0,required:1,completed:!1},{id:"visit_gnr",description:"Travel to Galaxy News Radio",type:"explore",target:"galaxy_news_radio",current:0,required:1,completed:!1},{id:"talk_three_dog",description:"Speak with Three Dog",type:"talk",target:"three_dog",current:0,required:1,completed:!1},{id:"reach_rivet_city",description:"Travel to Rivet City",type:"explore",target:"rivet_city",current:0,required:1,completed:!1},{id:"talk_dr_li",description:"Speak with Dr. Madison Li",type:"talk",target:"dr_li",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:300},{type:"gold",value:200},{type:"item",value:1,item:b.find(e=>e.id==="combat_armor")}],status:"available",requiredLevel:2},{id:"scientific_pursuits",title:"Scientific Pursuits",description:"Dr. Li has told you that your father went to the Jefferson Memorial to restart Project Purity. Follow him there, but be prepared for danger.",objectives:[{id:"reach_jefferson_memorial",description:"Travel to the Jefferson Memorial",type:"explore",target:"jefferson_memorial",current:0,required:1,completed:!1},{id:"clear_super_mutants",description:"Clear super mutants from Project Purity",type:"kill",target:"super_mutant",current:0,required:8,completed:!1},{id:"find_james",description:"Locate your father James",type:"talk",target:"james",current:0,required:1,completed:!1},{id:"activate_project_purity",description:"Help activate Project Purity",type:"explore",target:"project_purity_activation",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:400},{type:"gold",value:300},{type:"item",value:1,item:b.find(e=>e.id==="plasma_rifle")}],status:"available",requiredLevel:5},{id:"the_waters_of_life",title:"The Waters of Life",description:"Project Purity is operational, but the Enclave has arrived to seize control. Work with the Brotherhood of Steel to protect the water purifier and ensure it serves all of humanity.",objectives:[{id:"escape_enclave",description:"Escape the Enclave assault on Project Purity",type:"explore",target:"enclave_escape",current:0,required:1,completed:!1},{id:"reach_citadel",description:"Travel to the Citadel",type:"explore",target:"citadel",current:0,required:1,completed:!1},{id:"talk_elder_lyons",description:"Speak with Elder Lyons",type:"talk",target:"elder_lyons",current:0,required:1,completed:!1},{id:"retrieve_geck",description:"Retrieve the G.E.C.K. from Vault 87",type:"collect",target:"geck",current:0,required:1,completed:!1},{id:"return_project_purity",description:"Return to Project Purity with the G.E.C.K.",type:"explore",target:"project_purity_return",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:600},{type:"gold",value:500},{type:"item",value:1,item:b.find(e=>e.id==="power_armor")}],status:"available",requiredLevel:8},{id:"take_it_back",title:"Take It Back!",description:"The final battle for Project Purity has begun. Lead the Brotherhood of Steel in an assault on the Jefferson Memorial to reclaim the water purifier from the Enclave.",objectives:[{id:"assault_memorial",description:"Join the Brotherhood assault on the Memorial",type:"explore",target:"memorial_assault",current:0,required:1,completed:!1},{id:"defeat_enclave_forces",description:"Defeat the Enclave forces",type:"kill",target:"enclave_soldier",current:0,required:15,completed:!1},{id:"reach_control_room",description:"Reach the Project Purity control room",type:"explore",target:"purity_control_room",current:0,required:1,completed:!1},{id:"activate_purifier",description:"Activate the water purifier",type:"explore",target:"purifier_final_activation",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:1e3},{type:"gold",value:1e3},{type:"item",value:1,item:b.find(e=>e.id==="power_armor")}],status:"available",requiredLevel:15}],$p=[{id:"the_power_of_atom",title:"The Power of the Atom",description:"Megaton is built around an unexploded atomic bomb. Sheriff Simms wants it disarmed, but others have different ideas about the bomb's fate.",objectives:[{id:"examine_bomb",description:"Examine the atomic bomb in Megaton",type:"explore",target:"megaton_bomb",current:0,required:1,completed:!1},{id:"talk_burke",description:"Speak with Mr. Burke about the bomb",type:"talk",target:"burke",current:0,required:1,completed:!1},{id:"make_bomb_choice",description:"Decide the fate of Megaton's bomb",type:"explore",target:"bomb_decision",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:300},{type:"gold",value:500},{type:"item",value:1,item:b.find(e=>e.id==="power_armor")}],status:"available",requiredLevel:3},{id:"wasteland_survival_guide",title:"The Wasteland Survival Guide",description:"Moira Brown in Megaton wants to write the definitive guide to wasteland survival. She needs someone to test her theories in the field.",objectives:[{id:"test_radiation",description:"Test the effects of radiation exposure",type:"explore",target:"radiation_test",current:0,required:1,completed:!1},{id:"test_injury",description:"Test injury treatment methods",type:"explore",target:"injury_test",current:0,required:1,completed:!1},{id:"test_food",description:"Test wasteland food sources",type:"collect",target:"wasteland_food",current:0,required:5,completed:!1},{id:"test_combat",description:"Test combat techniques against raiders",type:"kill",target:"raider",current:0,required:10,completed:!1},{id:"complete_guide",description:"Return to Moira with your findings",type:"talk",target:"moira_brown",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:400},{type:"gold",value:300},{type:"item",value:1,item:b.find(e=>e.id==="combat_armor")}],status:"available",requiredLevel:2},{id:"blood_ties",title:"Blood Ties",description:'The residents of Arefu are being terrorized by a group calling themselves "The Family." Investigate these mysterious attackers and their connection to a missing boy.',objectives:[{id:"investigate_arefu",description:"Investigate the attacks in Arefu",type:"explore",target:"arefu_investigation",current:0,required:1,completed:!1},{id:"find_ian_west",description:"Find Ian West",type:"talk",target:"ian_west",current:0,required:1,completed:!1},{id:"meet_the_family",description:"Meet with The Family",type:"talk",target:"vance",current:0,required:1,completed:!1},{id:"resolve_conflict",description:"Resolve the conflict between Arefu and The Family",type:"talk",target:"family_resolution",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:350},{type:"gold",value:250},{type:"item",value:1,item:b.find(e=>e.id==="combat_knife")}],status:"available",requiredLevel:4},{id:"the_superhuman_gambit",title:"The Superhuman Gambit",description:"The town of Canterbury Commons is caught in the middle of a battle between two costumed characters: the AntAgonizer and the Mechanist.",objectives:[{id:"reach_canterbury",description:"Travel to Canterbury Commons",type:"explore",target:"canterbury_commons",current:0,required:1,completed:!1},{id:"talk_uncle_roe",description:"Speak with Uncle Roe",type:"talk",target:"uncle_roe",current:0,required:1,completed:!1},{id:"investigate_antagonizer",description:"Investigate the AntAgonizer",type:"explore",target:"antagonizer_lair",current:0,required:1,completed:!1},{id:"investigate_mechanist",description:"Investigate the Mechanist",type:"explore",target:"mechanist_lair",current:0,required:1,completed:!1},{id:"resolve_conflict",description:"End the conflict between the two heroes",type:"talk",target:"hero_resolution",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:300},{type:"gold",value:400},{type:"item",value:1,item:b.find(e=>e.id==="power_armor")}],status:"available",requiredLevel:6},{id:"stealing_independence",title:"Stealing Independence",description:"Abraham Washington in Rivet City wants you to retrieve the Declaration of Independence from the National Archives, but the building is heavily defended.",objectives:[{id:"reach_archives",description:"Travel to the National Archives",type:"explore",target:"national_archives",current:0,required:1,completed:!1},{id:"clear_super_mutants",description:"Clear super mutants from the Archives",type:"kill",target:"super_mutant",current:0,required:12,completed:!1},{id:"find_declaration",description:"Locate the Declaration of Independence",type:"collect",target:"declaration_independence",current:0,required:1,completed:!1},{id:"return_washington",description:"Return the Declaration to Abraham Washington",type:"talk",target:"abraham_washington",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:450},{type:"gold",value:600},{type:"item",value:1,item:b.find(e=>e.id==="plasma_rifle")}],status:"available",requiredLevel:8},{id:"reillys_rangers",title:"Reilly's Rangers",description:"Reilly's Rangers are trapped in the Statesman Hotel, surrounded by super mutants. Mount a rescue mission to save the elite mercenary team.",objectives:[{id:"find_reilly",description:"Find Reilly in the Underworld",type:"talk",target:"reilly",current:0,required:1,completed:!1},{id:"reach_statesman_hotel",description:"Travel to the Statesman Hotel",type:"explore",target:"statesman_hotel",current:0,required:1,completed:!1},{id:"rescue_rangers",description:"Rescue the trapped Rangers",type:"talk",target:"trapped_ranger",current:0,required:3,completed:!1},{id:"clear_escape_route",description:"Clear an escape route",type:"kill",target:"super_mutant",current:0,required:15,completed:!1},{id:"return_reilly",description:"Return to Reilly",type:"talk",target:"reilly",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:500},{type:"gold",value:700},{type:"item",value:1,item:b.find(e=>e.id==="combat_armor")}],status:"available",requiredLevel:10},{id:"the_replicated_man",title:"The Replicated Man",description:"Dr. Zimmer from the Commonwealth is searching for an escaped android. Help him track down the runaway, or help the android escape its pursuers.",objectives:[{id:"talk_zimmer",description:"Speak with Dr. Zimmer in Rivet City",type:"talk",target:"dr_zimmer",current:0,required:1,completed:!1},{id:"investigate_android",description:"Investigate reports of the android",type:"explore",target:"android_clues",current:0,required:3,completed:!1},{id:"find_android",description:"Locate the escaped android",type:"talk",target:"android",current:0,required:1,completed:!1},{id:"make_choice",description:"Decide the android's fate",type:"talk",target:"android_choice",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:400},{type:"gold",value:500},{type:"item",value:1,item:b.find(e=>e.id==="plasma_rifle")}],status:"available",requiredLevel:12},{id:"trouble_on_the_homefront",title:"Trouble on the Homefront",description:"Vault 101 is in crisis. The Overseer is dead, and the vault is divided between those who want to open to the outside world and those who want to remain sealed.",objectives:[{id:"return_vault_101",description:"Return to Vault 101",type:"explore",target:"vault_101_return",current:0,required:1,completed:!1},{id:"investigate_crisis",description:"Investigate the crisis in the vault",type:"talk",target:"vault_resident",current:0,required:3,completed:!1},{id:"resolve_conflict",description:"Resolve the conflict in Vault 101",type:"talk",target:"vault_resolution",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:350},{type:"gold",value:300},{type:"item",value:1,item:b.find(e=>e.id==="combat_armor")}],status:"available",requiredLevel:14}],Op=[{id:"into_the_pitt",title:"Into the Pitt",description:"Travel to the industrial wasteland of The Pitt and discover the dark secrets of this slave city built on steel production.",objectives:[{id:"reach_the_pitt",description:"Travel to The Pitt",type:"explore",target:"the_pitt_entrance",current:0,required:1,completed:!1},{id:"meet_werner",description:"Meet with Werner in the steelyard",type:"talk",target:"werner",current:0,required:1,completed:!1},{id:"investigate_situation",description:"Investigate the situation in The Pitt",type:"explore",target:"pitt_investigation",current:0,required:3,completed:!1},{id:"meet_ashur",description:"Meet with Lord Ashur",type:"talk",target:"ashur",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:400},{type:"gold",value:300},{type:"item",value:1,item:b.find(e=>e.id==="combat_armor")}],status:"available",requiredLevel:8},{id:"unsafe_working_conditions",title:"Unsafe Working Conditions",description:"Choose between supporting Lord Ashur's vision of a cure for the Trog Degenerative Contagion or helping the Underground free the workers.",objectives:[{id:"choose_faction",description:"Choose between Ashur and the Underground",type:"talk",target:"pitt_faction_choice",current:0,required:1,completed:!1},{id:"complete_faction_mission",description:"Complete your chosen faction's mission",type:"explore",target:"pitt_faction_mission",current:0,required:1,completed:!1},{id:"resolve_pitt_crisis",description:"Resolve the crisis in The Pitt",type:"talk",target:"pitt_resolution",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:600},{type:"gold",value:500},{type:"item",value:1,item:b.find(e=>e.id==="power_armor")}],status:"available",requiredLevel:10},{id:"the_local_flavor",title:"The Local Flavor",description:"Point Lookout harbors dark secrets and ancient conflicts. Navigate the war between Desmond Lockheart and Professor Calvert.",objectives:[{id:"reach_point_lookout",description:"Travel to Point Lookout",type:"explore",target:"point_lookout_dock",current:0,required:1,completed:!1},{id:"meet_desmond",description:"Meet Desmond Lockheart",type:"talk",target:"desmond",current:0,required:1,completed:!1},{id:"investigate_calvert",description:"Investigate Professor Calvert",type:"explore",target:"calvert_mansion",current:0,required:1,completed:!1},{id:"choose_side",description:"Choose between Desmond and Calvert",type:"talk",target:"lookout_faction_choice",current:0,required:1,completed:!1},{id:"end_ancient_war",description:"End the ancient war",type:"kill",target:"ancient_enemy",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:500},{type:"gold",value:600},{type:"item",value:1,item:b.find(e=>e.id==="plasma_rifle")}],status:"available",requiredLevel:12},{id:"not_of_this_world",title:"Not of This World",description:"You've been abducted by aliens and taken aboard their mothership. Escape and prevent an invasion of Earth.",objectives:[{id:"escape_holding_cell",description:"Escape from the alien holding cell",type:"explore",target:"alien_cell_escape",current:0,required:1,completed:!1},{id:"free_prisoners",description:"Free the other human prisoners",type:"talk",target:"human_prisoner",current:0,required:4,completed:!1},{id:"reach_armory",description:"Reach the alien armory",type:"explore",target:"alien_armory",current:0,required:1,completed:!1},{id:"take_bridge",description:"Capture the ship's bridge",type:"kill",target:"alien_captain",current:0,required:1,completed:!1},{id:"destroy_mothership",description:"Destroy the alien mothership",type:"explore",target:"ship_destruction",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:800},{type:"item",value:1,item:b.find(e=>e.id==="alien_blaster")},{type:"item",value:1,item:b.find(e=>e.id==="power_armor")}],status:"available",requiredLevel:15},{id:"death_from_above",title:"Death From Above",description:"The Enclave has mobile base crawler threatening the Capital Wasteland. Work with the Brotherhood to destroy this massive war machine.",objectives:[{id:"locate_crawler",description:"Locate the Enclave mobile base crawler",type:"explore",target:"enclave_crawler",current:0,required:1,completed:!1},{id:"infiltrate_crawler",description:"Infiltrate the mobile base",type:"explore",target:"crawler_infiltration",current:0,required:1,completed:!1},{id:"sabotage_crawler",description:"Sabotage the crawler's systems",type:"explore",target:"crawler_sabotage",current:0,required:3,completed:!1},{id:"escape_crawler",description:"Escape before the crawler is destroyed",type:"explore",target:"crawler_escape",current:0,required:1,completed:!1}],rewards:[{type:"experience",value:750},{type:"gold",value:800},{type:"item",value:1,item:b.find(e=>e.id==="power_armor")}],status:"available",requiredLevel:20}],Bd=[...Dp,...$p,...Op];15*32+16,20*32+16,b.find(e=>e.id==="stimpak"),b.find(e=>e.id==="combat_knife"),b.find(e=>e.id==="combat_armor"),b.find(e=>e.id==="scrap_metal"),30*32+16,40*32+16,b.find(e=>e.id==="combat_armor"),10*32+16,60*32+16,70*32+16,30*32+16,{...b.find(e=>e.id==="stimpak")},{...b.find(e=>e.id==="rad_away")},b.find(e=>e.id==="mentats"),b.find(e=>e.id==="rad_away"),50*32+16,80*32+16,b.find(e=>e.id==="assault_rifle"),b.find(e=>e.id==="combat_armor"),{...b.find(e=>e.id==="scrap_metal")},{...b.find(e=>e.id==="electronics")},b.find(e=>e.id==="assault_rifle"),85*32+16,15*32+16,b.find(e=>e.id==="power_armor");const fs={warrior:{name:"Warrior",description:"A tough melee fighter with high health and strength",baseStats:{strength:15,agility:8,intelligence:6,endurance:14,luck:7,perception:8,charisma:6},startingSkills:["slash","power_strike","defensive_stance"],sprite:"warrior"},ranger:{name:"Ranger",description:"A skilled marksman with high agility and perception",baseStats:{strength:10,agility:15,intelligence:10,endurance:10,luck:10,perception:14,charisma:8},startingSkills:["aimed_shot","quick_shot","explosive_shot"],sprite:"ranger"},medic:{name:"Medic",description:"A healer with knowledge of medicine and technology",baseStats:{strength:7,agility:9,intelligence:15,endurance:11,luck:8,perception:10,charisma:12},startingSkills:["heal","poison_dart","adrenaline_shot"],sprite:"medic"},engineer:{name:"Engineer",description:"A tech specialist who can craft and repair equipment",baseStats:{strength:9,agility:11,intelligence:14,endurance:9,luck:12,perception:11,charisma:7},startingSkills:["emp_blast","turret_deploy","shock_trap"],sprite:"engineer"}},So=[{id:"vault_dweller",name:"Vault Dweller",description:"Raised in the safety of an underground vault",bonuses:{intelligence:2,endurance:1},penalties:{charisma:-1},startingItems:["pip_boy","vault_suit"]},{id:"wasteland_wanderer",name:"Wasteland Wanderer",description:"Born and raised in the harsh wasteland",bonuses:{endurance:2,perception:1},penalties:{intelligence:-1},startingItems:["leather_jacket","water_bottle"]},{id:"tribal",name:"Tribal",description:"Member of a primitive post-war tribe",bonuses:{strength:2,agility:1},penalties:{intelligence:-1},startingItems:["tribal_spear","healing_powder"]},{id:"raider",name:"Ex-Raider",description:"Former member of a raider gang seeking redemption",bonuses:{strength:1,agility:1,luck:1},penalties:{charisma:-2},startingItems:["sawed_off_shotgun","leather_armor"]}],Co=[{id:"fast_metabolism",name:"Fast Metabolism",description:"Your body processes food and chems quickly",bonus:"Healing items are 50% more effective",penalty:"Radiation damage is 25% higher"},{id:"heavy_handed",name:"Heavy Handed",description:"You swing weapons with great force",bonus:"+4 melee damage",penalty:"-30% critical hit chance"},{id:"small_frame",name:"Small Frame",description:"You are not quite as big as other people",bonus:"+1 Agility",penalty:"Limbs are easier to cripple"},{id:"one_hander",name:"One Hander",description:"You excel with one-handed weapons",bonus:"+20% accuracy with one-handed weapons",penalty:"-40% accuracy with two-handed weapons"}],an=[{id:"raider",name:"Wasteland Raider",type:"raider",level:1,health:40,maxHealth:40,energy:10,maxEnergy:10,defense:2,damage:12,experience:15,loot:[{item:b.find(e=>e.id==="rusty_pipe"),chance:.3,quantity:1},{item:b.find(e=>e.id==="scrap_metal"),chance:.8,quantity:2}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"raider",ai:{type:"aggressive",range:5,speed:64},statusEffects:[],skills:[L.find(e=>e.id==="slash")]},{id:"mutant",name:"Irradiated Mutant",type:"mutant",level:3,health:80,maxHealth:80,energy:15,maxEnergy:15,defense:5,damage:18,experience:35,loot:[{item:b.find(e=>e.id==="rad_away"),chance:.4,quantity:1},{item:b.find(e=>e.id==="scrap_metal"),chance:.6,quantity:3}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"mutant",ai:{type:"aggressive",range:6,speed:48},statusEffects:[],skills:[L.find(e=>e.id==="slash"),L.find(e=>e.id==="poison_dart")]},{id:"robot",name:"Security Robot",type:"robot",level:5,health:120,maxHealth:120,energy:30,maxEnergy:30,defense:10,damage:25,experience:60,loot:[{item:b.find(e=>e.id==="electronics"),chance:.7,quantity:2},{item:b.find(e=>e.id==="scrap_metal"),chance:.9,quantity:5}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"robot",ai:{type:"patrol",range:8,speed:32},statusEffects:[],skills:[L.find(e=>e.id==="aimed_shot"),L.find(e=>e.id==="emp_blast")]},{id:"raider_boss",name:"Raider Chief",type:"raider",level:4,health:100,maxHealth:100,energy:20,maxEnergy:20,defense:8,damage:22,experience:80,loot:[{item:b.find(e=>e.id==="combat_armor"),chance:.6,quantity:1},{item:b.find(e=>e.id==="assault_rifle"),chance:.4,quantity:1},{item:b.find(e=>e.id==="scrap_metal"),chance:1,quantity:5}],position:{x:0,y:0},direction:"down",isMoving:!1,sprite:"raider_boss",ai:{type:"aggressive",range:6,speed:56},statusEffects:[],skills:[L.find(e=>e.id==="power_strike"),L.find(e=>e.id==="aimed_shot")]}],Hp=(e,t)=>{const n=fs[t],r=n.startingSkills.map(s=>L.find(l=>l.id===s)).filter(Boolean),a={id:"player",name:e,background:"vault_dweller",age:25,gender:"male",class:t,level:1,experience:0,experienceToNext:100,health:100,maxHealth:100,energy:50,maxEnergy:50,radiation:0,maxRadiation:1e3,stats:{...n.baseStats},derivedStats:{carryWeight:n.baseStats.strength*10,actionPoints:Math.floor(n.baseStats.agility/2),criticalChance:n.baseStats.luck,damageResistance:0,radiationResistance:n.baseStats.endurance*2},skills:r,perks:[],equipment:{weapon:b.find(s=>s.id==="rusty_pipe"),armor:b.find(s=>s.id==="leather_jacket")},isInParty:!0,position:{x:50*32,y:50*32},direction:"down",isMoving:!1,sprite:n.sprite,statusEffects:[],biography:"",traits:[]};return a.equipmentBonuses={damage:0,defense:0,strength:0,agility:0,intelligence:0,endurance:0,luck:0,criticalChance:0},a},Wp=()=>zp.capital_wasteland(),Fp=[{id:"first_kill",name:"First Blood",description:"Kill your first enemy",icon:"skull",unlocked:!1,progress:0,maxProgress:1},{id:"level_up",name:"Growing Stronger",description:"Reach level 5",icon:"star",unlocked:!1,progress:0,maxProgress:5},{id:"explorer",name:"Explorer",description:"Discover 100 tiles",icon:"map",unlocked:!1,progress:0,maxProgress:100},{id:"collector",name:"Collector",description:"Find 50 items",icon:"package",unlocked:!1,progress:0,maxProgress:50},{id:"survivor",name:"Survivor",description:"Survive for 1 hour",icon:"clock",unlocked:!1,progress:0,maxProgress:3600},{id:"quest_master",name:"Quest Master",description:"Complete 10 quests",icon:"scroll",unlocked:!1,progress:0,maxProgress:10},{id:"raider_slayer",name:"Raider Slayer",description:"Kill 25 raiders",icon:"sword",unlocked:!1,progress:0,maxProgress:25}];[...Bd.filter(e=>e.status==="active")];const cr=class cr{static saveGame(t,n,r){try{const a={version:"1.0.0",timestamp:Date.now(),gameState:{...n},settings:{...r}},s=`${this.SAVE_KEY_PREFIX}${t}`;return localStorage.setItem(s,JSON.stringify(a)),this.updateSaveList(t,a),!0}catch(a){return console.error("Failed to save game:",a),!1}}static loadGame(t){try{const n=`${this.SAVE_KEY_PREFIX}${t}`,r=localStorage.getItem(n);if(!r)return null;const a=JSON.parse(r);return this.validateSaveData(a)?a:(console.error("Invalid save data"),null)}catch(n){return console.error("Failed to load game:",n),null}}static deleteSave(t){try{const n=`${this.SAVE_KEY_PREFIX}${t}`;return localStorage.removeItem(n),this.updateSaveList(t,null),!0}catch(n){return console.error("Failed to delete save:",n),!1}}static getSaveList(){const t=[];for(let n=0;n<this.MAX_SAVES;n++)try{const r=`${this.SAVE_KEY_PREFIX}${n}`,a=localStorage.getItem(r);if(a){const s=JSON.parse(a);t[n]={slot:n,timestamp:s.timestamp,playerName:s.gameState.player.name,level:s.gameState.player.level,playtime:s.gameState.statistics.playtime}}else t[n]=null}catch{t[n]=null}return t}static saveSettings(t){try{return localStorage.setItem(this.SETTINGS_KEY,JSON.stringify(t)),!0}catch(n){return console.error("Failed to save settings:",n),!1}}static loadSettings(){try{const t=localStorage.getItem(this.SETTINGS_KEY);if(t)return JSON.parse(t)}catch(t){console.error("Failed to load settings:",t)}return{masterVolume:1,musicVolume:.8,sfxVolume:.8,graphics:"high",fullscreen:!1,showFPS:!0,autoSave:!0,difficulty:"normal"}}static exportSave(t){const n=this.loadGame(t);return n?btoa(JSON.stringify(n)):null}static importSave(t,n){try{const r=JSON.parse(atob(n));if(!this.validateSaveData(r))return!1;const a=`${this.SAVE_KEY_PREFIX}${t}`;return localStorage.setItem(a,JSON.stringify(r)),this.updateSaveList(t,r),!0}catch(r){return console.error("Failed to import save:",r),!1}}static validateSaveData(t){return t&&t.version&&t.timestamp&&t.gameState&&t.gameState.player&&t.gameState.player.name&&typeof t.gameState.player.level=="number"}static updateSaveList(t,n){try{const r="wasteland_rpg_save_list";let a=JSON.parse(localStorage.getItem(r)||"{}");n?a[t]={timestamp:n.timestamp,playerName:n.gameState.player.name,level:n.gameState.player.level,playtime:n.gameState.statistics.playtime}:delete a[t],localStorage.setItem(r,JSON.stringify(a))}catch(r){console.error("Failed to update save list:",r)}}static autoSave(t,n){return n.autoSave?this.saveGame(0,t,n):!1}static getStorageUsage(){let t=0;for(let a in localStorage)(a.startsWith(this.SAVE_KEY_PREFIX)||a===this.SETTINGS_KEY)&&(t+=localStorage[a].length);const n=5*1024*1024,r=t/n*100;return{used:t,total:n,percentage:r}}static clearAllSaves(){try{for(let t=0;t<this.MAX_SAVES;t++){const n=`${this.SAVE_KEY_PREFIX}${t}`;localStorage.removeItem(n)}return localStorage.removeItem("wasteland_rpg_save_list"),!0}catch(t){return console.error("Failed to clear saves:",t),!1}}};cr.SAVE_KEY_PREFIX="wasteland_rpg_save_",cr.SETTINGS_KEY="wasteland_rpg_settings",cr.MAX_SAVES=10;let bt=cr;const Bp=()=>{const[e,t]=I.useState(null),[n,r]=I.useState(bt.loadSettings()),[a,s]=I.useState("menu");I.useEffect(()=>{if(e&&n.autoSave){const m=setInterval(()=>{bt.autoSave(e,n)},3e4);return()=>clearInterval(m)}},[e,n.autoSave]);const l=I.useCallback(m=>{const f=JSON.parse(JSON.stringify(m));t(f)},[]),c=I.useCallback((m,f)=>{const x=Hp(m,f),w=Wp(),j=[{...b.find(E=>E.id==="stimpak"),quantity:3},{...b.find(E=>E.id==="scrap_metal"),quantity:5},{...b.find(E=>E.id==="combat_knife")},{...b.find(E=>E.id==="combat_armor")}],N={player:x,party:[x],allCharacters:[x],inventory:j,gold:100,currentMap:w,mapPosition:{x:25,y:25},camera:{x:0,y:0},gameTime:0,dayNightCycle:.5,weather:"clear",quests:[],completedQuests:[],discoveredMaps:["wasteland"],gameMode:"exploration",base:{level:1,name:"Survivor's Haven",facilities:{workshop:1,medical:1,storage:1,training:1},resources:{scrap:50,food:30,medicine:10,fuel:20,electronics:5,rare_materials:0},defenses:[],population:1,morale:75},achievements:[...Fp],statistics:{playtime:0,enemiesKilled:0,questsCompleted:0,itemsFound:0,distanceTraveled:0,damageDealt:0,damageTaken:0,healingDone:0,goldEarned:0,goldSpent:0},visibilityMap:[],quests:[Bd.find(E=>E.id==="escape_vault_101")],devMode:{enabled:!1,selectedTool:"quest",questEditor:{id:"",title:"",description:"",objectives:[],rewards:[],requiredLevel:1},npcEditor:{id:"",name:"",type:"neutral",position:{x:400,y:400},dialogue:[],inventory:[],faction:"neutral",isHostile:!1},itemEditor:{id:"",name:"",type:"material",rarity:"common",description:"",stats:{},value:10,stackable:!1}}};t(N),s("playing")},[]),o=I.useCallback(m=>{const f=bt.loadGame(m);return f?(t(f.gameState),r(f.settings),s("playing"),!0):!1},[]),d=I.useCallback(m=>e?bt.saveGame(m,e,n):!1,[e,n]),p=I.useCallback(m=>{if(!e||!e.dialogue)return;const f=e.currentMap.npcs.find(N=>N.id===e.dialogue.npcId);if(!f)return;const x=f.dialogue.find(N=>N.id===e.dialogue.currentNode),w=x==null?void 0:x.choices.find(N=>N.id===m);if(!w)return;const j={...e};if(j.dialogue.history.push(`You: ${w.text}`),w.action==="give_quest"&&f.quests&&f.quests.forEach(N=>{j.quests.find(T=>T.id===N.id)||j.quests.push({...N,status:"active"})}),w.action==="open_trade"&&console.log("Opening trade with",f.name),w.nextNode){const N=f.dialogue.find(E=>E.id===w.nextNode);N&&(j.dialogue.currentNode=w.nextNode,j.dialogue.choices=N.choices,j.dialogue.history.push(`${f.name}: ${N.text}`))}else j.dialogue=void 0,j.gameMode="exploration";l(j)},[e]),g=I.useCallback((m,f,x=1)=>{if(!e)return;const w={...e},j=w.quests.find(N=>N.id===m);if(j&&j.status==="active"){const N=j.objectives.find(E=>E.id===f);N&&!N.completed&&(N.current=Math.min(N.current+x,N.required),N.current>=N.required&&(N.completed=!0),j.objectives.every(T=>T.completed)&&(j.status="completed",w.completedQuests.push(j.id),j.rewards.forEach(T=>{if(T.type==="experience")for(w.player.experience+=T.value;w.player.experience>=w.player.experienceToNext;)w.player.experience-=w.player.experienceToNext,w.player.level++,w.player.experienceToNext=w.player.level*100,w.player.maxHealth+=10,w.player.maxEnergy+=5,w.player.health=w.player.maxHealth,w.player.energy=w.player.maxEnergy;else T.type==="gold"?w.gold+=T.value:T.type==="item"&&T.item&&w.inventory.push({...T.item})})))}l(w)},[e,l]);I.useEffect(()=>{if(!e)return;const m={...e};let f=!1;const x=m.quests.find(w=>w.id==="first_steps");if(x&&x.status==="active"){const w=x.objectives.find(j=>j.id==="explore_tiles");if(w&&!w.completed){const j=m.currentMap.tiles.flat().filter(N=>N.discovered).length;j>w.current&&(w.current=Math.min(j,w.required),w.current>=w.required&&(w.completed=!0),f=!0)}}m.quests.forEach(w=>{w.status==="active"&&w.objectives.every(N=>N.completed)&&(w.status="completed",m.completedQuests.includes(w.id)||m.completedQuests.push(w.id),w.rewards.forEach(N=>{if(N.type==="experience")for(m.player.experience+=N.value;m.player.experience>=m.player.experienceToNext;)m.player.experience-=m.player.experienceToNext,m.player.level++,m.player.experienceToNext=m.player.level*100,m.player.maxHealth+=10,m.player.maxEnergy+=5,m.player.health=m.player.maxHealth,m.player.energy=m.player.maxEnergy;else N.type==="gold"?m.gold+=N.value:N.type==="item"&&N.item&&m.inventory.push({...N.item})}),f=!0)}),f&&l(m)},[e==null?void 0:e.currentMap.tiles,e==null?void 0:e.quests,l]);const h=I.useCallback(m=>{if(!e)return;const f={...e},x=f.quests.find(w=>w.id===m);x&&(x.status="completed",f.completedQuests.includes(m)||f.completedQuests.push(m),l(f))},[e,l]),u=I.useCallback(m=>{const f={...n,...m};r(f),bt.saveSettings(f)},[n]),y=I.useCallback(()=>{s("character-creation")},[]),v=I.useCallback(()=>{s("menu"),t(null)},[]),C=I.useCallback(()=>{console.log("Quitting game...")},[]);return{gameState:e,settings:n,gameMode:a,createNewGame:c,loadGame:o,saveGame:d,updateSettings:u,updateGameState:l,startNewGame:y,returnToMenu:v,quitGame:C,handleDialogueChoice:p,updateQuestProgress:g,completeQuest:h}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vp={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),R=(e,t)=>{const n=I.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:c="",children:o,...d},p)=>I.createElement("svg",{ref:p,...Vp,width:a,height:a,stroke:r,strokeWidth:l?Number(s)*24/Number(a):s,className:["lucide",`lucide-${Up(e)}`,c].join(" "),...d},[...t.map(([g,h])=>I.createElement(g,h)),...Array.isArray(o)?o:[o]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qp=R("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yp=R("ArrowLeftRight",[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vd=R("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ud=R("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=R("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=R("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=R("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=R("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=R("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=R("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jp=R("Dice6",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zp=R("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=R("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=R("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=R("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=R("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=R("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=R("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=R("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=R("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=R("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=R("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=R("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=R("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=R("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=R("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=R("Scroll",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=R("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=R("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cr=R("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=R("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=R("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=R("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=R("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=R("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=R("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=R("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=R("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=R("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=R("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xs=R("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=R("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=R("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),fm=({onNewGame:e,onLoadGame:t,onSettings:n,onQuit:r})=>{const[a,s]=I.useState(!1);I.useEffect(()=>{const u=y=>{y.stopPropagation()};return document.addEventListener("keydown",u,!0),()=>document.removeEventListener("keydown",u,!0)},[]);const[l,c]=I.useState(!1),[o,d]=I.useState(!1),p=bt.getSaveList(),g=u=>{const y=Math.floor(u/3600),v=Math.floor(u%3600/60);return`${y}h ${v}m`},h=u=>new Date(u).toLocaleDateString();return a?i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-red-900 to-black text-white flex items-center justify-center",children:i.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 max-w-4xl w-full mx-4 border-2 border-red-600",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-3xl font-bold text-red-400",children:"Load Game"}),i.jsx("button",{onClick:()=>s(!1),className:"text-gray-400 hover:text-white",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.map((u,y)=>i.jsxs("div",{className:`
                  p-4 rounded-lg border-2 transition-all cursor-pointer
                  ${u?"bg-gray-700 border-gray-600 hover:border-red-400 hover:bg-gray-600":"bg-gray-900 border-gray-800 opacity-50 cursor-not-allowed"}
                `,onClick:()=>u&&t(y),children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("h3",{className:"text-lg font-bold",children:["Slot ",y+1]}),u&&i.jsx("span",{className:"text-sm text-gray-400",children:h(u.timestamp)})]}),u?i.jsxs("div",{className:"space-y-1",children:[i.jsx("div",{className:"text-yellow-400 font-semibold",children:u.playerName}),i.jsxs("div",{className:"text-sm text-gray-300",children:["Level ",u.level]}),i.jsxs("div",{className:"text-sm text-gray-400",children:["Playtime: ",g(u.playtime)]})]}):i.jsx("div",{className:"text-gray-500",children:"Empty Slot"})]},y))})]})}):l?i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-red-900 to-black text-white flex items-center justify-center",children:i.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 max-w-4xl w-full mx-4 border-2 border-red-600",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-3xl font-bold text-red-400",children:"Achievements"}),i.jsx("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-white",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"text-center text-gray-400",children:[i.jsx(To,{className:"w-16 h-16 mx-auto mb-4"}),i.jsx("p",{children:"Start a new game to unlock achievements!"})]})]})}):o?i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-red-900 to-black text-white flex items-center justify-center",children:i.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 max-w-2xl w-full mx-4 border-2 border-red-600",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-3xl font-bold text-red-400",children:"Credits"}),i.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-white",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"space-y-6 text-center",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-yellow-400 mb-2",children:"Wasteland Survivors"}),i.jsx("p",{className:"text-gray-300",children:"A Post-Apocalyptic RPG Experience"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-red-400 mb-2",children:"Game Design & Development"}),i.jsx("p",{className:"text-gray-300",children:"Built with React, TypeScript, and HTML5 Canvas"})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-semibold text-red-400 mb-2",children:"Features"}),i.jsxs("ul",{className:"text-gray-300 space-y-1",children:[i.jsx("li",{children:" Real-time character movement with arrow keys"}),i.jsx("li",{children:" Turn-based tactical combat system"}),i.jsx("li",{children:" Character progression and skill trees"}),i.jsx("li",{children:" Save/Load system with multiple slots"}),i.jsx("li",{children:" Dynamic weather and day/night cycle"}),i.jsx("li",{children:" Achievement system"}),i.jsx("li",{children:" Quest system with objectives"})]})]}),i.jsx("div",{className:"text-sm text-gray-500",children:"Version 1.0.0 - Built for production"})]})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-red-900 to-black text-white flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"mb-12",children:[i.jsx("h1",{className:"text-6xl font-bold text-red-400 mb-4 tracking-wider",children:"WASTELAND"}),i.jsx("h2",{className:"text-3xl font-bold text-yellow-400 tracking-widest",children:"SURVIVORS"}),i.jsx("p",{className:"text-gray-300 mt-4 text-lg",children:"A Post-Apocalyptic RPG Experience"})]}),i.jsxs("div",{className:"space-y-4 max-w-md mx-auto",children:[i.jsxs("button",{onClick:e,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-4 px-8 rounded-lg transition-all duration-200 flex items-center justify-center gap-3 text-lg",children:[i.jsx(om,{className:"w-6 h-6"}),"New Game"]}),i.jsxs("button",{onClick:()=>s(!0),className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 px-8 rounded-lg transition-all duration-200 flex items-center justify-center gap-3 text-lg",children:[i.jsx(Yd,{className:"w-6 h-6"}),"Load Game"]}),i.jsxs("button",{onClick:n,className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 px-8 rounded-lg transition-all duration-200 flex items-center justify-center gap-3 text-lg",children:[i.jsx(ys,{className:"w-6 h-6"}),"Settings"]}),i.jsxs("button",{onClick:()=>c(!0),className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 px-8 rounded-lg transition-all duration-200 flex items-center justify-center gap-3 text-lg",children:[i.jsx(To,{className:"w-6 h-6"}),"Achievements"]}),i.jsxs("button",{onClick:()=>d(!0),className:"w-full bg-gray-700 hover:bg-gray-600 text-white font-bold py-4 px-8 rounded-lg transition-all duration-200 flex items-center justify-center gap-3 text-lg",children:[i.jsx(nm,{className:"w-6 h-6"}),"Credits"]})]}),i.jsx("div",{className:"mt-12 text-gray-500 text-sm",children:"Use arrow keys or WASD to move  Space to interact  I for inventory"})]})})},gm=({onCreateCharacter:e,onBack:t})=>{var h;const[n,r]=I.useState("basic");I.useEffect(()=>{const u=y=>{y.key!=="Escape"&&y.stopPropagation()};return document.addEventListener("keydown",u,!0),()=>document.removeEventListener("keydown",u,!0)},[]);const[a,s]=I.useState({name:"",age:25,gender:"male",class:"warrior",background:"vault_dweller",stats:{strength:5,agility:5,intelligence:5,endurance:5,luck:5,perception:5,charisma:5},traits:[],biography:"",availablePoints:15}),l=u=>{switch(u){case"warrior":return i.jsx(Xt,{className:"w-8 h-8"});case"ranger":return i.jsx(Pi,{className:"w-8 h-8"});case"medic":return i.jsx(Pt,{className:"w-8 h-8"});case"engineer":return i.jsx(xs,{className:"w-8 h-8"})}},c=(u,y)=>{const v=a.stats[u]+y;if(v>=1&&v<=10){const C=y;a.availablePoints-C>=0&&s(m=>({...m,stats:{...m.stats,[u]:v},availablePoints:m.availablePoints-C}))}},o=u=>{s(y=>({...y,traits:y.traits.includes(u)?y.traits.filter(v=>v!==u):y.traits.length<2?[...y.traits,u]:y.traits}))},d=()=>{switch(n){case"basic":return a.name.trim().length>0;case"background":return!0;case"stats":return a.availablePoints===0;case"traits":return!0;case"confirm":return!0;default:return!1}},p=()=>{const u=["basic","background","stats","traits","confirm"],y=u.indexOf(n);y<u.length-1?r(u[y+1]):e(a)},g=()=>{const u=["basic","background","stats","traits","confirm"],y=u.indexOf(n);y>0?r(u[y-1]):t()};return i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-900 via-red-900 to-black text-white flex items-center justify-center",children:i.jsxs("div",{className:"bg-gray-800 rounded-lg p-8 max-w-6xl w-full mx-4 border-2 border-red-600",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-4xl font-bold text-red-400 mb-2",children:"Create Your Survivor"}),i.jsxs("p",{className:"text-gray-300",children:["Step ",["basic","background","stats","traits","confirm"].indexOf(n)+1," of 5"]})]}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mb-8",children:i.jsx("div",{className:"bg-red-600 h-2 rounded-full transition-all duration-300",style:{width:`${(["basic","background","stats","traits","confirm"].indexOf(n)+1)/5*100}%`}})}),n==="basic"&&i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("h3",{className:"text-2xl font-bold text-yellow-400 mb-6 text-center flex items-center justify-center gap-2",children:[i.jsx(qi,{className:"w-6 h-6"}),"Basic Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),i.jsx("input",{type:"text",value:a.name,onChange:u=>s(y=>({...y,name:u.target.value})),placeholder:"Enter your name...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-red-400 focus:outline-none",maxLength:20})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Age"}),i.jsx("input",{type:"number",value:a.age,onChange:u=>s(y=>({...y,age:parseInt(u.target.value)||25})),min:"16",max:"80",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-red-400 focus:outline-none"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Gender"}),i.jsxs("select",{value:a.gender,onChange:u=>s(y=>({...y,gender:u.target.value})),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white focus:border-red-400 focus:outline-none",children:[i.jsx("option",{value:"male",children:"Male"}),i.jsx("option",{value:"female",children:"Female"}),i.jsx("option",{value:"other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Class"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(fs).map(([u,y])=>i.jsxs("button",{onClick:()=>s(v=>({...v,class:u})),className:`
                        p-3 rounded-lg border-2 transition-all flex items-center gap-2
                        ${a.class===u?"border-red-400 bg-red-900/30":"border-gray-600 bg-gray-700 hover:border-red-400"}
                      `,children:[l(u),i.jsx("span",{className:"text-sm font-bold",children:y.name})]},u))})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Biography (Optional)"}),i.jsx("textarea",{value:a.biography,onChange:u=>s(y=>({...y,biography:u.target.value})),placeholder:"Tell us about your character's background...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white placeholder-gray-400 focus:border-red-400 focus:outline-none h-24 resize-none",maxLength:500})]})]}),n==="background"&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-bold text-yellow-400 mb-6 text-center flex items-center justify-center gap-2",children:[i.jsx(Kp,{className:"w-6 h-6"}),"Choose Your Background"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:So.map(u=>i.jsxs("div",{className:`
                    p-6 rounded-lg border-2 cursor-pointer transition-all
                    ${a.background===u.id?"border-red-400 bg-red-900/30":"border-gray-600 bg-gray-700 hover:border-red-400"}
                  `,onClick:()=>s(y=>({...y,background:u.id})),children:[i.jsx("h4",{className:"text-xl font-bold text-yellow-400 mb-2",children:u.name}),i.jsx("p",{className:"text-gray-300 mb-4",children:u.description}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-green-400 font-semibold",children:"Bonuses: "}),Object.entries(u.bonuses).map(([y,v])=>i.jsxs("span",{className:"text-green-400",children:["+",v," ",y," "]},y))]}),Object.keys(u.penalties).length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"text-red-400 font-semibold",children:"Penalties: "}),Object.entries(u.penalties).map(([y,v])=>i.jsxs("span",{className:"text-red-400",children:[v," ",y," "]},y))]})]})]},u.id))})]}),n==="stats"&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-bold text-yellow-400 mb-6 text-center flex items-center justify-center gap-2",children:[i.jsx(Jp,{className:"w-6 h-6"}),"Distribute Attribute Points"]}),i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("span",{className:"text-lg font-bold",children:"Available Points: "}),i.jsx("span",{className:"text-2xl font-bold text-yellow-400",children:a.availablePoints})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:Object.entries(a.stats).map(([u,y])=>i.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-bold capitalize",children:u}),i.jsx("span",{className:"text-xl font-bold text-yellow-400",children:y})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>c(u,-1),disabled:y<=1,className:"bg-red-600 hover:bg-red-700 disabled:bg-gray-600 disabled:cursor-not-allowed w-8 h-8 rounded flex items-center justify-center",children:"-"}),i.jsx("div",{className:"flex-1 bg-gray-600 rounded-full h-4",children:i.jsx("div",{className:"bg-gradient-to-r from-red-500 to-yellow-500 h-4 rounded-full transition-all",style:{width:`${y/10*100}%`}})}),i.jsx("button",{onClick:()=>c(u,1),disabled:y>=10||a.availablePoints<=0,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed w-8 h-8 rounded flex items-center justify-center",children:"+"})]})]},u))})]}),n==="traits"&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-2xl font-bold text-yellow-400 mb-6 text-center flex items-center justify-center gap-2",children:[i.jsx(dt,{className:"w-6 h-6"}),"Choose Traits (Optional - Max 2)"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Co.map(u=>i.jsxs("div",{className:`
                    p-4 rounded-lg border-2 cursor-pointer transition-all
                    ${a.traits.includes(u.id)?"border-yellow-400 bg-yellow-900/30":"border-gray-600 bg-gray-700 hover:border-yellow-400"}
                    ${a.traits.length>=2&&!a.traits.includes(u.id)?"opacity-50 cursor-not-allowed":""}
                  `,onClick:()=>o(u.id),children:[i.jsx("h4",{className:"text-lg font-bold text-yellow-400 mb-2",children:u.name}),i.jsx("p",{className:"text-gray-300 mb-3",children:u.description}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"text-green-400 text-sm",children:[i.jsx("span",{className:"font-semibold",children:"Bonus: "}),u.bonus]}),i.jsxs("div",{className:"text-red-400 text-sm",children:[i.jsx("span",{className:"font-semibold",children:"Penalty: "}),u.penalty]})]})]},u.id))}),i.jsxs("div",{className:"text-center mt-6 text-gray-400",children:["Selected: ",a.traits.length,"/2"]})]}),n==="confirm"&&i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsx("h3",{className:"text-2xl font-bold text-yellow-400 mb-6 text-center",children:"Confirm Your Character"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6",children:[i.jsx("h4",{className:"text-xl font-bold mb-4",children:"Character Details"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Name:"})," ",a.name]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Age:"})," ",a.age]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Gender:"})," ",a.gender]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Class:"})," ",fs[a.class].name]}),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold",children:"Background:"})," ",(h=So.find(u=>u.id===a.background))==null?void 0:h.name]})]}),a.biography&&i.jsxs("div",{className:"mt-4",children:[i.jsx("span",{className:"font-semibold",children:"Biography:"}),i.jsx("p",{className:"text-gray-300 mt-1",children:a.biography})]})]}),i.jsxs("div",{className:"bg-gray-700 rounded-lg p-6",children:[i.jsx("h4",{className:"text-xl font-bold mb-4",children:"Attributes"}),i.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(a.stats).map(([u,y])=>i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{className:"capitalize",children:[u,":"]}),i.jsx("span",{className:"font-bold text-yellow-400",children:y})]},u))}),a.traits.length>0&&i.jsxs("div",{className:"mt-4",children:[i.jsx("h5",{className:"font-semibold mb-2",children:"Traits:"}),a.traits.map(u=>{const y=Co.find(v=>v.id===u);return y?i.jsxs("div",{className:"text-sm text-yellow-400",children:[" ",y.name]},u):null})]})]})]})]}),i.jsxs("div",{className:"flex justify-between mt-8",children:[i.jsxs("button",{onClick:g,className:"bg-gray-600 hover:bg-gray-500 text-white font-bold py-3 px-6 rounded-lg transition-all duration-200 flex items-center gap-2",children:[i.jsx(Vd,{className:"w-4 h-4"}),"Back"]}),i.jsxs("button",{onClick:p,disabled:!d(),className:`
              font-bold py-3 px-6 rounded-lg transition-all duration-200 flex items-center gap-2
              ${d()?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed"}
            `,children:[n==="confirm"?"Create Character":"Next",i.jsx(Ud,{className:"w-4 h-4"})]})]})]})})};class ym{constructor(t,n){this.keys={},this.lastTime=0,this.animationId=null,this.isInputActive=!1,this.canvas=t,this.ctx=t.getContext("2d"),this.gameState={...n},this.canvas.width=800,this.canvas.height=600,this.setupEventListeners(),this.startGameLoop()}setStateChangeCallback(t){this.stateChangeCallback=t}setLootableCallback(t){this.lootableCallback=t}setGameState(t){this.gameState={...t}}getGameState(){return{...this.gameState}}setupEventListeners(){window.addEventListener("keydown",t=>{this.shouldIgnoreHotkeys()||(this.keys[t.key.toLowerCase()]=!0,this.handleKeyPress(t.key.toLowerCase()))}),window.addEventListener("keyup",t=>{this.shouldIgnoreHotkeys()||(this.keys[t.key.toLowerCase()]=!1)}),this.canvas.addEventListener("click",t=>{this.handleCanvasClick(t)}),document.addEventListener("focusin",t=>{const n=t.target;(n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.contentEditable==="true")&&(this.isInputActive=!0)}),document.addEventListener("focusout",t=>{const n=t.target;(n.tagName==="INPUT"||n.tagName==="TEXTAREA"||n.contentEditable==="true")&&(this.isInputActive=!1)})}shouldIgnoreHotkeys(){var r;if(this.isInputActive)return!0;const t=this.gameState.gameMode;return!!(["inventory","equipment","character","quests","map","dialogue","combat"].includes(t)||(r=this.gameState.devMode)!=null&&r.enabled)}handleKeyPress(t){if(!(!["escape","f1"].includes(t)&&this.shouldIgnoreHotkeys()))switch(t){case"escape":this.handleEscapeKey();break;case"f1":this.toggleDevMode();break;case"i":this.gameState.gameMode="inventory",this.notifyStateChange();break;case"e":this.gameState.gameMode="equipment",this.notifyStateChange();break;case"c":this.gameState.gameMode="character",this.notifyStateChange();break;case"q":this.gameState.gameMode="quests",this.notifyStateChange();break;case"m":this.gameState.gameMode="map",this.notifyStateChange();break;case" ":case"f":this.handleInteraction();break}}handleEscapeKey(){var t;(t=this.gameState.devMode)!=null&&t.enabled?(this.gameState.devMode.enabled=!1,this.notifyStateChange()):this.gameState.gameMode!=="exploration"&&(this.gameState.gameMode="exploration",this.notifyStateChange())}handleCanvasClick(t){const n=this.canvas.getBoundingClientRect(),r=t.clientX-n.left,a=t.clientY-n.top,s=r+this.gameState.camera.x,l=a+this.gameState.camera.y;this.checkInteractionAt(s,l)}checkInteractionAt(t,n){var l;const r=Math.floor(t/32),a=Math.floor(n/32),s=(l=this.gameState.currentMap.tiles[a])==null?void 0:l[r];if(s!=null&&s.isEntrance&&(s.buildingType||s.regionType)){s.buildingType?this.enterBuilding(s.buildingType,s.buildingName):s.regionType&&this.enterRegion(s.regionType,s.regionName);return}for(const c of this.gameState.currentMap.npcs)if(Math.sqrt(Math.pow(t-c.position.x,2)+Math.pow(n-c.position.y,2))<32){this.startDialogue(c.id);return}for(const c of this.gameState.currentMap.enemies)if(Math.sqrt(Math.pow(t-c.position.x,2)+Math.pow(n-c.position.y,2))<32){this.startCombat([c]);return}for(const c of this.gameState.currentMap.lootables)if(Math.sqrt(Math.pow(t-c.position.x,2)+Math.pow(n-c.position.y,2))<32&&!c.looted){this.lootableCallback&&this.lootableCallback(c);return}}enterBuilding(t,n){const r=this.createInteriorMap(t);this.gameState.previousMap={map:this.gameState.currentMap,position:{...this.gameState.player.position}},this.gameState.currentMap=r;const a=this.findSafeSpawnPosition(r);this.gameState.player.position=a,this.updateCamera(),this.updateVisibility(),this.notifyStateChange()}enterRegion(t,n){const r=this.createRegionMap(t);this.gameState.previousMap={map:this.gameState.currentMap,position:{...this.gameState.player.position}},this.gameState.currentMap=r;const a=this.findSafeSpawnPosition(r);this.gameState.player.position=a,this.updateCamera(),this.updateVisibility(),this.notifyStateChange()}findSafeSpawnPosition(t){const n=Math.floor(t.width/2),r=t.height-3;for(let a=0;a<10;a++)for(let s=-a;s<=a;s++)for(let l=-a;l<=a;l++){const c=n+l,o=r+s;if(c>=0&&c<t.width&&o>=0&&o<t.height&&t.tiles[o][c].walkable&&this.isPositionSafe(t,c,o))return{x:c*32+16,y:o*32+16}}return{x:n*32+16,y:(r+1)*32+16}}isPositionSafe(t,n,r){for(let l=-1;l<=1;l++)for(let c=-1;c<=1;c++){const o=n+c,d=r+l;if(o>=0&&o<t.width&&d>=0&&d<t.height&&!t.tiles[d][o].walkable)return!1}const a=n*32+16,s=r*32+16;for(const l of t.enemies)if(Math.sqrt(Math.pow(a-l.position.x,2)+Math.pow(s-l.position.y,2))<64)return!1;return!0}createInteriorMap(t){const a=[];for(let o=0;o<10;o++){const d=[];for(let p=0;p<15;p++){let g="building",h=!0,u=!1;(p===0||p===14||o===0||o===9)&&(h=!1),p>=Math.floor(15/2)-1&&p<=Math.floor(15/2)+1&&o>=8&&(h=!0,u=!0,g="grass"),p>=Math.floor(15/2)-2&&p<=Math.floor(15/2)+2&&o>=5&&o<=7&&(h=!0),d.push({x:p,y:o,type:g,walkable:h,sprite:g,discovered:!0,visible:!0,description:u?"Exit to outside":"Interior floor",isExit:u})}a.push(d)}const s=[],l=[],c=[];return t==="clinic"?l.push({id:"clinic_supplies",position:{x:5*32,y:3*32},items:[{...b.find(o=>o.id==="stimpak"),quantity:2},b.find(o=>o.id==="rad_away")],type:"container",sprite:"medical_cabinet",discovered:!0,looted:!1}):t==="workshop"?l.push({id:"workshop_supplies",position:{x:8*32,y:4*32},items:[{...b.find(o=>o.id==="scrap_metal"),quantity:5},{...b.find(o=>o.id==="electronics"),quantity:2}],type:"container",sprite:"toolbox",discovered:!0,looted:!1}):t==="tech_facility"&&(c.push({...an.find(o=>o.id==="robot"),id:"facility_robot_1",position:{x:6*32,y:3*32}}),l.push({id:"tech_loot",position:{x:10*32,y:2*32},items:[b.find(o=>o.id==="plasma_rifle"),{...b.find(o=>o.id==="electronics"),quantity:3}],type:"container",sprite:"tech_cache",discovered:!0,looted:!1})),{width:15,height:10,tiles:a,name:`${t} Interior`,bgMusic:"interior_ambient",npcs:s,enemies:c,lootables:l,isInterior:!0}}createRegionMap(t){let n=50,r=50,a=[];for(let p=0;p<r;p++){const g=[];for(let h=0;h<n;h++){let u="grass",y=!0,v="Unknown terrain",C=!1;if((t==="cave"||t==="tunnel")&&(h===0||h===n-1||p===0||p===r-1))u="stone",y=!1,v="Rock wall";else{const m=Math.random();switch(t){case"cave":u=m<.1?"water":m<.3?"stone":"dirt",v=u==="water"?"Underground pool":u==="stone"?"Cave wall":"Cave floor",u==="stone"&&(y=!1);break;case"tunnel":u=m<.05?"stone":"dirt",v=u==="stone"?"Tunnel wall":"Tunnel floor",u==="stone"&&(y=!1);break;case"forest":u=m<.2?"ruins":m<.1?"water":"grass",v=u==="ruins"?"Overgrown ruins":u==="water"?"Forest stream":"Forest floor",u==="water"&&(y=!1);break;case"desert":u=m<.1?"stone":m<.05?"ruins":"sand",v=u==="stone"?"Desert rock":u==="ruins"?"Desert ruins":"Desert sand",u==="stone"&&(y=!1);break;case"swamp":u=m<.4?"water":m<.2?"ruins":"grass",v=u==="water"?"Swamp water":u==="ruins"?"Sunken ruins":"Swamp ground",u==="water"&&(y=!1);break}}h>=Math.floor(n/2)-2&&h<=Math.floor(n/2)+2&&p>=r-3&&(y=!0,C=!0,u=t==="cave"||t==="tunnel"?"dirt":u,v="Exit to wasteland"),h>=Math.floor(n/2)-3&&h<=Math.floor(n/2)+3&&p>=r-8&&p<=r-4&&(y=!0,t==="cave"||t==="tunnel"?u="dirt":t==="desert"?u="sand":u="grass"),g.push({x:h,y:p,type:u,walkable:y,sprite:u,discovered:!0,visible:!0,description:v,isExit:C})}a.push(g)}const s=[],l=[],c=[],o=Math.floor(Math.random()*8)+3;for(let p=0;p<o;p++){let g,h,u=0;do g=Math.floor(Math.random()*(n-4))+2,h=Math.floor(Math.random()*(r-4))+2,u++;while(u<20&&this.isInSpawnArea(g,h,n,r));if(a[h][g].walkable){let y;switch(t){case"cave":case"tunnel":y=an[Math.random()<.6?1:2];break;case"forest":case"swamp":y=an[Math.random()<.7?0:1];break;case"desert":y=an[Math.random()<.5?0:3];break;default:y=an[Math.floor(Math.random()*an.length)]}c.push({...y,id:`${y.id}_${t}_${p}`,position:{x:g*32+16,y:h*32+16}})}}const d=Math.floor(Math.random()*6)+2;for(let p=0;p<d;p++){let g,h,u=0;do g=Math.floor(Math.random()*(n-4))+2,h=Math.floor(Math.random()*(r-4))+2,u++;while(u<20&&this.isInSpawnArea(g,h,n,r));if(a[h][g].walkable){const y=Math.random()<.4?"corpse":"container",v=[],C=Math.floor(Math.random()*3)+1;for(let m=0;m<C;m++){const f=b[Math.floor(Math.random()*b.length)];v.push({...f,quantity:f.stackable?Math.floor(Math.random()*3)+1:1})}l.push({id:`${t}_loot_${p}`,position:{x:g*32+16,y:h*32+16},items:v,type:y,sprite:y,discovered:!0,looted:!1})}}return{width:n,height:r,tiles:a,name:`${t.charAt(0).toUpperCase()+t.slice(1)} Region`,bgMusic:`${t}_ambient`,npcs:s,enemies:c,lootables:l,isInterior:!0}}isInSpawnArea(t,n,r,a){const s=Math.floor(r/2),l=a-6;return Math.abs(t-s)<=4&&Math.abs(n-l)<=3}handleInteraction(){var s,l;const t=this.gameState.player.position;if(this.gameState.currentMap.isInterior){for(let o=-1;o<=1;o++)for(let d=-1;d<=1;d++){const p=Math.floor((t.x+d*16)/32),g=Math.floor((t.y+o*16)/32),h=(s=this.gameState.currentMap.tiles[g])==null?void 0:s[p];if(h!=null&&h.isExit&&this.gameState.previousMap){this.gameState.currentMap=this.gameState.previousMap.map,this.gameState.player.position=this.gameState.previousMap.position,this.gameState.previousMap=void 0,this.updateCamera(),this.updateVisibility(),this.notifyStateChange();return}}if(Math.floor(t.y/32)>=this.gameState.currentMap.height-2&&this.gameState.previousMap){this.gameState.currentMap=this.gameState.previousMap.map,this.gameState.player.position=this.gameState.previousMap.position,this.gameState.previousMap=void 0,this.updateCamera(),this.updateVisibility(),this.notifyStateChange();return}}const n=Math.floor(t.x/32),r=Math.floor(t.y/32),a=(l=this.gameState.currentMap.tiles[r])==null?void 0:l[n];if(a!=null&&a.isEntrance&&(a.buildingType||a.regionType)){a.buildingType?this.enterBuilding(a.buildingType,a.buildingName):a.regionType&&this.enterRegion(a.regionType,a.regionName);return}for(const c of this.gameState.currentMap.npcs)if(Math.sqrt(Math.pow(t.x-c.position.x,2)+Math.pow(t.y-c.position.y,2))<64){this.startDialogue(c.id),this.updateQuestProgress("first_steps","talk_to_npc");return}for(const c of this.gameState.currentMap.enemies)if(Math.sqrt(Math.pow(t.x-c.position.x,2)+Math.pow(t.y-c.position.y,2))<64){this.startCombat([c]);return}for(const c of this.gameState.currentMap.lootables)if(Math.sqrt(Math.pow(t.x-c.position.x,2)+Math.pow(t.y-c.position.y,2))<64&&!c.looted){this.lootableCallback&&(this.lootableCallback(c),this.updateQuestProgress("first_steps","collect_items"));return}}startDialogue(t){const n=this.gameState.currentMap.npcs.find(r=>r.id===t);!n||n.dialogue.length===0||(this.gameState.dialogue={npcId:t,currentNode:n.dialogue[0].id,history:[`${n.name}: ${n.dialogue[0].text}`],choices:n.dialogue[0].choices},this.gameState.gameMode="dialogue",this.notifyStateChange())}updateQuestProgress(t,n,r=1){const a=this.gameState.quests.find(s=>s.id===t);if(a&&a.status==="active"){const s=a.objectives.find(l=>l.id===n);s&&!s.completed&&(s.current=Math.min(s.current+r,s.required),s.current>=s.required&&(s.completed=!0),this.notifyStateChange())}}startCombat(t){const n=[this.gameState.player,...t],r=[...n].sort((s,l)=>{const c="stats"in s?s.stats.agility:10;return("stats"in l?l.stats.agility:10)-c}),a=[];for(let s=0;s<8;s++){const l=[];for(let c=0;c<8;c++)l.push({x:c,y:s,type:"grass",walkable:!0,sprite:"grass",discovered:!0,visible:!0});a.push(l)}this.gameState.combat={participants:n,turnOrder:r,currentTurn:0,round:1,selectedAction:"",selectedTargets:[],animations:[],battleground:a,weather:"clear",timeOfDay:"day",isPlayerTurn:r[0]===this.gameState.player,combatLog:["Combat begins!"]},this.gameState.gameMode="combat",this.notifyStateChange(),this.gameState.combat.isPlayerTurn||setTimeout(()=>this.processEnemyTurn(),1e3)}handleCombatAction(t,n){if(!this.gameState.combat||!this.gameState.combat.isPlayerTurn)return;const r=this.gameState.combat.turnOrder[this.gameState.combat.currentTurn];if(t.startsWith("use_")){const s=t.replace("use_","");this.useItemInCombat(r,s,n),this.nextTurn();return}const a=r.skills.find(s=>s.id===t);if(!(!a||r.energy<a.energyCost)){if(n!==void 0&&n>=0){const s=this.gameState.combat.participants[n];this.executeSkill(r,a,s)}this.nextTurn()}}useItemInCombat(t,n,r){const a=this.gameState.inventory.find(o=>o.id===n);if(!a||a.type!=="consumable")return;let s=t;r!==void 0&&r>=0&&(s=this.gameState.combat.participants[r]);let l=`${t.name} uses ${a.name}`;switch(n){case"stimpak":const d=s.health;s.health=Math.min(s.maxHealth,s.health+50);const p=s.health-d;l+=` healing ${s.name} for ${p} HP`;break;case"rad_away":s.radiation=Math.max(0,s.radiation-100),l+=` reducing ${s.name}'s radiation`;break;case"psycho":s.statusEffects.push({type:"damage_boost",duration:5,value:25,source:"Psycho"}),l+=` boosting ${s.name}'s damage`;break;case"buffout":s.statusEffects.push({type:"stat_boost",duration:5,value:3,source:"Buffout"}),l+=` boosting ${s.name}'s strength`;break;case"mentats":s.statusEffects.push({type:"intelligence_boost",duration:5,value:3,source:"Mentats"}),l+=` boosting ${s.name}'s intelligence`;break}const c=this.gameState.inventory.findIndex(o=>o.id===n);if(c>=0){const o=this.gameState.inventory[c];o.quantity&&o.quantity>1?o.quantity--:this.gameState.inventory.splice(c,1)}this.gameState.combat.combatLog.push(l),this.notifyStateChange()}executeSkill(t,n,r){var s,l;if(!this.gameState.combat)return;t.energy=Math.max(0,t.energy-n.energyCost);let a=`${t.name} uses ${n.name}`;if(n.damage){let c=n.damage;if("stats"in t){const d=t,p=Math.floor(d.stats.strength/2),g=((s=d.equipmentBonuses)==null?void 0:s.damage)||0,h=d.statusEffects.find(y=>y.type==="damage_boost"),u=h?1+h.value/100:1;c=Math.floor((c+p+g)*u)}let o=c;if("class"in r){const p=((l=r.equipmentBonuses)==null?void 0:l.defense)||0;o=Math.max(1,c-p)}if(r.health=Math.max(0,r.health-o),a+=` dealing ${o} damage to ${r.name}`,r.health<=0&&(a+=` - ${r.name} is defeated!`,!("class"in r))){const d=this.gameState.currentMap.enemies.findIndex(p=>p.id===r.id);if(d>=0){this.gameState.currentMap.enemies.splice(d,1);const p=r.type;p==="raider"&&this.updateQuestProgress("raider_threat","kill_raiders"),p==="robot"&&this.updateQuestProgress("water_chip_quest","defeat_security")}}}if(n.healing){const c=n.healing,o=r.health;r.health=Math.min(r.maxHealth,r.health+c);const d=r.health-o;a+=` healing ${r.name} for ${d} HP`}n.effect&&(r.statusEffects.push({type:n.effect.type,duration:n.effect.duration,value:n.effect.value,source:t.name}),a+=` applying ${n.effect.type}`),n.currentCooldown=n.cooldown,this.gameState.combat.combatLog.push(a),this.notifyStateChange()}processEnemyTurn(){if(!this.gameState.combat||this.gameState.combat.isPlayerTurn)return;const t=this.gameState.combat.turnOrder[this.gameState.combat.currentTurn];if(t.health<=0){this.nextTurn();return}const n=this.gameState.combat.participants.filter(s=>"class"in s&&s.health>0);if(n.length===0){this.endCombat(!1);return}const r=n[Math.floor(Math.random()*n.length)],a=t.skills.filter(s=>t.energy>=s.energyCost&&s.currentCooldown<=0);if(a.length>0){const s=a[Math.floor(Math.random()*a.length)];this.executeSkill(t,s,r)}else this.gameState.combat.combatLog.push(`${t.name} has no available actions`);setTimeout(()=>this.nextTurn(),1500)}nextTurn(){if(!this.gameState.combat)return;this.updateCombatEffects();const t=this.gameState.combat.participants.filter(s=>!("class"in s)&&s.health>0),n=this.gameState.combat.participants.filter(s=>"class"in s&&s.health>0);if(t.length===0){this.endCombat(!0);return}if(n.length===0){this.endCombat(!1);return}this.gameState.combat.currentTurn=(this.gameState.combat.currentTurn+1)%this.gameState.combat.turnOrder.length;let r=0;for(;this.gameState.combat.turnOrder[this.gameState.combat.currentTurn].health<=0&&r<10;)this.gameState.combat.currentTurn=(this.gameState.combat.currentTurn+1)%this.gameState.combat.turnOrder.length,r++;this.gameState.combat.currentTurn===0&&this.gameState.combat.round++;const a=this.gameState.combat.turnOrder[this.gameState.combat.currentTurn];this.gameState.combat.isPlayerTurn="class"in a,this.notifyStateChange(),this.gameState.combat.isPlayerTurn||setTimeout(()=>this.processEnemyTurn(),1e3)}updateCombatEffects(){if(this.gameState.combat)for(const t of this.gameState.combat.participants){for(const n of t.skills)n.currentCooldown>0&&(n.currentCooldown=Math.max(0,n.currentCooldown-1));t.statusEffects=t.statusEffects.filter(n=>(n.duration-=1,n.duration<=0?!1:(n.type==="poison"&&n.value>0&&(t.health=Math.max(0,t.health-n.value),this.gameState.combat.combatLog.push(`${t.name} takes ${n.value} poison damage`)),!0))),t.energy=Math.min(t.maxEnergy,t.energy+5)}}endCombat(t){if(this.gameState.combat){if(t){this.gameState.combat.combatLog.push("Victory! You have defeated your enemies!");let n=0;for(const r of this.gameState.combat.participants)"class"in r||(n+=r.experience);for(this.gameState.player.experience+=n,this.gameState.combat.combatLog.push(`Gained ${n} experience!`);this.gameState.player.experience>=this.gameState.player.experienceToNext;)this.gameState.player.experience-=this.gameState.player.experienceToNext,this.gameState.player.level++,this.gameState.player.experienceToNext=this.gameState.player.level*100,this.gameState.player.maxHealth+=10,this.gameState.player.maxEnergy+=5,this.gameState.combat.combatLog.push(`Level up! You are now level ${this.gameState.player.level}!`)}else this.gameState.combat.combatLog.push("Defeat! You have been overcome..."),this.gameState.player.health=0;setTimeout(()=>{this.gameState.combat=void 0,this.gameState.gameMode="exploration",this.notifyStateChange()},3e3)}}toggleDevMode(){this.gameState.devMode||(this.gameState.devMode={enabled:!1,selectedTool:"quest",questEditor:{id:"",title:"",description:"",objectives:[],rewards:[],requiredLevel:1},npcEditor:{id:"",name:"",type:"neutral",position:{x:400,y:400},dialogue:[],inventory:[],faction:"neutral",isHostile:!1},itemEditor:{id:"",name:"",type:"material",rarity:"common",description:"",stats:{},value:10,stackable:!1}}),this.gameState.devMode.enabled=!this.gameState.devMode.enabled,this.notifyStateChange()}updateMovement(t){if(this.gameState.gameMode!=="exploration"||this.shouldIgnoreHotkeys())return;const n=128,r=this.gameState.player;let a=!1;if(this.keys.arrowup||this.keys.w){const s=r.position.y-n*t;this.isValidPosition(r.position.x,s)&&(r.position.y=s,r.direction="up",a=!0)}if(this.keys.arrowdown||this.keys.s){const s=r.position.y+n*t;this.isValidPosition(r.position.x,s)&&(r.position.y=s,r.direction="down",a=!0)}if(this.keys.arrowleft||this.keys.a){const s=r.position.x-n*t;this.isValidPosition(s,r.position.y)&&(r.position.x=s,r.direction="left",a=!0)}if(this.keys.arrowright||this.keys.d){const s=r.position.x+n*t;this.isValidPosition(s,r.position.y)&&(r.position.x=s,r.direction="right",a=!0)}a&&(this.updateCamera(),this.updateVisibility())}isValidPosition(t,n){const r=Math.floor(t/32),a=Math.floor(n/32);return r<0||r>=this.gameState.currentMap.width||a<0||a>=this.gameState.currentMap.height?!1:this.gameState.currentMap.tiles[a][r].walkable}updateCamera(){const t=this.gameState.player;this.gameState.camera.x=t.position.x-this.canvas.width/2,this.gameState.camera.y=t.position.y-this.canvas.height/2;const n=this.gameState.currentMap.width*32,r=this.gameState.currentMap.height*32;this.gameState.camera.x=Math.max(0,Math.min(n-this.canvas.width,this.gameState.camera.x)),this.gameState.camera.y=Math.max(0,Math.min(r-this.canvas.height,this.gameState.camera.y))}updateVisibility(){const t=this.gameState.player,n=160;if(this.gameState.visibilityMap.length===0)for(let r=0;r<this.gameState.currentMap.height;r++)this.gameState.visibilityMap[r]=new Array(this.gameState.currentMap.width).fill(!1);for(let r=0;r<this.gameState.currentMap.height;r++)for(let a=0;a<this.gameState.currentMap.width;a++){const s=a*32+16,l=r*32+16;Math.sqrt(Math.pow(t.position.x-s,2)+Math.pow(t.position.y-l,2))<=n?(this.gameState.currentMap.tiles[r][a].discovered=!0,this.gameState.currentMap.tiles[r][a].visible=!0,this.gameState.visibilityMap[r][a]=!0):this.gameState.currentMap.tiles[r][a].visible=!1}}render(){if(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.gameState.gameMode!=="exploration"){this.ctx.fillStyle="#000000",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#ffffff",this.ctx.font="24px Arial",this.ctx.textAlign="center",this.ctx.fillText("Game View",this.canvas.width/2,this.canvas.height/2);return}this.renderMap(),this.renderEntities(),this.renderUI()}renderMap(){const t=this.gameState.camera,n=32,r=Math.floor(t.x/n),a=Math.floor(t.y/n),s=Math.min(this.gameState.currentMap.width,r+Math.ceil(this.canvas.width/n)+1),l=Math.min(this.gameState.currentMap.height,a+Math.ceil(this.canvas.height/n)+1);for(let c=Math.max(0,a);c<l;c++)for(let o=Math.max(0,r);o<s;o++){const d=this.gameState.currentMap.tiles[c][o];if(!d.discovered)continue;const p=o*n-t.x,g=c*n-t.y;let h="#4a7c59";switch(d.type){case"dirt":h="#8b4513";break;case"stone":h="#696969";break;case"water":h="#4682b4";break;case"ruins":h="#2f2f2f";break;case"building":h="#654321";break;case"sand":h="#f4a460";break}if(d.visible||(h=this.darkenColor(h,.5)),this.ctx.fillStyle=h,this.ctx.fillRect(p,g,n,n),this.ctx.strokeStyle="#333333",this.ctx.lineWidth=1,this.ctx.strokeRect(p,g,n,n),d.isEntrance){this.ctx.fillStyle="#ffff00",this.ctx.fillRect(p+8,g+8,16,16);const u=d.buildingName||d.regionName;u&&(this.ctx.fillStyle="#ffffff",this.ctx.font="10px Arial",this.ctx.textAlign="center",this.ctx.fillText(u,p+16,g-5))}d.isExit&&this.gameState.currentMap.isInterior&&(this.ctx.fillStyle="#00ff00",this.ctx.fillRect(p+4,g+4,24,24),this.ctx.fillStyle="#ffffff",this.ctx.font="10px Arial",this.ctx.textAlign="center",this.ctx.fillText("EXIT",p+16,g+18))}}renderEntities(){var s,l,c;const t=this.gameState.camera;for(const o of this.gameState.currentMap.lootables){if(o.looted)continue;const d=Math.floor(o.position.x/32),p=Math.floor(o.position.y/32),g=(s=this.gameState.currentMap.tiles[p])==null?void 0:s[d];if(!(g!=null&&g.discovered))continue;const h=o.position.x-t.x,u=o.position.y-t.y;this.ctx.fillStyle=o.type==="corpse"?"#8b0000":"#daa520",this.ctx.fillRect(h-8,u-8,16,16)}for(const o of this.gameState.currentMap.npcs){const d=Math.floor(o.position.x/32),p=Math.floor(o.position.y/32),g=(l=this.gameState.currentMap.tiles[p])==null?void 0:l[d];if(!(g!=null&&g.discovered))continue;const h=o.position.x-t.x,u=o.position.y-t.y;this.ctx.fillStyle=o.isHostile?"#ff4444":"#44ff44",this.ctx.beginPath(),this.ctx.arc(h,u,12,0,Math.PI*2),this.ctx.fill(),this.ctx.fillStyle="#ffffff",this.ctx.font="12px Arial",this.ctx.textAlign="center",this.ctx.fillText(o.name,h,u-20)}for(const o of this.gameState.currentMap.enemies){const d=Math.floor(o.position.x/32),p=Math.floor(o.position.y/32),g=(c=this.gameState.currentMap.tiles[p])==null?void 0:c[d];if(!(g!=null&&g.discovered))continue;const h=o.position.x-t.x,u=o.position.y-t.y;this.ctx.fillStyle="#ff0000",this.ctx.fillRect(h-10,u-10,20,20);const y=o.health/o.maxHealth;this.ctx.fillStyle="#000000",this.ctx.fillRect(h-12,u-18,24,4),this.ctx.fillStyle=y>.5?"#00ff00":y>.25?"#ffff00":"#ff0000",this.ctx.fillRect(h-12,u-18,24*y,4)}const n=this.gameState.player,r=n.position.x-t.x,a=n.position.y-t.y;switch(this.ctx.fillStyle="#0066ff",this.ctx.beginPath(),this.ctx.arc(r,a,14,0,Math.PI*2),this.ctx.fill(),this.ctx.fillStyle="#ffffff",this.ctx.beginPath(),n.direction){case"up":this.ctx.moveTo(r,a-8),this.ctx.lineTo(r-4,a+4),this.ctx.lineTo(r+4,a+4);break;case"down":this.ctx.moveTo(r,a+8),this.ctx.lineTo(r-4,a-4),this.ctx.lineTo(r+4,a-4);break;case"left":this.ctx.moveTo(r-8,a),this.ctx.lineTo(r+4,a-4),this.ctx.lineTo(r+4,a+4);break;case"right":this.ctx.moveTo(r+8,a),this.ctx.lineTo(r-4,a-4),this.ctx.lineTo(r-4,a+4);break}this.ctx.closePath(),this.ctx.fill()}renderUI(){const t=this.gameState.player,n=t.health/t.maxHealth;this.ctx.fillStyle="rgba(0, 0, 0, 0.7)",this.ctx.fillRect(10,10,200,30),this.ctx.fillStyle="#ff0000",this.ctx.fillRect(15,15,190*n,20),this.ctx.fillStyle="#ffffff",this.ctx.font="14px Arial",this.ctx.textAlign="left",this.ctx.fillText(`Health: ${t.health}/${t.maxHealth}`,20,30);const r=t.energy/t.maxEnergy;this.ctx.fillStyle="rgba(0, 0, 0, 0.7)",this.ctx.fillRect(10,50,200,30),this.ctx.fillStyle="#0066ff",this.ctx.fillRect(15,55,190*r,20),this.ctx.fillStyle="#ffffff",this.ctx.fillText(`Energy: ${Math.floor(t.energy)}/${t.maxEnergy}`,20,70),this.ctx.fillStyle="rgba(0, 0, 0, 0.7)",this.ctx.fillRect(10,90,200,30),this.ctx.fillStyle="#ffffff",this.ctx.fillText(`Level ${t.level} - ${t.experience}/${t.experienceToNext} XP`,20,110),this.ctx.fillStyle="rgba(0, 0, 0, 0.7)",this.ctx.fillRect(10,130,200,25),this.ctx.fillStyle="#ffff00",this.ctx.font="12px Arial",this.ctx.fillText(this.gameState.currentMap.name,15,147),this.gameState.currentMap.isInterior&&(this.ctx.fillStyle="rgba(0, 0, 0, 0.7)",this.ctx.fillRect(10,160,250,25),this.ctx.fillStyle="#00ff00",this.ctx.font="12px Arial",this.ctx.fillText("Press F or Space near green EXIT tiles to leave",15,177))}darkenColor(t,n){const r=t.replace("#",""),a=Math.floor(parseInt(r.substr(0,2),16)*n),s=Math.floor(parseInt(r.substr(2,2),16)*n),l=Math.floor(parseInt(r.substr(4,2),16)*n);return`rgb(${a}, ${s}, ${l})`}startGameLoop(){const t=n=>{const r=(n-this.lastTime)/1e3;this.lastTime=n,this.update(r),this.render(),this.animationId=requestAnimationFrame(t)};this.animationId=requestAnimationFrame(t)}update(t){this.updateMovement(t),this.gameState.gameTime+=t,this.gameState.statistics.playtime+=t,this.gameState.dayNightCycle=(this.gameState.dayNightCycle+t/1200)%1}notifyStateChange(){this.stateChangeCallback&&this.stateChangeCallback(this.getGameState())}destroy(){this.animationId&&cancelAnimationFrame(this.animationId),window.removeEventListener("keydown",this.handleKeyPress),window.removeEventListener("keyup",this.handleKeyPress)}}const xm=({gameState:e,onGameStateChange:t})=>{const n=I.useRef(null),r=I.useRef(null);return I.useEffect(()=>{if(n.current&&!r.current){r.current=new ym(n.current,e),r.current.setStateChangeCallback(t),r.current.setLootableCallback(s=>{const l=new CustomEvent("openLootable",{detail:s});window.dispatchEvent(l)});const a=setInterval(()=>{if(r.current){const s=r.current.getGameState();t(s)}},50);return()=>{clearInterval(a)}}},[t]),I.useEffect(()=>{r.current&&r.current.setGameState(e)},[e]),I.useEffect(()=>{r.current&&(window.gameEngine=r.current)},[]),i.jsx("div",{className:"flex justify-center items-center min-h-screen bg-black",children:i.jsx("canvas",{ref:n,className:"border-2 border-gray-600 rounded-lg shadow-2xl",style:{imageRendering:"pixelated"}})})},vm=({inventory:e,party:t,onUseItem:n,onEquipItem:r,onClose:a})=>{I.useEffect(()=>{const v=C=>{C.key==="Escape"||C.key.toLowerCase()==="i"?a():C.stopPropagation()};return document.addEventListener("keydown",v,!0),()=>document.removeEventListener("keydown",v,!0)},[a]);const[s,l]=I.useState("all"),[c,o]=I.useState(""),[d,p]=I.useState(null),g=v=>{switch(v){case"weapon":return i.jsx(Xt,{className:"w-5 h-5"});case"armor":return i.jsx(Cr,{className:"w-5 h-5"});case"consumable":return i.jsx(Pt,{className:"w-5 h-5"});case"material":return i.jsx(xs,{className:"w-5 h-5"});default:return i.jsx(Pe,{className:"w-5 h-5"})}},h=v=>{switch(v){case"common":return"border-gray-400 bg-gray-800";case"uncommon":return"border-green-400 bg-green-900";case"rare":return"border-blue-400 bg-blue-900";case"epic":return"border-purple-400 bg-purple-900";case"legendary":return"border-yellow-400 bg-yellow-900";default:return"border-gray-400 bg-gray-800"}},u=e.filter(v=>{const C=s==="all"||v.type===s,m=v.name.toLowerCase().includes(c.toLowerCase())||v.description.toLowerCase().includes(c.toLowerCase());return C&&m}),y=[{id:"all",name:"All",icon:i.jsx(Pe,{className:"w-4 h-4"})},{id:"weapon",name:"Weapons",icon:i.jsx(Xt,{className:"w-4 h-4"})},{id:"armor",name:"Armor",icon:i.jsx(Cr,{className:"w-4 h-4"})},{id:"consumable",name:"Consumables",icon:i.jsx(Pt,{className:"w-4 h-4"})},{id:"material",name:"Materials",icon:i.jsx(xs,{className:"w-4 h-4"})}];return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-3xl font-bold text-green-400",children:"Inventory"}),i.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 h-full",children:[i.jsxs("div",{className:"lg:col-span-1",children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"relative",children:[i.jsx(cm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),i.jsx("input",{type:"text",placeholder:"Search items...",value:c,onChange:v=>o(v.target.value),className:"w-full bg-gray-800 border border-gray-600 rounded-lg pl-10 pr-4 py-2 text-white placeholder-gray-400 focus:border-green-400 focus:outline-none"})]})}),i.jsx("div",{className:"space-y-2",children:y.map(v=>i.jsxs("button",{onClick:()=>l(v.id),className:`
                    w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all
                    ${s===v.id?"bg-green-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}
                  `,children:[v.icon,i.jsx("span",{children:v.name}),i.jsx("span",{className:"ml-auto text-sm",children:v.id==="all"?e.length:e.filter(C=>C.type===v.id).length})]},v.id))})]}),i.jsx("div",{className:"lg:col-span-2",children:i.jsx("div",{className:"grid grid-cols-4 gap-3 max-h-96 overflow-y-auto",children:u.map((v,C)=>i.jsx("div",{onClick:()=>p(v),className:`
                    relative p-3 rounded-lg border-2 cursor-pointer transition-all hover:scale-105
                    ${h(v.rarity)}
                    ${(d==null?void 0:d.id)===v.id?"ring-2 ring-green-400":""}
                  `,children:i.jsxs("div",{className:"flex flex-col items-center",children:[g(v.type),i.jsx("span",{className:"text-xs text-center mt-1 font-medium",children:v.name}),v.quantity&&v.quantity>1&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:v.quantity})]})},`${v.id}-${C}`))})}),i.jsx("div",{className:"lg:col-span-1",children:d?i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[g(d.type),i.jsx("h3",{className:"font-bold text-yellow-400",children:d.name})]}),i.jsx("div",{className:"mb-3",children:i.jsx("span",{className:`
                    px-2 py-1 rounded text-xs font-bold
                    ${d.rarity==="common"?"bg-gray-600":d.rarity==="uncommon"?"bg-green-600":d.rarity==="rare"?"bg-blue-600":d.rarity==="epic"?"bg-purple-600":"bg-yellow-600"}
                  `,children:d.rarity.toUpperCase()})}),i.jsx("p",{className:"text-sm text-gray-300 mb-4",children:d.description}),d.stats&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"font-semibold mb-2",children:"Stats:"}),i.jsxs("div",{className:"text-xs space-y-1",children:[d.stats.damage&&i.jsxs("div",{className:"text-red-400",children:["Damage: +",d.stats.damage]}),d.stats.defense&&i.jsxs("div",{className:"text-blue-400",children:["Defense: +",d.stats.defense]}),d.stats.strength&&i.jsxs("div",{className:"text-orange-400",children:["Strength: +",d.stats.strength]}),d.stats.agility&&i.jsxs("div",{className:"text-green-400",children:["Agility: +",d.stats.agility]}),d.stats.intelligence&&i.jsxs("div",{className:"text-purple-400",children:["Intelligence: +",d.stats.intelligence]}),d.stats.endurance&&i.jsxs("div",{className:"text-yellow-400",children:["Endurance: +",d.stats.endurance]})]})]}),i.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Value: ",d.value," caps"]}),i.jsxs("div",{className:"space-y-2",children:[d.type==="consumable"&&i.jsx("button",{onClick:()=>n(d),className:"w-full bg-green-600 hover:bg-green-700 px-3 py-2 rounded text-sm font-bold",children:"Use Item"}),(d.type==="weapon"||d.type==="armor")&&i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"Equip to:"}),t.map(v=>i.jsx("button",{onClick:()=>r(d,v.id),className:"w-full bg-blue-600 hover:bg-blue-700 px-3 py-1 rounded text-xs mb-1",children:v.name},v.id))]})]})]}):i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 text-center text-gray-400",children:[i.jsx(Pe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Select an item to view details"})]})})]})]})})},wm=({party:e,inventory:t,onEquipItem:n,onUnequipItem:r,onClose:a})=>{I.useEffect(()=>{const u=y=>{y.key==="Escape"||y.key.toLowerCase()==="e"?a():y.stopPropagation()};return document.addEventListener("keydown",u,!0),()=>document.removeEventListener("keydown",u,!0)},[a]);const[s,l]=I.useState(e[0]);xu.useEffect(()=>{const u=e.find(y=>y.id===(s==null?void 0:s.id));u&&l(u)},[e,s==null?void 0:s.id]);const c=u=>{switch(u){case"weapon":return i.jsx(Xt,{className:"w-6 h-6"});case"armor":return i.jsx(Cr,{className:"w-6 h-6"});case"helmet":return i.jsx(Xp,{className:"w-6 h-6"});case"boots":return i.jsx(rm,{className:"w-6 h-6"});case"accessory":return i.jsx(dt,{className:"w-6 h-6"});default:return null}},o=()=>[{id:"weapon",name:"Weapon",item:s.equipment.weapon},{id:"armor",name:"Armor",item:s.equipment.armor},{id:"helmet",name:"Helmet",item:s.equipment.helmet},{id:"boots",name:"Boots",item:s.equipment.boots},{id:"accessory",name:"Accessory",item:s.equipment.accessory}],d=u=>t.filter(y=>y.type===u),p=u=>{const y={...u.stats},v={damage:0,defense:0,strength:0,agility:0,intelligence:0,endurance:0,luck:0};return Object.values(u.equipment).forEach(C=>{C!=null&&C.stats&&Object.entries(C.stats).forEach(([m,f])=>{m in v&&(v[m]+=f||0)})}),{baseStats:y,equipmentBonuses:v}},{baseStats:g,equipmentBonuses:h}=p(s);return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-3xl font-bold text-blue-400",children:"Equipment"}),i.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"lg:col-span-1",children:[i.jsx("h3",{className:"text-lg font-bold mb-4",children:"Party Members"}),i.jsx("div",{className:"space-y-2",children:e.map(u=>i.jsxs("button",{onClick:()=>l(u),className:`
                    w-full p-3 rounded-lg text-left transition-all
                    ${s.id===u.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}
                  `,children:[i.jsx("div",{className:"font-bold",children:u.name}),i.jsxs("div",{className:"text-sm opacity-75",children:["Level ",u.level," ",u.class]})]},u.id))}),i.jsxs("div",{className:"mt-6 bg-gray-800 rounded-lg p-4",children:[i.jsx("h4",{className:"font-bold mb-3",children:"Stats"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Strength:"}),i.jsxs("span",{children:[g.strength,h.strength>0&&i.jsxs("span",{className:"text-green-400",children:[" (+",h.strength,")"]})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Agility:"}),i.jsxs("span",{children:[g.agility,h.agility>0&&i.jsxs("span",{className:"text-green-400",children:[" (+",h.agility,")"]})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Intelligence:"}),i.jsxs("span",{children:[g.intelligence,h.intelligence>0&&i.jsxs("span",{className:"text-green-400",children:[" (+",h.intelligence,")"]})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Endurance:"}),i.jsxs("span",{children:[g.endurance,h.endurance>0&&i.jsxs("span",{className:"text-green-400",children:[" (+",h.endurance,")"]})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Luck:"}),i.jsxs("span",{children:[g.luck,h.luck>0&&i.jsxs("span",{className:"text-green-400",children:[" (+",h.luck,")"]})]})]}),i.jsx("hr",{className:"border-gray-600"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Damage:"}),i.jsx("span",{className:"text-red-400",children:h.damage})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Defense:"}),i.jsx("span",{className:"text-blue-400",children:h.defense})]})]})]})]}),i.jsxs("div",{className:"lg:col-span-2",children:[i.jsx("h3",{className:"text-lg font-bold mb-4",children:"Equipment Slots"}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:o().map(u=>i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c(u.id),i.jsx("span",{className:"font-bold",children:u.name})]}),u.item?i.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[i.jsx("div",{className:"font-bold text-yellow-400 mb-1",children:u.item.name}),i.jsx("div",{className:"text-xs text-gray-400 mb-2",children:u.item.description}),u.item.stats&&i.jsx("div",{className:"text-xs space-y-1 mb-3",children:Object.entries(u.item.stats).map(([y,v])=>i.jsxs("div",{className:"text-green-400",children:[y,": +",v]},y))}),i.jsx("button",{onClick:()=>r(s.id,u.id),className:"w-full bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-xs font-bold",children:"Unequip"})]}):i.jsxs("div",{className:"bg-gray-700 rounded-lg p-3 text-center text-gray-500",children:[i.jsx("div",{className:"text-4xl mb-2",children:"+"}),i.jsx("div",{className:"text-xs",children:"Empty Slot"})]})]},u.id))})]}),i.jsxs("div",{className:"lg:col-span-1",children:[i.jsx("h3",{className:"text-lg font-bold mb-4",children:"Available Equipment"}),i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:["weapon","armor","helmet","boots","accessory"].map(u=>{const y=d(u);return y.length===0?null:i.jsxs("div",{children:[i.jsxs("h4",{className:"font-semibold mb-2 capitalize flex items-center gap-2",children:[c(u),u,"s"]}),i.jsx("div",{className:"space-y-2",children:y.map((v,C)=>i.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[i.jsx("div",{className:"font-bold text-yellow-400 text-sm mb-1",children:v.name}),i.jsx("div",{className:"text-xs text-gray-400 mb-2",children:v.description}),v.stats&&i.jsx("div",{className:"text-xs space-y-1 mb-3",children:Object.entries(v.stats).map(([m,f])=>i.jsxs("div",{className:"text-green-400",children:[m,": +",f]},m))}),i.jsx("button",{onClick:()=>n(s.id,v,u),className:"w-full bg-green-600 hover:bg-green-700 px-3 py-1 rounded text-xs font-bold transition-colors",children:"Equip"})]},`${v.id}-${C}`))})]},u)})})]})]})]})})},bm=({combatState:e,onAction:t,onEndCombat:n})=>{var me,Fe,Xe,Dt;I.useEffect(()=>{const _=$=>{["w","a","s","d","arrowup","arrowdown","arrowleft","arrowright","i","e","c","q","m","f"," "].includes($.key.toLowerCase())&&($.preventDefault(),$.stopPropagation()),$.key==="Escape"&&n()};return document.addEventListener("keydown",_,!0),()=>document.removeEventListener("keydown",_,!0)},[n]);const[r,a]=I.useState(""),[s,l]=I.useState(-1),[c,o]=I.useState([]),[d,p]=I.useState(!1),g=e.turnOrder[e.currentTurn],h=e.isPlayerTurn,u=(g==null?void 0:g.skills)||[],y=[{id:"stimpak",name:"Stimpak",description:"Restore 50 HP",energyCost:1},{id:"rad_away",name:"Rad-Away",description:"Remove radiation",energyCost:1},{id:"psycho",name:"Psycho",description:"Boost damage +25%",energyCost:1},{id:"buffout",name:"Buffout",description:"Boost strength +3",energyCost:1},{id:"mentats",name:"Mentats",description:"Boost intelligence +3",energyCost:1}];I.useEffect(()=>{if(e.combatLog.length>0){const _=e.combatLog[e.combatLog.length-1];o($=>[...$,_]),setTimeout(()=>{o($=>$.slice(1))},2e3)}},[e.combatLog]);const v=()=>{r&&s>=0&&(t(r,s),a(""),l(-1),p(!1))},C=_=>{const $=u.find(fe=>fe.id===_);$&&j($,g)&&(a(_),l(-1),p(!1))},m=_=>{a(`use_${_}`),l(-1),p(!1)},f=(_,$)=>Math.max(0,_/$*100),x=(_,$)=>Math.max(0,_/$*100),w=_=>"class"in _,j=(_,$)=>$.energy>=_.energyCost&&_.currentCooldown<=0,N=_=>_.healing||_.id==="heal"||_.id==="cure"||_.id==="stimpack"||_.id==="adrenaline_shot"?H:z,E=_=>H,T=_=>{if(!r)return!1;if(r.startsWith("use_")){const q=r.replace("use_",""),A=E(q),Q=e.participants[_];return A.includes(Q)&&Q.health>0}const $=u.find(q=>q.id===r);if(!$)return!1;const fe=N($),M=e.participants[_];return fe.includes(M)&&M.health>0},H=e.participants.filter(_=>w(_)),z=e.participants.filter(_=>!w(_));return i.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-red-900 via-gray-900 to-black text-white relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 opacity-20",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-red-600 to-transparent"}),i.jsx("div",{className:"absolute bottom-0 right-0 w-full h-full bg-gradient-to-tl from-orange-600 to-transparent"})]}),i.jsx("div",{className:"relative z-10 p-4",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h2",{className:"text-4xl font-bold text-red-400 mb-2",children:"TACTICAL COMBAT"}),i.jsxs("div",{className:"flex justify-center items-center gap-4 text-lg",children:[i.jsxs("span",{children:["Round ",e.round]}),i.jsx("span",{className:"text-yellow-400",children:h?`${g.name}'s Turn`:`${g.name}'s Turn`})]})]}),c.length>0&&i.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-50",children:i.jsx("div",{className:"bg-black bg-opacity-80 text-white px-6 py-3 rounded-lg text-xl font-bold animate-pulse border-2 border-yellow-400",children:c[0]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[i.jsxs("div",{className:"bg-gray-800 bg-opacity-80 rounded-lg p-6 border-2 border-blue-600",children:[i.jsxs("h3",{className:"text-2xl font-bold mb-4 text-blue-400 flex items-center gap-2",children:[i.jsx(Cr,{className:"w-6 h-6"}),"Your Party"]}),i.jsx("div",{className:"space-y-4",children:H.map((_,$)=>i.jsxs("div",{className:`
                      bg-gray-700 rounded-lg p-4 border-2 transition-all cursor-pointer
                      ${g===_?"border-blue-400 bg-blue-900 bg-opacity-30":"border-gray-600"}
                      ${r&&T($)?"hover:bg-gray-600 ring-2 ring-green-400":""}
                    `,onClick:()=>{r&&T($)&&l($)},children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-bold text-lg",children:_.name}),i.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["Lv.",_.level," ",_.class]})]}),g===_&&i.jsx("div",{className:"bg-blue-600 px-2 py-1 rounded text-xs font-bold animate-pulse",children:"ACTIVE"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pt,{className:"w-4 h-4 text-red-400"}),i.jsx("div",{className:"flex-1 bg-gray-600 rounded-full h-3",children:i.jsx("div",{className:"bg-red-500 h-3 rounded-full transition-all duration-500",style:{width:`${f(_.health,_.maxHealth)}%`}})}),i.jsxs("span",{className:"text-sm font-bold",children:[_.health,"/",_.maxHealth]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(pl,{className:"w-4 h-4 text-blue-400"}),i.jsx("div",{className:"flex-1 bg-gray-600 rounded-full h-3",children:i.jsx("div",{className:"bg-blue-500 h-3 rounded-full transition-all duration-500",style:{width:`${x(_.energy,_.maxEnergy)}%`}})}),i.jsxs("span",{className:"text-sm font-bold",children:[Math.floor(_.energy),"/",_.maxEnergy]})]})]}),_.statusEffects.length>0&&i.jsx("div",{className:"mt-2 flex gap-1 flex-wrap",children:_.statusEffects.map((fe,M)=>i.jsxs("span",{className:"bg-purple-600 px-2 py-1 rounded text-xs",children:[fe.type," (",Math.ceil(fe.duration),")"]},M))})]},_.id))})]}),i.jsxs("div",{className:"bg-gray-800 bg-opacity-80 rounded-lg p-6 border-2 border-red-600",children:[i.jsxs("h3",{className:"text-2xl font-bold mb-4 text-red-400 flex items-center gap-2",children:[i.jsx(Pi,{className:"w-6 h-6"}),"Enemies"]}),i.jsx("div",{className:"space-y-4",children:z.map((_,$)=>i.jsxs("div",{className:`
                      bg-gray-700 rounded-lg p-4 border-2 transition-all cursor-pointer
                      ${g===_?"border-red-400 bg-red-900 bg-opacity-30":"border-gray-600"}
                      ${r&&T(H.length+$)?"hover:bg-gray-600 ring-2 ring-red-400":""}
                    `,onClick:()=>{r&&T(H.length+$)&&l(H.length+$)},children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-bold text-lg",children:_.name}),i.jsxs("span",{className:"ml-2 text-sm text-gray-400",children:["Lv.",_.level]})]}),g===_&&i.jsx("div",{className:"bg-red-600 px-2 py-1 rounded text-xs font-bold animate-pulse",children:"ACTIVE"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pt,{className:"w-4 h-4 text-red-400"}),i.jsx("div",{className:"flex-1 bg-gray-600 rounded-full h-3",children:i.jsx("div",{className:"bg-red-500 h-3 rounded-full transition-all duration-500",style:{width:`${f(_.health,_.maxHealth)}%`}})}),i.jsxs("span",{className:"text-sm font-bold",children:[_.health,"/",_.maxHealth]})]}),_.statusEffects.length>0&&i.jsx("div",{className:"mt-2 flex gap-1 flex-wrap",children:_.statusEffects.map((fe,M)=>i.jsxs("span",{className:"bg-purple-600 px-2 py-1 rounded text-xs",children:[fe.type," (",Math.ceil(fe.duration),")"]},M))})]},`${_.id}-${$}`))})]})]}),h&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-gray-800 bg-opacity-90 rounded-lg p-6 border-2 border-yellow-600",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-yellow-400",children:"Choose Your Action"}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx("button",{onClick:()=>p(!1),className:`px-4 py-2 rounded-lg font-bold transition-all ${d?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-yellow-600 text-white"}`,children:"Skills"}),i.jsxs("button",{onClick:()=>p(!0),className:`px-4 py-2 rounded-lg font-bold transition-all ${d?"bg-yellow-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[i.jsx(Pe,{className:"w-4 h-4 inline mr-2"}),"Items"]})]}),!d&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 mb-6",children:u.map(_=>i.jsxs("button",{className:`
                          p-4 rounded-lg border-2 transition-all
                          ${r===_.id?"border-yellow-400 bg-yellow-900 bg-opacity-50":"border-gray-600 bg-gray-700 hover:bg-gray-600"}
                          ${j(_,g)?"":"opacity-50 cursor-not-allowed"}
                        `,onClick:()=>C(_.id),disabled:!j(_,g),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.damage?i.jsx(Xt,{className:"w-5 h-5"}):i.jsx(Pt,{className:"w-5 h-5"}),i.jsx("span",{className:"font-bold text-sm",children:_.name})]}),i.jsx("p",{className:"text-xs text-gray-300 mb-2",children:_.description}),i.jsxs("div",{className:"flex justify-between text-xs",children:[i.jsxs("span",{className:"text-blue-400",children:["Energy: ",_.energyCost]}),i.jsxs("span",{className:"text-yellow-400",children:["Range: ",_.range]})]}),i.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[_.damage&&i.jsxs("span",{className:"text-red-400",children:["Damage: ",_.damage]}),_.healing&&i.jsxs("span",{className:"text-green-400",children:["Heal: ",_.healing]}),_.currentCooldown>0&&i.jsxs("span",{className:"text-red-400",children:["CD: ",Math.ceil(_.currentCooldown)]})]})]},_.id))}),d&&i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3 mb-6",children:y.map(_=>i.jsxs("button",{className:`
                          p-4 rounded-lg border-2 transition-all
                          ${r===`use_${_.id}`?"border-yellow-400 bg-yellow-900 bg-opacity-50":"border-gray-600 bg-gray-700 hover:bg-gray-600"}
                        `,onClick:()=>m(_.id),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Pe,{className:"w-5 h-5"}),i.jsx("span",{className:"font-bold text-sm",children:_.name})]}),i.jsx("p",{className:"text-xs text-gray-300 mb-2",children:_.description}),i.jsxs("div",{className:"text-xs text-blue-400",children:["Energy: ",_.energyCost]})]},_.id))}),r&&i.jsxs("div",{className:"text-center",children:[i.jsxs("p",{className:"mb-4 text-lg",children:[i.jsx("span",{className:"text-yellow-400 font-bold",children:r.startsWith("use_")?(me=y.find(_=>r===`use_${_.id}`))==null?void 0:me.name:(Fe=u.find(_=>_.id===r))==null?void 0:Fe.name}),s>=0&&i.jsxs("span",{className:"text-green-400 ml-2",children:[" ",e.participants[s].name]})]}),i.jsx("div",{className:"mb-4 text-sm text-gray-300",children:r.startsWith("use_")?(Xe=y.find(_=>r===`use_${_.id}`))==null?void 0:Xe.description:(Dt=u.find(_=>_.id===r))==null?void 0:Dt.description}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx("button",{className:"bg-green-600 hover:bg-green-700 px-8 py-3 rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed",onClick:v,disabled:s<0,children:"Execute Action"}),i.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 px-8 py-3 rounded-lg font-bold",onClick:()=>{a(""),l(-1),p(!1)},children:"Cancel"})]})]})]}),i.jsxs("div",{className:"bg-gray-800 bg-opacity-90 rounded-lg p-4 mt-4 max-h-32 overflow-y-auto",children:[i.jsx("h4",{className:"text-lg font-bold mb-2 text-white",children:"Combat Log"}),i.jsx("div",{className:"space-y-1",children:e.combatLog.slice(-5).map((_,$)=>i.jsx("div",{className:"text-sm text-gray-300",children:_},$))})]})]}),!h&&i.jsxs("div",{className:"bg-gray-800 bg-opacity-90 rounded-lg p-6 border-2 border-red-600 text-center",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-red-400",children:"Enemy Turn"}),i.jsxs("p",{className:"text-gray-300 mb-4",children:[g.name," is planning their move..."]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-400"})})]}),i.jsx("div",{className:"flex justify-center gap-4 mt-6",children:i.jsxs("button",{className:"bg-red-600 hover:bg-red-700 px-6 py-3 rounded-lg font-bold flex items-center gap-2 transition-all",onClick:n,children:[i.jsx(Qd,{className:"w-5 h-5"}),"Flee Combat"]})})]})})]})},Mo=({dialogue:e,npcs:t,onChoice:n,onOpenTrading:r,onClose:a})=>{I.useEffect(()=>{const c=o=>{o.key==="Escape"?a():o.stopPropagation()};return document.addEventListener("keydown",c,!0),()=>document.removeEventListener("keydown",c,!0)},[a]);const s=t.find(c=>c.id===e.npcId),l=s==null?void 0:s.dialogue.find(c=>c.id===e.currentNode);return!s||!l?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-gray-900 rounded-lg p-6 max-w-2xl w-full mx-4",children:i.jsxs("div",{className:"text-center text-white",children:[i.jsx("p",{children:"Dialogue error - NPC not found"}),i.jsx("button",{onClick:a,className:"mt-4 bg-red-600 hover:bg-red-700 px-4 py-2 rounded",children:"Close"})]})})}):i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-4xl w-full mx-4 border-2 border-yellow-600",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lm,{className:"w-8 h-8 text-yellow-400"}),i.jsx("h2",{className:"text-2xl font-bold text-yellow-400",children:s.name})]}),i.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"flex gap-6 mb-6",children:[i.jsx("div",{className:"w-24 h-24 bg-gray-700 rounded-lg flex items-center justify-center",children:i.jsx("div",{className:"w-16 h-16 bg-green-600 rounded-full"})}),i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-4",children:i.jsx("p",{className:"text-white text-lg leading-relaxed",children:l.text})})})]}),l.choices.length>0?i.jsxs("div",{className:"space-y-3",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-300 mb-3",children:"Choose your response:"}),l.choices.map((c,o)=>i.jsxs("button",{onClick:()=>{c.action==="open_trade"?r(s):n(c.id)},className:"w-full text-left bg-gray-800 hover:bg-gray-700 border border-gray-600 hover:border-yellow-400 rounded-lg p-4 transition-all",children:[i.jsxs("span",{className:"text-yellow-400 font-bold mr-2",children:[o+1,"."]}),i.jsx("span",{className:"text-white",children:c.text})]},c.id))]}):i.jsx("div",{className:"text-center",children:i.jsx("button",{onClick:a,className:"bg-yellow-600 hover:bg-yellow-700 text-white font-bold py-3 px-6 rounded-lg",children:"End Conversation"})}),e.history.length>0&&i.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Conversation History:"}),i.jsx("div",{className:"max-h-32 overflow-y-auto",children:e.history.map((c,o)=>i.jsx("p",{className:"text-xs text-gray-500 mb-1",children:c},o))})]})]})})},_m=({npc:e,playerInventory:t,playerGold:n,onBuyItem:r,onSellItem:a,onClose:s})=>{I.useEffect(()=>{const C=m=>{m.key==="Escape"?s():m.stopPropagation()};return document.addEventListener("keydown",C,!0),()=>document.removeEventListener("keydown",C,!0)},[s]);const[l,c]=I.useState("buy"),[o,d]=I.useState(null),[p,g]=I.useState(1),h=C=>{switch(C){case"weapon":return"";case"armor":return"";case"consumable":return"";case"material":return"";default:return""}},u=C=>{switch(C){case"common":return"border-gray-400";case"uncommon":return"border-green-400";case"rare":return"border-blue-400";case"epic":return"border-purple-400";case"legendary":return"border-yellow-400";default:return"border-gray-400"}},y=C=>n>=C.value*p,v=t.filter(C=>C.value>0);return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(dm,{className:"w-8 h-8 text-yellow-400"}),i.jsxs("h2",{className:"text-3xl font-bold text-yellow-400",children:["Trading with ",e.name]})]}),i.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"bg-gray-800 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Eo,{className:"w-6 h-6 text-yellow-400"}),i.jsx("span",{className:"text-xl font-bold text-white",children:"Your Gold: "}),i.jsx("span",{className:"text-xl font-bold text-yellow-400",children:n})]})}),i.jsxs("div",{className:"flex mb-6",children:[i.jsxs("button",{onClick:()=>c("buy"),className:`flex-1 py-3 px-6 font-bold transition-all ${l==="buy"?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[i.jsx(Pe,{className:"w-5 h-5 inline mr-2"}),"Buy from ",e.name]}),i.jsxs("button",{onClick:()=>c("sell"),className:`flex-1 py-3 px-6 font-bold transition-all ${l==="sell"?"bg-red-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[i.jsx(Eo,{className:"w-5 h-5 inline mr-2"}),"Sell to ",e.name]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 max-h-96 overflow-y-auto",children:[i.jsx("h3",{className:"text-lg font-bold mb-4 text-white",children:l==="buy"?`${e.name}'s Inventory`:"Your Inventory"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:(l==="buy"?e.inventory||[]:v).map((C,m)=>i.jsx("div",{onClick:()=>d(C),className:`
                      bg-gray-700 rounded-lg p-3 cursor-pointer transition-all border-2
                      ${(o==null?void 0:o.id)===C.id?"border-yellow-400":u(C.rarity)}
                      hover:bg-gray-600
                    `,children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl mb-2",children:h(C.type)}),i.jsx("div",{className:"font-bold text-white text-sm",children:C.name}),i.jsx("div",{className:"text-yellow-400 font-bold",children:l==="buy"?`${C.value}g`:`${Math.floor(C.value*.6)}g`}),C.quantity&&C.quantity>1&&i.jsxs("div",{className:"text-xs text-gray-400",children:["Qty: ",C.quantity]})]})},`${C.id}-${m}`))}),l==="buy"&&(!e.inventory||e.inventory.length===0)&&i.jsxs("div",{className:"text-center text-gray-500 py-8",children:[i.jsx(Pe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsxs("p",{children:[e.name," has nothing to sell"]})]}),l==="sell"&&v.length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-8",children:[i.jsx(Pe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"You have nothing to sell"})]})]})}),i.jsx("div",{className:"bg-gray-800 rounded-lg p-4",children:o?i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold mb-4 text-yellow-400",children:o.name}),i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"text-2xl mb-2",children:h(o.type)}),i.jsx("div",{className:`inline-block px-2 py-1 rounded text-xs font-bold mb-2 ${o.rarity==="common"?"bg-gray-600":o.rarity==="uncommon"?"bg-green-600":o.rarity==="rare"?"bg-blue-600":o.rarity==="epic"?"bg-purple-600":"bg-yellow-600"}`,children:o.rarity.toUpperCase()}),i.jsx("p",{className:"text-sm text-gray-300 mb-4",children:o.description})]}),o.stats&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h4",{className:"font-semibold mb-2 text-white",children:"Stats:"}),i.jsx("div",{className:"text-xs space-y-1",children:Object.entries(o.stats).map(([C,m])=>i.jsxs("div",{className:"text-green-400",children:[C,": +",m]},C))})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"text-lg font-bold text-white mb-2",children:["Price: ",i.jsxs("span",{className:"text-yellow-400",children:[l==="buy"?o.value:Math.floor(o.value*.6),"g"]})]}),o.stackable&&i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Quantity:"}),i.jsx("input",{type:"number",min:"1",max:l==="buy"?99:o.quantity||1,value:p,onChange:C=>g(Math.max(1,parseInt(C.target.value)||1)),className:"w-full bg-gray-700 border border-gray-600 rounded px-3 py-2 text-white"})]}),i.jsxs("div",{className:"text-sm text-gray-400 mb-3",children:["Total: ",(l==="buy"?o.value:Math.floor(o.value*.6))*p,"g"]})]}),i.jsxs("button",{onClick:()=>{l==="buy"?r(o,p):a(o,p),d(null),g(1)},disabled:l==="buy"&&!y(o),className:`
                    w-full py-3 px-4 rounded-lg font-bold transition-all flex items-center justify-center gap-2
                    ${l==="buy"?y(o)?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-600 text-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 text-white"}
                  `,children:[i.jsx(Yp,{className:"w-5 h-5"}),l==="buy"?"Buy Item":"Sell Item"]}),l==="buy"&&!y(o)&&i.jsx("p",{className:"text-red-400 text-sm mt-2 text-center",children:"Not enough gold!"})]}):i.jsxs("div",{className:"text-center text-gray-500 py-8",children:[i.jsx(Pe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsxs("p",{children:["Select an item to ",l]})]})})]})]})})},Nm=({quests:e,completedQuests:t,onClose:n})=>{I.useEffect(()=>{const o=d=>{d.key==="Escape"||d.key.toLowerCase()==="q"?n():d.stopPropagation()};return document.addEventListener("keydown",o,!0),()=>document.removeEventListener("keydown",o,!0)},[n]);const r=e.filter(o=>o.status==="active"),a=e.filter(o=>o.status==="available"),s=e.filter(o=>o.status==="completed"),l=o=>{switch(o){case"active":return i.jsx(gs,{className:"w-5 h-5 text-yellow-400"});case"completed":return i.jsx(Jn,{className:"w-5 h-5 text-green-400"});case"available":return i.jsx(dt,{className:"w-5 h-5 text-blue-400"});default:return i.jsx(Pi,{className:"w-5 h-5 text-gray-400"})}},c=o=>{const d=o.objectives.length,p=o.objectives.filter(g=>g.completed).length;return d>0?p/d*100:0};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-3xl font-bold text-yellow-400",children:"Quest Log"}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-full",children:[i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 text-yellow-400 flex items-center gap-2",children:[i.jsx(gs,{className:"w-6 h-6"}),"Active Quests (",r.length,")"]}),i.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[r.map(o=>i.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 border-l-4 border-yellow-400",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[l(o.status),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-white",children:o.title}),i.jsx("p",{className:"text-sm text-gray-300 mt-1",children:o.description})]})]}),i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[Math.round(c(o)),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:i.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${c(o)}%`}})})]}),i.jsx("div",{className:"space-y-2",children:o.objectives.map(d=>i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx("div",{className:`w-4 h-4 rounded border-2 flex items-center justify-center ${d.completed?"bg-green-600 border-green-600":"border-gray-400"}`,children:d.completed&&i.jsx(Jn,{className:"w-3 h-3 text-white"})}),i.jsx("span",{className:d.completed?"text-green-400 line-through":"text-gray-300",children:d.description}),i.jsxs("span",{className:"text-gray-500 ml-auto",children:[d.current,"/",d.required]})]},d.id))}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600",children:[i.jsx("h5",{className:"text-xs font-semibold text-gray-400 mb-1",children:"Rewards:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:o.rewards.map((d,p)=>{var g;return i.jsxs("span",{className:"text-xs bg-gray-600 px-2 py-1 rounded",children:[d.type==="experience"&&`${d.value} XP`,d.type==="gold"&&`${d.value} Gold`,d.type==="item"&&((g=d.item)==null?void 0:g.name)]},p)})})]})]},o.id)),r.length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-8",children:[i.jsx(Pi,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No active quests"})]})]})]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 text-blue-400 flex items-center gap-2",children:[i.jsx(dt,{className:"w-6 h-6"}),"Available Quests (",a.length,")"]}),i.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[a.map(o=>i.jsxs("div",{className:"bg-gray-700 rounded-lg p-4 border-l-4 border-blue-400",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[l(o.status),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-white",children:o.title}),i.jsx("p",{className:"text-sm text-gray-300 mt-1",children:o.description}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Required Level: ",o.requiredLevel]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-600",children:[i.jsx("h5",{className:"text-xs font-semibold text-gray-400 mb-1",children:"Rewards:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:o.rewards.map((d,p)=>{var g;return i.jsxs("span",{className:"text-xs bg-gray-600 px-2 py-1 rounded",children:[d.type==="experience"&&`${d.value} XP`,d.type==="gold"&&`${d.value} Gold`,d.type==="item"&&((g=d.item)==null?void 0:g.name)]},p)})})]})]},o.id)),a.length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-8",children:[i.jsx(dt,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No available quests"})]})]})]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 text-green-400 flex items-center gap-2",children:[i.jsx(Jn,{className:"w-6 h-6"}),"Completed Quests (",s.length,")"]}),i.jsxs("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:[s.map(o=>i.jsx("div",{className:"bg-gray-700 rounded-lg p-4 border-l-4 border-green-400 opacity-75",children:i.jsxs("div",{className:"flex items-start gap-3",children:[l(o.status),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-white",children:o.title}),i.jsx("p",{className:"text-sm text-gray-300 mt-1",children:o.description})]})]})},o.id)),s.length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-8",children:[i.jsx(Jn,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"No completed quests yet"})]})]})]})]})]})})},jm=({character:e,onClose:t})=>{I.useEffect(()=>{const s=l=>{l.key==="Escape"||l.key.toLowerCase()==="c"?t():l.stopPropagation()};return document.addEventListener("keydown",s,!0),()=>document.removeEventListener("keydown",s,!0)},[t]);const n=s=>{switch(s){case"strength":return i.jsx(Xt,{className:"w-5 h-5 text-red-400"});case"agility":return i.jsx(hm,{className:"w-5 h-5 text-green-400"});case"intelligence":return i.jsx(dt,{className:"w-5 h-5 text-blue-400"});case"endurance":return i.jsx(Cr,{className:"w-5 h-5 text-yellow-400"});case"luck":return i.jsx(dt,{className:"w-5 h-5 text-purple-400"});default:return i.jsx(qi,{className:"w-5 h-5 text-gray-400"})}},r=s=>{switch(s){case"warrior":return"A tough melee fighter with high health and strength";case"ranger":return"A skilled marksman with high agility and perception";case"medic":return"A healer with knowledge of medicine and technology";case"engineer":return"A tech specialist who can craft and repair equipment";default:return"A survivor in the wasteland"}},a=e.experience/e.experienceToNext*100;return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-3xl font-bold text-blue-400",children:"Character Sheet"}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center",children:i.jsx(qi,{className:"w-12 h-12 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white",children:e.name}),i.jsx("p",{className:"text-blue-400 capitalize font-semibold",children:e.class}),i.jsx("p",{className:"text-gray-400 text-sm",children:r(e.class)})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("span",{className:"text-lg font-semibold text-white",children:["Level ",e.level]}),i.jsxs("span",{className:"text-sm text-gray-400",children:[e.experience," / ",e.experienceToNext," XP"]})]}),i.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3",children:i.jsx("div",{className:"bg-yellow-400 h-3 rounded-full transition-all duration-300",style:{width:`${a}%`}})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Pt,{className:"w-5 h-5 text-red-400"}),i.jsx("span",{className:"font-semibold text-white",children:"Health"})]}),i.jsxs("div",{className:"text-2xl font-bold text-red-400",children:[e.health," / ",e.maxHealth]}),i.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2 mt-2",children:i.jsx("div",{className:"bg-red-500 h-2 rounded-full",style:{width:`${e.health/e.maxHealth*100}%`}})})]}),i.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(pl,{className:"w-5 h-5 text-blue-400"}),i.jsx("span",{className:"font-semibold text-white",children:"Energy"})]}),i.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[Math.floor(e.energy)," / ",e.maxEnergy]}),i.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2 mt-2",children:i.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${e.energy/e.maxEnergy*100}%`}})})]})]}),e.statusEffects.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"font-semibold text-white mb-3",children:"Status Effects"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.statusEffects.map((s,l)=>i.jsxs("span",{className:"bg-purple-600 text-white px-3 py-1 rounded-full text-sm",children:[s.type," (",s.duration,"s)"]},l))})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[i.jsx("h4",{className:"text-xl font-bold text-white mb-4",children:"Attributes"}),i.jsx("div",{className:"grid grid-cols-1 gap-3",children:Object.entries(e.stats).map(([s,l])=>i.jsxs("div",{className:"flex items-center justify-between bg-gray-700 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[n(s),i.jsx("span",{className:"font-semibold text-white capitalize",children:s})]}),i.jsx("span",{className:"text-2xl font-bold text-yellow-400",children:l})]},s))})]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[i.jsx("h4",{className:"text-xl font-bold text-white mb-4",children:"Skills"}),i.jsx("div",{className:"space-y-3",children:e.skills.map(s=>i.jsxs("div",{className:"bg-gray-700 rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h5",{className:"font-bold text-yellow-400",children:s.name}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-blue-400",children:["Energy: ",s.energyCost]}),s.currentCooldown>0&&i.jsxs("div",{className:"text-sm text-red-400",children:["Cooldown: ",Math.ceil(s.currentCooldown),"s"]})]})]}),i.jsx("p",{className:"text-sm text-gray-300 mb-2",children:s.description}),i.jsxs("div",{className:"flex gap-4 text-xs text-gray-400",children:[s.damage&&i.jsxs("span",{children:["Damage: ",s.damage]}),s.healing&&i.jsxs("span",{children:["Healing: ",s.healing]}),i.jsxs("span",{children:["Range: ",s.range]}),i.jsxs("span",{children:["Cooldown: ",s.cooldown,"s"]})]})]},s.id))})]})]})]})]})})},km=({gameMap:e,playerPosition:t,visibilityMap:n,onClose:r})=>{I.useEffect(()=>{const o=d=>{d.key==="Escape"||d.key.toLowerCase()==="m"?r():d.stopPropagation()};return document.addEventListener("keydown",o,!0),()=>document.removeEventListener("keydown",o,!0)},[r]);const a=8,s=Math.floor(t.x/32),l=Math.floor(t.y/32),c=(o,d,p)=>{if(!d)return"#000000";let g="#333333";switch(o){case"grass":g="#4a7c59";break;case"dirt":g="#8b4513";break;case"stone":g="#696969";break;case"water":g="#4682b4";break;case"ruins":g="#2f2f2f";break;case"building":g="#654321";break;case"sand":g="#f4a460";break}return!p&&d?g+"80":g};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(am,{className:"w-8 h-8 text-green-400"}),i.jsxs("h2",{className:"text-3xl font-bold text-green-400",children:[e.name," Map"]})]}),i.jsx("button",{onClick:r,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"flex gap-6",children:[i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"bg-black rounded-lg p-4 overflow-auto max-h-[70vh]",children:i.jsxs("div",{className:"relative",style:{width:e.width*a,height:e.height*a},children:[e.tiles.map((o,d)=>o.map((p,g)=>i.jsx("div",{className:"absolute",style:{left:g*a,top:d*a,width:a,height:a,backgroundColor:c(p.type,p.discovered,n[d]&&n[d][g])}},`${g}-${d}`))),e.npcs.map(o=>{var h;const d=Math.floor(o.position.x/32),p=Math.floor(o.position.y/32),g=(h=e.tiles[p])==null?void 0:h[d];return g!=null&&g.discovered?i.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{left:d*a-1,top:p*a-1,backgroundColor:o.isHostile?"#ff4444":"#44ff44"},title:o.name},o.id):null}),i.jsx("div",{className:"absolute w-3 h-3 bg-red-500 rounded-full border border-white",style:{left:s*a-1.5,top:l*a-1.5}}),i.jsx("div",{className:"absolute border-2 border-yellow-400 rounded-full opacity-30",style:{left:(s-8)*a,top:(l-8)*a,width:16*a,height:16*a}})]})})}),i.jsxs("div",{className:"w-64 bg-gray-800 rounded-lg p-4",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Map Legend"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 bg-red-500 rounded-full border border-white"}),i.jsx("span",{className:"text-white",children:"Your Position"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-white",children:"Friendly NPC"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 bg-red-400 rounded-full"}),i.jsx("span",{className:"text-white",children:"Hostile NPC"})]}),i.jsxs("div",{className:"border-t border-gray-600 pt-3 mt-3",children:[i.jsx("h4",{className:"font-semibold text-gray-300 mb-2",children:"Terrain"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3",style:{backgroundColor:"#4a7c59"}}),i.jsx("span",{className:"text-gray-300",children:"Grass"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3",style:{backgroundColor:"#8b4513"}}),i.jsx("span",{className:"text-gray-300",children:"Dirt"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3",style:{backgroundColor:"#696969"}}),i.jsx("span",{className:"text-gray-300",children:"Stone"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3",style:{backgroundColor:"#4682b4"}}),i.jsx("span",{className:"text-gray-300",children:"Water"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3",style:{backgroundColor:"#2f2f2f"}}),i.jsx("span",{className:"text-gray-300",children:"Ruins"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-3 h-3 bg-black"}),i.jsx("span",{className:"text-gray-300",children:"Unexplored"})]})]})]}),i.jsxs("div",{className:"border-t border-gray-600 pt-3 mt-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[i.jsx(tm,{className:"w-4 h-4"}),i.jsx("span",{children:"Yellow circle shows vision range"})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mt-1",children:[i.jsx(em,{className:"w-4 h-4"}),i.jsx("span",{children:"Darker areas are discovered but not visible"})]})]})]})]})]})]})})},Sm=({character:e,onClose:t})=>{var c;I.useEffect(()=>{const o=d=>{d.key==="Escape"?t():d.stopPropagation()};return document.addEventListener("keydown",o,!0),()=>document.removeEventListener("keydown",o,!0)},[t]);const n=o=>o>=8?"text-green-400":o>=6?"text-yellow-400":o>=4?"text-orange-400":"text-red-400",r=()=>e.health/e.maxHealth*100,a=()=>e.energy/e.maxEnergy*100,s=()=>e.radiation/e.maxRadiation*100,l=()=>e.experience/e.experienceToNext*100;return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-3xl font-bold text-blue-400 flex items-center gap-2",children:[i.jsx(qi,{className:"w-8 h-8"}),"Character Sheet"]}),i.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-yellow-400",children:"Character Info"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Name:"}),i.jsx("span",{className:"font-bold text-white",children:e.name})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Class:"}),i.jsx("span",{className:"font-bold text-blue-400 capitalize",children:e.class})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Level:"}),i.jsx("span",{className:"font-bold text-green-400",children:e.level})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Background:"}),i.jsx("span",{className:"font-bold text-purple-400 capitalize",children:(c=e.background)==null?void 0:c.replace("_"," ")})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Age:"}),i.jsx("span",{className:"font-bold text-gray-300",children:e.age})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Gender:"}),i.jsx("span",{className:"font-bold text-gray-300 capitalize",children:e.gender})]})]})]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-yellow-400",children:"Vital Statistics"}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Pt,{className:"w-4 h-4 text-red-400"}),"Health"]}),i.jsxs("span",{className:"font-bold",children:[e.health,"/",e.maxHealth]})]}),i.jsx("div",{className:"w-full bg-gray-600 rounded-full h-3",children:i.jsx("div",{className:"bg-red-500 h-3 rounded-full transition-all",style:{width:`${r()}%`}})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(pl,{className:"w-4 h-4 text-blue-400"}),"Energy"]}),i.jsxs("span",{className:"font-bold",children:[e.energy,"/",e.maxEnergy]})]}),i.jsx("div",{className:"w-full bg-gray-600 rounded-full h-3",children:i.jsx("div",{className:"bg-blue-500 h-3 rounded-full transition-all",style:{width:`${a()}%`}})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full"}),"Radiation"]}),i.jsxs("span",{className:"font-bold",children:[e.radiation,"/",e.maxRadiation]})]}),i.jsx("div",{className:"w-full bg-gray-600 rounded-full h-3",children:i.jsx("div",{className:"bg-green-500 h-3 rounded-full transition-all",style:{width:`${s()}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-1",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(dt,{className:"w-4 h-4 text-yellow-400"}),"Experience"]}),i.jsxs("span",{className:"font-bold",children:[e.experience,"/",e.experienceToNext]})]}),i.jsx("div",{className:"w-full bg-gray-600 rounded-full h-3",children:i.jsx("div",{className:"bg-yellow-500 h-3 rounded-full transition-all",style:{width:`${l()}%`}})})]})]}),e.biography&&i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-yellow-400",children:"Biography"}),i.jsx("p",{className:"text-gray-300 leading-relaxed",children:e.biography})]})]}),i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-yellow-400",children:"Primary Attributes"}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(e.stats).map(([o,d])=>i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`text-2xl font-bold ${n(d)}`,children:d}),i.jsx("div",{className:"text-sm text-gray-400 capitalize",children:o})]},o))})]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-yellow-400",children:"Derived Statistics"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xl font-bold text-orange-400",children:e.derivedStats.carryWeight}),i.jsx("div",{className:"text-sm text-gray-400",children:"Carry Weight"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xl font-bold text-green-400",children:e.derivedStats.actionPoints}),i.jsx("div",{className:"text-sm text-gray-400",children:"Action Points"})]}),i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-xl font-bold text-purple-400",children:[e.derivedStats.criticalChance,"%"]}),i.jsx("div",{className:"text-sm text-gray-400",children:"Critical Chance"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xl font-bold text-blue-400",children:e.derivedStats.damageResistance}),i.jsx("div",{className:"text-sm text-gray-400",children:"Damage Resistance"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xl font-bold text-green-400",children:e.derivedStats.radiationResistance}),i.jsx("div",{className:"text-sm text-gray-400",children:"Rad Resistance"})]})]})]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 text-yellow-400 flex items-center gap-2",children:[i.jsx(Xt,{className:"w-5 h-5"}),"Skills & Abilities"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.skills.map(o=>i.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"font-bold text-blue-400",children:o.name}),i.jsxs("span",{className:"text-sm text-gray-400",children:["Energy: ",o.energyCost]})]}),i.jsx("p",{className:"text-sm text-gray-300 mb-2",children:o.description}),i.jsxs("div",{className:"flex justify-between text-xs",children:[o.damage&&i.jsxs("span",{className:"text-red-400",children:["Damage: ",o.damage]}),o.healing&&i.jsxs("span",{className:"text-green-400",children:["Healing: ",o.healing]}),i.jsxs("span",{className:"text-yellow-400",children:["Range: ",o.range]})]}),o.currentCooldown>0&&i.jsxs("div",{className:"mt-2",children:[i.jsxs("div",{className:"text-xs text-red-400",children:["Cooldown: ",o.currentCooldown.toFixed(1),"s"]}),i.jsx("div",{className:"w-full bg-gray-600 rounded-full h-1",children:i.jsx("div",{className:"bg-red-500 h-1 rounded-full",style:{width:`${o.currentCooldown/o.cooldown*100}%`}})})]})]},o.id))})]}),e.perks&&e.perks.length>0&&i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsxs("h3",{className:"text-xl font-bold mb-4 text-yellow-400 flex items-center gap-2",children:[i.jsx(Gp,{className:"w-5 h-5"}),"Perks"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.perks.map(o=>i.jsxs("div",{className:"bg-gray-700 rounded-lg p-3",children:[i.jsx("div",{className:"font-bold text-purple-400 mb-1",children:o.name}),i.jsx("p",{className:"text-sm text-gray-300",children:o.description})]},o.id))})]}),e.traits&&e.traits.length>0&&i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-yellow-400",children:"Traits"}),i.jsx("div",{className:"space-y-2",children:e.traits.map(o=>i.jsx("div",{className:"bg-gray-700 rounded-lg p-3",children:i.jsx("div",{className:"font-bold text-orange-400 capitalize",children:o.replace("_"," ")})},o))})]}),e.statusEffects.length>0&&i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-yellow-400",children:"Status Effects"}),i.jsx("div",{className:"space-y-2",children:e.statusEffects.map((o,d)=>i.jsxs("div",{className:"bg-gray-700 rounded-lg p-3 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-bold text-purple-400 capitalize",children:o.type}),i.jsxs("span",{className:"text-sm text-gray-400 ml-2",children:["from ",o.source]})]}),i.jsxs("div",{className:"text-sm text-gray-400",children:[o.duration.toFixed(1),"s remaining"]})]},d))})]})]})]})]})})},Cm=({lootable:e,playerInventory:t,onTakeItem:n,onTakeAll:r,onClose:a})=>{I.useEffect(()=>{const h=u=>{u.key==="Escape"?a():u.stopPropagation()};return document.addEventListener("keydown",h,!0),()=>document.removeEventListener("keydown",h,!0)},[a]);const[s,l]=I.useState(new Set),c=h=>({weapon:"",armor:"",consumable:"",material:"",quest:""})[h]||"",o=h=>({common:"border-gray-400 bg-gray-800",uncommon:"border-green-400 bg-green-900",rare:"border-blue-400 bg-blue-900",epic:"border-purple-400 bg-purple-900",legendary:"border-yellow-400 bg-yellow-900"})[h]||"border-gray-400 bg-gray-800",d=h=>{const u=new Set(s);u.has(h)?u.delete(h):u.add(h),l(u)},p=()=>{e.items.forEach((h,u)=>{s.has(`${h.id}_${u}`)&&n(h,h.quantity)}),a()},g=()=>{switch(e.type){case"corpse":return"Search Corpse";case"container":return"Container Contents";case"cache":return"Hidden Cache";default:return"Loot"}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-4xl w-full mx-4 max-h-[80vh] overflow-hidden border-2 border-yellow-600",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-yellow-400 flex items-center gap-2",children:[i.jsx(Pe,{className:"w-6 h-6"}),g()]}),i.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold mb-4 text-white",children:"Available Items"}),i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:e.items.length===0?i.jsxs("div",{className:"text-center text-gray-400 py-8",children:[i.jsx(Pe,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"This container is empty"})]}):e.items.map((h,u)=>{const y=`${h.id}_${u}`,v=s.has(y);return i.jsxs("div",{className:`
                        p-3 rounded-lg border-2 cursor-pointer transition-all
                        ${o(h.rarity)}
                        ${v?"ring-2 ring-yellow-400":""}
                        hover:scale-105
                      `,onClick:()=>d(y),children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-2xl",children:c(h.type)}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-yellow-400",children:h.name}),i.jsx("div",{className:"text-xs text-gray-400",children:h.description}),h.quantity&&h.quantity>1&&i.jsxs("div",{className:"text-sm text-blue-400",children:["Quantity: ",h.quantity]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-sm text-green-400",children:[h.value," caps"]}),i.jsx("div",{className:"text-xs text-gray-400 capitalize",children:h.rarity})]})]}),h.stats&&Object.keys(h.stats).length>0&&i.jsx("div",{className:"mt-2 text-xs",children:Object.entries(h.stats).map(([C,m])=>i.jsxs("span",{className:"text-green-400 mr-2",children:[C,": +",m]},C))})]},y)})})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold mb-4 text-white",children:"Your Inventory"}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 max-h-96 overflow-y-auto",children:[i.jsxs("div",{className:"text-sm text-gray-400 mb-2",children:["Inventory: ",t.length,"/50 items"]}),i.jsxs("div",{className:"space-y-1",children:[t.slice(0,10).map((h,u)=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-300",children:h.name}),h.quantity&&h.quantity>1&&i.jsxs("span",{className:"text-blue-400",children:["x",h.quantity]})]},u)),t.length>10&&i.jsxs("div",{className:"text-xs text-gray-500",children:["...and ",t.length-10," more items"]})]})]})]})]}),i.jsxs("div",{className:"flex justify-between mt-6",children:[i.jsxs("button",{onClick:a,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg flex items-center gap-2",children:[i.jsx(Vd,{className:"w-4 h-4"}),"Leave"]}),i.jsxs("div",{className:"flex gap-3",children:[s.size>0&&i.jsxs("button",{onClick:p,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg flex items-center gap-2",children:[i.jsx(Ud,{className:"w-4 h-4"}),"Take Selected (",s.size,")"]}),e.items.length>0&&i.jsxs("button",{onClick:()=>{r(),a()},className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center gap-2",children:[i.jsx(Pe,{className:"w-4 h-4"}),"Take All"]})]})]})]})})},Em=({quests:e,completedQuests:t,onClose:n,onTrackQuest:r})=>{I.useEffect(()=>{const h=u=>{u.key==="Escape"?n():u.stopPropagation()};return document.addEventListener("keydown",h,!0),()=>document.removeEventListener("keydown",h,!0)},[n]);const[a,s]=I.useState("active"),[l,c]=I.useState(null),o=e.filter(h=>h.status==="active"||h.status==="available"),d=e.filter(h=>h.status==="completed"),p=h=>{switch(h){case"active":return i.jsx(gs,{className:"w-5 h-5 text-blue-400"});case"completed":return i.jsx(Jn,{className:"w-5 h-5 text-green-400"});case"failed":return i.jsx(Te,{className:"w-5 h-5 text-red-400"});case"available":return i.jsx(Qp,{className:"w-5 h-5 text-yellow-400"});default:return i.jsx(Zn,{className:"w-5 h-5 text-gray-400"})}},g=h=>{const u=h.objectives.filter(v=>v.completed).length,y=h.objectives.length;return{completed:u,total:y,percentage:u/y*100}};return i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-3xl font-bold text-yellow-400 flex items-center gap-2",children:[i.jsx(Zn,{className:"w-8 h-8"}),"Quest Log"]}),i.jsx("button",{onClick:n,className:"text-gray-400 hover:text-white transition-colors",children:i.jsx(Te,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"flex space-x-4 mb-6",children:[i.jsxs("button",{onClick:()=>s("active"),className:`
              px-6 py-3 rounded-lg font-bold transition-all
              ${a==="active"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}
            `,children:["Active Quests (",o.length,")"]}),i.jsxs("button",{onClick:()=>s("completed"),className:`
              px-6 py-3 rounded-lg font-bold transition-all
              ${a==="completed"?"bg-green-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}
            `,children:["Completed (",d.length,")"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-[60vh]",children:[i.jsxs("div",{className:"overflow-y-auto",children:[i.jsx("h3",{className:"text-lg font-bold mb-4 text-white",children:a==="active"?"Active Quests":"Completed Quests"}),i.jsxs("div",{className:"space-y-3",children:[(a==="active"?o:d).map(h=>{const u=g(h),y=(l==null?void 0:l.id)===h.id;return i.jsxs("div",{className:`
                      p-4 rounded-lg border-2 cursor-pointer transition-all
                      ${y?"border-yellow-400 bg-yellow-900/20":"border-gray-600 bg-gray-800 hover:border-gray-500"}
                    `,onClick:()=>c(h),children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[p(h.status),i.jsx("h4",{className:"font-bold text-yellow-400",children:h.title})]}),i.jsxs("div",{className:"text-xs text-gray-400",children:["Level ",h.requiredLevel]})]}),i.jsx("p",{className:"text-gray-300 text-sm mb-3",children:h.description}),i.jsxs("div",{className:"mb-2",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[u.completed,"/",u.total]})]}),i.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:i.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${u.percentage}%`}})})]}),i.jsx("div",{className:"flex items-center gap-4 text-xs",children:h.rewards.map((v,C)=>{var m;return i.jsxs("span",{className:"text-green-400",children:[v.type==="experience"&&`${v.value} XP`,v.type==="gold"&&`${v.value} Caps`,v.type==="item"&&((m=v.item)==null?void 0:m.name)]},C)})})]},h.id)}),(a==="active"?o:d).length===0&&i.jsxs("div",{className:"text-center text-gray-400 py-8",children:[i.jsx(Zn,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:a==="active"?"No active quests. Explore the world to find new adventures!":"No completed quests yet."})]})]})]}),i.jsx("div",{className:"overflow-y-auto",children:l?i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[p(l.status),i.jsx("h3",{className:"text-xl font-bold text-yellow-400",children:l.title})]}),i.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:l.description}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-lg font-bold text-white mb-3",children:"Objectives:"}),i.jsx("div",{className:"space-y-3",children:l.objectives.map(h=>i.jsxs("div",{className:`
                          p-3 rounded-lg border-l-4
                          ${h.completed?"border-green-400 bg-green-900/20":"border-blue-400 bg-blue-900/20"}
                        `,children:[i.jsxs("div",{className:"flex items-center justify-between mb-1",children:[i.jsxs("span",{className:`font-medium ${h.completed?"text-green-400":"text-blue-400"}`,children:[h.completed?"":""," ",h.description]}),i.jsxs("span",{className:"text-sm text-gray-400",children:[h.current,"/",h.required]})]}),!h.completed&&i.jsx("div",{className:"w-full bg-gray-600 rounded-full h-1 mt-2",children:i.jsx("div",{className:"bg-blue-500 h-1 rounded-full",style:{width:`${h.current/h.required*100}%`}})})]},h.id))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-lg font-bold text-white mb-3",children:"Rewards:"}),i.jsx("div",{className:"space-y-2",children:l.rewards.map((h,u)=>{var y;return i.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[i.jsx(dt,{className:"w-4 h-4"}),i.jsxs("span",{children:[h.type==="experience"&&`${h.value} Experience Points`,h.type==="gold"&&`${h.value} Bottle Caps`,h.type==="item"&&`${((y=h.item)==null?void 0:y.name)||"Unknown Item"}`]})]},u)})})]}),l.status==="active"&&r&&i.jsx("button",{onClick:()=>r(l.id),className:"w-full bg-blue-600 hover:bg-blue-700 text-white py-3 rounded-lg font-bold",children:"Track Quest"})]}):i.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 text-center text-gray-400",children:[i.jsx(Zn,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Select a quest to view details"})]})})]})]})})},Tm=({devMode:e,onUpdateDevMode:t,onCreateQuest:n,onCreateNPC:r,onCreateItem:a})=>{const[s,l]=I.useState("quest");I.useEffect(()=>{const p=g=>{e.enabled&&g.key!=="F1"&&g.stopPropagation()};if(e.enabled)return document.addEventListener("keydown",p,!0),()=>document.removeEventListener("keydown",p,!0)},[e.enabled]);const c=()=>{const p={id:e.questEditor.id||`quest_${Date.now()}`,title:e.questEditor.title||"New Quest",description:e.questEditor.description||"Quest description",objectives:e.questEditor.objectives.length>0?e.questEditor.objectives:[{id:"objective_1",description:"Complete objective",type:"kill",target:"enemy",current:0,required:1,completed:!1}],rewards:e.questEditor.rewards.length>0?e.questEditor.rewards:[{type:"experience",value:100}],status:"available",requiredLevel:e.questEditor.requiredLevel||1};n(p),t({...e,questEditor:{id:"",title:"",description:"",objectives:[],rewards:[],requiredLevel:1}})},o=()=>{const p={id:e.npcEditor.id||`npc_${Date.now()}`,name:e.npcEditor.name||"New NPC",type:e.npcEditor.type||"neutral",position:e.npcEditor.position||{x:400,y:400},sprite:"npc_placeholder",dialogue:e.npcEditor.dialogue.length>0?e.npcEditor.dialogue:[{id:"greeting",text:"Hello, traveler!",choices:[{id:"goodbye",text:"Goodbye",nextNode:"goodbye"}]},{id:"goodbye",text:"Safe travels!",choices:[]}],inventory:e.npcEditor.inventory||[],faction:e.npcEditor.faction||"neutral",isHostile:e.npcEditor.isHostile||!1};r(p),t({...e,npcEditor:{id:"",name:"",type:"neutral",position:{x:400,y:400},dialogue:[],inventory:[],faction:"neutral",isHostile:!1}})},d=()=>{const p={id:e.itemEditor.id||`item_${Date.now()}`,name:e.itemEditor.name||"New Item",type:e.itemEditor.type||"material",rarity:e.itemEditor.rarity||"common",description:e.itemEditor.description||"Item description",stats:e.itemEditor.stats||{},value:e.itemEditor.value||10,sprite:"item_placeholder",stackable:e.itemEditor.stackable||!1};a(p),t({...e,itemEditor:{id:"",name:"",type:"material",rarity:"common",description:"",stats:{},value:10,stackable:!1}})};return e.enabled?i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-900 rounded-lg p-6 max-w-6xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-3xl font-bold text-purple-400 flex items-center gap-2",children:[i.jsx(ys,{className:"w-8 h-8"}),"Developer Mode"]}),i.jsx("button",{onClick:()=>t({...e,enabled:!1}),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg",children:"Close Dev Mode"})]}),i.jsx("div",{className:"flex space-x-4 mb-6",children:[{id:"quest",label:"Quests",icon:Zn},{id:"npc",label:"NPCs",icon:mm},{id:"item",label:"Items",icon:Pe},{id:"terrain",label:"Terrain",icon:sm}].map(p=>i.jsxs("button",{onClick:()=>l(p.id),className:`
                flex items-center gap-2 px-4 py-2 rounded-lg transition-all
                ${s===p.id?"bg-purple-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}
              `,children:[i.jsx(p.icon,{className:"w-4 h-4"}),p.label]},p.id))}),i.jsxs("div",{className:"overflow-y-auto max-h-[60vh]",children:[s==="quest"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-xl font-bold text-yellow-400",children:"Quest Editor"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Quest ID"}),i.jsx("input",{type:"text",value:e.questEditor.id,onChange:p=>t({...e,questEditor:{...e.questEditor,id:p.target.value}}),placeholder:"quest_id",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Title"}),i.jsx("input",{type:"text",value:e.questEditor.title,onChange:p=>t({...e,questEditor:{...e.questEditor,title:p.target.value}}),placeholder:"Quest Title",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),i.jsx("textarea",{value:e.questEditor.description,onChange:p=>t({...e,questEditor:{...e.questEditor,description:p.target.value}}),placeholder:"Quest description...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white h-24"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Required Level"}),i.jsx("input",{type:"number",value:e.questEditor.requiredLevel,onChange:p=>t({...e,questEditor:{...e.questEditor,requiredLevel:parseInt(p.target.value)||1}}),min:"1",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white"})]}),i.jsxs("button",{onClick:c,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center gap-2",children:[i.jsx(_a,{className:"w-4 h-4"}),"Create Quest"]})]}),s==="npc"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-xl font-bold text-yellow-400",children:"NPC Editor"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"NPC ID"}),i.jsx("input",{type:"text",value:e.npcEditor.id,onChange:p=>t({...e,npcEditor:{...e.npcEditor,id:p.target.value}}),placeholder:"npc_id",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),i.jsx("input",{type:"text",value:e.npcEditor.name,onChange:p=>t({...e,npcEditor:{...e.npcEditor,name:p.target.value}}),placeholder:"NPC Name",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Type"}),i.jsxs("select",{value:e.npcEditor.type,onChange:p=>t({...e,npcEditor:{...e.npcEditor,type:p.target.value}}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white",children:[i.jsx("option",{value:"neutral",children:"Neutral"}),i.jsx("option",{value:"trader",children:"Trader"}),i.jsx("option",{value:"quest_giver",children:"Quest Giver"}),i.jsx("option",{value:"recruitable",children:"Recruitable"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Faction"}),i.jsx("input",{type:"text",value:e.npcEditor.faction,onChange:p=>t({...e,npcEditor:{...e.npcEditor,faction:p.target.value}}),placeholder:"Faction",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white"})]})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:e.npcEditor.isHostile,onChange:p=>t({...e,npcEditor:{...e.npcEditor,isHostile:p.target.checked}}),className:"rounded"}),i.jsx("span",{className:"text-gray-300",children:"Hostile"})]})}),i.jsxs("button",{onClick:o,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center gap-2",children:[i.jsx(_a,{className:"w-4 h-4"}),"Create NPC"]})]}),s==="item"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-xl font-bold text-yellow-400",children:"Item Editor"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Item ID"}),i.jsx("input",{type:"text",value:e.itemEditor.id,onChange:p=>t({...e,itemEditor:{...e.itemEditor,id:p.target.value}}),placeholder:"item_id",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Name"}),i.jsx("input",{type:"text",value:e.itemEditor.name,onChange:p=>t({...e,itemEditor:{...e.itemEditor,name:p.target.value}}),placeholder:"Item Name",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Type"}),i.jsxs("select",{value:e.itemEditor.type,onChange:p=>t({...e,itemEditor:{...e.itemEditor,type:p.target.value}}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white",children:[i.jsx("option",{value:"weapon",children:"Weapon"}),i.jsx("option",{value:"armor",children:"Armor"}),i.jsx("option",{value:"helmet",children:"Helmet"}),i.jsx("option",{value:"boots",children:"Boots"}),i.jsx("option",{value:"accessory",children:"Accessory"}),i.jsx("option",{value:"consumable",children:"Consumable"}),i.jsx("option",{value:"material",children:"Material"}),i.jsx("option",{value:"quest",children:"Quest Item"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rarity"}),i.jsxs("select",{value:e.itemEditor.rarity,onChange:p=>t({...e,itemEditor:{...e.itemEditor,rarity:p.target.value}}),className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white",children:[i.jsx("option",{value:"common",children:"Common"}),i.jsx("option",{value:"uncommon",children:"Uncommon"}),i.jsx("option",{value:"rare",children:"Rare"}),i.jsx("option",{value:"epic",children:"Epic"}),i.jsx("option",{value:"legendary",children:"Legendary"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Value"}),i.jsx("input",{type:"number",value:e.itemEditor.value,onChange:p=>t({...e,itemEditor:{...e.itemEditor,value:parseInt(p.target.value)||0}}),min:"0",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Description"}),i.jsx("textarea",{value:e.itemEditor.description,onChange:p=>t({...e,itemEditor:{...e.itemEditor,description:p.target.value}}),placeholder:"Item description...",className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white h-24"})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:e.itemEditor.stackable,onChange:p=>t({...e,itemEditor:{...e.itemEditor,stackable:p.target.checked}}),className:"rounded"}),i.jsx("span",{className:"text-gray-300",children:"Stackable"})]})}),i.jsxs("button",{onClick:d,className:"bg-green-600 hover:bg-green-700 text-white px-6 py-3 rounded-lg flex items-center gap-2",children:[i.jsx(_a,{className:"w-4 h-4"}),"Create Item"]})]}),s==="terrain"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-xl font-bold text-yellow-400",children:"Terrain Editor"}),i.jsx("p",{className:"text-gray-400",children:"Terrain editing tools coming soon..."})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-700",children:[i.jsx("h4",{className:"text-lg font-bold text-gray-300 mb-4",children:"Import/Export Tools"}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[i.jsx(Zp,{className:"w-4 h-4"}),"Export Data"]}),i.jsxs("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[i.jsx(pm,{className:"w-4 h-4"}),"Import Data"]}),i.jsxs("button",{className:"bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg flex items-center gap-2",children:[i.jsx(Yd,{className:"w-4 h-4"}),"Save Template"]})]})]})]})}):i.jsx("div",{className:"fixed bottom-4 right-4",children:i.jsx("button",{onClick:()=>t({...e,enabled:!0}),className:"bg-purple-600 hover:bg-purple-700 text-white p-3 rounded-full shadow-lg",title:"Enable Dev Mode",children:i.jsx(ys,{className:"w-6 h-6"})})})},Mm=({onLoadGame:e,onMainMenu:t})=>(I.useEffect(()=>{const n=r=>{r.stopPropagation()};return document.addEventListener("keydown",n,!0),()=>document.removeEventListener("keydown",n,!0)},[]),i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-95 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-gray-900 rounded-lg p-8 max-w-md w-full mx-4 border-4 border-red-600 text-center",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx(um,{className:"w-24 h-24 mx-auto mb-4 text-red-500 animate-pulse"}),i.jsx("h2",{className:"text-4xl font-bold text-red-400 mb-2",children:"GAME OVER"}),i.jsx("p",{className:"text-gray-300 text-lg",children:"You have fallen in the wasteland..."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("button",{onClick:e,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 rounded-lg transition-all flex items-center justify-center gap-2",children:[i.jsx(Qd,{className:"w-5 h-5"}),"Load Last Save"]}),i.jsxs("button",{onClick:t,className:"w-full bg-gray-600 hover:bg-gray-700 text-white font-bold py-3 px-6 rounded-lg transition-all flex items-center justify-center gap-2",children:[i.jsx(im,{className:"w-5 h-5"}),"Main Menu"]})]}),i.jsx("div",{className:"mt-6 text-sm text-gray-500",children:'"In the wasteland, death is just another beginning..."'})]})}));function Im(){const{gameState:e,settings:t,gameMode:n,createNewGame:r,loadGame:a,saveGame:s,updateSettings:l,updateGameState:c,startNewGame:o,returnToMenu:d,quitGame:p,handleDialogueChoice:g,completeQuest:h,updateQuestProgress:u}=Bp(),[y,v]=I.useState(!1),[C,m]=I.useState(!1),[f,x]=I.useState(null),[w,j]=I.useState(!1),[N,E]=I.useState(null),[T,H]=I.useState(!1);I.useRef(null),I.useEffect(()=>{const S=W=>{x(W.detail)};return window.addEventListener("openLootable",S),()=>window.removeEventListener("openLootable",S)},[]),I.useEffect(()=>{e&&e.player.health<=0&&!T&&H(!0)},[e==null?void 0:e.player.health,T]);const z=()=>{console.log("Settings clicked")},me=(S,W)=>{e&&console.log("Using item:",S.name,"on character:",W)},Fe=(S,W)=>{if(e){const D=JSON.parse(JSON.stringify(e));let B=D.party.find($n=>$n.id===W);if(!B)return;const te=D.inventory.findIndex($n=>$n.id===S.id);te>=0&&D.inventory.splice(te,1);const de=S.type,nn=B.equipment[de];nn&&D.inventory.push(nn),B.equipment[de]=S,_(B);const fl=D.allCharacters.findIndex($n=>$n.id===W);fl>=0&&(D.allCharacters[fl]=B),W===D.player.id&&(D.player=B),c(D)}},Xe=(S,W,D)=>{e&&Fe(W,S)},Dt=(S,W)=>{if(e){const D=JSON.parse(JSON.stringify(e));let B=D.party.find(nn=>nn.id===S);if(!B)return;const te=B.equipment[W];if(!te)return;D.inventory.push(te),B.equipment[W]=void 0,_(B);const de=D.allCharacters.findIndex(nn=>nn.id===S);de>=0&&(D.allCharacters[de]=B),S===D.player.id&&(D.player=B),c(D)}},_=S=>{const W=S.stats;let D={damage:0,defense:0,strength:0,agility:0,intelligence:0,endurance:0,luck:0,criticalChance:0};Object.values(S.equipment).forEach(B=>{B!=null&&B.stats&&Object.entries(B.stats).forEach(([te,de])=>{te in D&&(D[te]+=de||0)})}),S.derivedStats={carryWeight:(W.strength+D.strength)*10,actionPoints:Math.floor((W.agility+D.agility)/2),criticalChance:W.luck+D.luck+D.criticalChance,damageResistance:D.defense,radiationResistance:(W.endurance+D.endurance)*2},S.equipmentBonuses=D},$=(S,W)=>{if(e!=null&&e.combat){const D=window.gameEngine;D&&D.handleCombatAction(S,W)}},fe=()=>{if(e){const S={...e};S.combat=void 0,S.gameMode="exploration",c(S)}},M=()=>{if(e){const S={...e};S.gameMode="exploration",c(S)}},q=()=>{if(e){const S={...e};S.gameMode="exploration",c(S)}},A=()=>{if(e){const S={...e};S.dialogue=void 0,S.gameMode="exploration",c(S)}},Q=()=>{if(e){const S={...e};S.gameMode="exploration",c(S)}},ie=()=>{if(e){const S={...e};S.gameMode="exploration",c(S)}},en=()=>{if(e){const S={...e};S.gameMode="exploration",c(S)}},Je=S=>{if(E(S),j(!0),e){const W={...e};W.dialogue=void 0,c(W)}},Dn=()=>{if(j(!1),E(null),e){const S={...e};S.gameMode="exploration",c(S)}},it=(S,W)=>{if(e){const D=S.value*W;if(e.gold>=D){const B={...e};B.gold-=D;const te=B.inventory.find(de=>de.id===S.id);te&&te.stackable?te.quantity=(te.quantity||1)+W:B.inventory.push({...S,quantity:S.stackable?W:1}),c(B)}}},tn=(S,W)=>{if(e){const D=Math.floor(S.value*.6)*W,B={...e};B.gold+=D;const te=B.inventory.findIndex(de=>de.id===S.id);if(te>=0){const de=B.inventory[te];de.quantity&&de.quantity>W?de.quantity-=W:B.inventory.splice(te,1)}c(B)}},Gd=S=>{e&&c({...e,devMode:S})},Kd=S=>{e&&c({...e,quests:[...e.quests,S]})},Xd=S=>{e&&c({...e,currentMap:{...e.currentMap,npcs:[...e.currentMap.npcs,S]}})},Jd=S=>{e&&c({...e,inventory:[...e.inventory,S]})},ml=(S,W)=>{if(e&&f){const D=e.inventory.find(te=>te.id===S.id&&te.stackable);D?D.quantity=(D.quantity||1)+(W||1):e.inventory.push({...S,quantity:W||1});const B=f.items.findIndex((te,de)=>`${te.id}_${de}`==`${S.id}_${f.items.indexOf(S)}`);B>=0&&f.items.splice(B,1),c({...e})}},Zd=()=>{e&&f&&(f.items.forEach(S=>{ml(S,S.quantity)}),f.items=[],f.looted=!0,c({...e}))},eu=()=>{H(!1),setGameMode("menu")},tu=()=>{H(!1),setGameMode("menu"),setGameState(null)};switch(n){case"menu":return i.jsx(fm,{onNewGame:o,onLoadGame:a,onSettings:z,onQuit:p});case"character-creation":return i.jsx(gm,{onCreateCharacter:S=>r(S.name,S.class),onBack:d});case"playing":return e?T?i.jsx(Mm,{onLoadGame:eu,onMainMenu:tu}):e.gameMode==="inventory"?i.jsx(vm,{inventory:e.inventory,party:e.party,onUseItem:me,onEquipItem:Fe,onClose:M}):e.gameMode==="equipment"?i.jsx(wm,{party:e.party,inventory:e.inventory,onEquipItem:Xe,onUnequipItem:Dt,onClose:q}):e.gameMode==="dialogue"&&e.dialogue?i.jsx(Mo,{dialogue:e.dialogue,npcs:e.currentMap.npcs,onChoice:g,onOpenTrading:Je,onClose:A}):w&&N?i.jsx(_m,{npc:N,playerInventory:e.inventory,playerGold:e.gold,onBuyItem:it,onSellItem:tn,onClose:Dn}):e.gameMode==="quests"?i.jsx(Nm,{quests:e.quests,completedQuests:e.completedQuests,onClose:Q}):e.gameMode==="character"?i.jsx(jm,{character:e.player,onClose:ie}):e.gameMode==="map"?i.jsx(km,{gameMap:e.currentMap,playerPosition:e.player.position,visibilityMap:e.visibilityMap,onClose:en}):e.gameMode==="combat"&&e.combat?i.jsx(bm,{combatState:e.combat,onAction:$,onEndCombat:fe}):i.jsxs("div",{className:"relative",children:[i.jsx(xm,{gameState:e,onGameStateChange:c}),f&&i.jsx(Cm,{lootable:f,playerInventory:e.inventory,onTakeItem:ml,onTakeAll:Zd,onClose:()=>x(null)}),e.dialogue&&i.jsx(Mo,{dialogue:e.dialogue,npcs:e.currentMap.npcs,onChoice:g,onOpenTrading:Je,onClose:()=>{c({...e,dialogue:void 0,gameMode:"exploration"})}}),C&&i.jsx(Em,{quests:e.quests,completedQuests:e.completedQuests,onClose:()=>m(!1)}),y&&i.jsx(Sm,{character:e.player,onClose:()=>v(!1)}),e.devMode&&i.jsx(Tm,{devMode:e.devMode,onUpdateDevMode:Gd,onCreateQuest:Kd,onCreateNPC:Xd,onCreateItem:Jd}),i.jsxs("div",{className:"absolute top-4 right-4 space-y-2",children:[i.jsx("button",{onClick:()=>{const S={...e};S.gameMode="inventory",c(S)},className:"bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 transition-all block",children:"Inventory (I)"}),i.jsx("button",{onClick:()=>{const S={...e};S.gameMode="equipment",c(S)},className:"bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 transition-all block",children:"Equipment (E)"}),i.jsx("button",{onClick:()=>{const S={...e};S.gameMode="character",c(S)},className:"bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 transition-all block",children:"Character (C)"}),i.jsx("button",{onClick:()=>{const S={...e};S.gameMode="quests",c(S)},className:"bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 transition-all block",children:"Quests (Q)"}),i.jsx("button",{onClick:()=>{const S={...e};S.gameMode="map",c(S)},className:"bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 transition-all block",children:"Map (M)"}),i.jsx("button",{onClick:()=>s(1),className:"bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-lg border border-gray-600 transition-all block",children:"Quick Save"}),i.jsx("button",{onClick:d,className:"bg-red-800 hover:bg-red-700 text-white px-4 py-2 rounded-lg border border-red-600 transition-all block",children:"Main Menu"})]}),i.jsxs("div",{className:"absolute bottom-4 left-4 bg-black bg-opacity-70 text-white p-4 rounded-lg max-w-md",children:[i.jsx("h3",{className:"font-bold mb-2",children:"Controls:"}),i.jsxs("div",{className:"text-sm space-y-1",children:[i.jsx("div",{children:" Arrow Keys / WASD: Move"}),i.jsx("div",{children:" Space: Interact with NPCs/Enemies"}),i.jsx("div",{children:" I: Inventory"}),i.jsx("div",{children:" E: Equipment"}),i.jsx("div",{children:" M: Map"}),i.jsx("div",{children:" C: Character Sheet"}),i.jsx("div",{children:" Q: Quests"}),i.jsx("div",{children:" F1: Dev Mode"}),i.jsx("div",{children:" F: Interact"}),i.jsx("div",{children:" ESC: Menu"})]})]})]}):i.jsx("div",{children:"Loading..."});default:return i.jsx("div",{children:"Loading..."})}}Fd(document.getElementById("root")).render(i.jsx(I.StrictMode,{children:i.jsx(Im,{})}));
